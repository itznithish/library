(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Qy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Kc={exports:{}},Za={};var sp;function T_(){if(sp)return Za;sp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:i,type:a,key:c,ref:l!==void 0?l:null,props:o}}return Za.Fragment=t,Za.jsx=n,Za.jsxs=n,Za}var ap;function O_(){return ap||(ap=1,Kc.exports=T_()),Kc.exports}var N=O_(),Fc={exports:{}},ut={};var rp;function A_(){if(rp)return ut;rp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=v&&A[v]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function R(A,V,K){this.props=A,this.context=V,this.refs=E,this.updater=K||x}R.prototype.isReactComponent={},R.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function z(){}z.prototype=R.prototype;function C(A,V,K){this.props=A,this.context=V,this.refs=E,this.updater=K||x}var U=C.prototype=new z;U.constructor=C,S(U,R.prototype),U.isPureReactComponent=!0;var Y=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function W(A,V,K){var X=K.ref;return{$$typeof:i,type:A,key:V,ref:X!==void 0?X:null,props:K}}function ft(A,V){return W(A.type,V,A.props)}function rt(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function lt(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return V[K]})}var $t=/\/+/g;function Qt(A,V){return typeof A=="object"&&A!==null&&A.key!=null?lt(""+A.key):V.toString(36)}function vt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,V,K,X,at){var ot=typeof A;(ot==="undefined"||ot==="boolean")&&(A=null);var At=!1;if(A===null)At=!0;else switch(ot){case"bigint":case"string":case"number":At=!0;break;case"object":switch(A.$$typeof){case i:case t:At=!0;break;case p:return At=A._init,L(At(A._payload),V,K,X,at)}}if(At)return at=at(A),At=X===""?"."+Qt(A,0):X,Y(at)?(K="",At!=null&&(K=At.replace($t,"$&/")+"/"),L(at,V,K,"",function(ra){return ra})):at!=null&&(rt(at)&&(at=ft(at,K+(at.key==null||A&&A.key===at.key?"":(""+at.key).replace($t,"$&/")+"/")+At)),V.push(at)),1;At=0;var be=X===""?".":X+":";if(Y(A))for(var Gt=0;Gt<A.length;Gt++)X=A[Gt],ot=be+Qt(X,Gt),At+=L(X,V,K,ot,at);else if(Gt=w(A),typeof Gt=="function")for(A=Gt.call(A),Gt=0;!(X=A.next()).done;)X=X.value,ot=be+Qt(X,Gt++),At+=L(X,V,K,ot,at);else if(ot==="object"){if(typeof A.then=="function")return L(vt(A),V,K,X,at);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return At}function G(A,V,K){if(A==null)return A;var X=[],at=0;return L(A,X,"","",function(ot){return V.call(K,ot,at++)}),X}function et(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var _t=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},bt={map:G,forEach:function(A,V,K){G(A,function(){V.apply(this,arguments)},K)},count:function(A){var V=0;return G(A,function(){V++}),V},toArray:function(A){return G(A,function(V){return V})||[]},only:function(A){if(!rt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ut.Activity=b,ut.Children=bt,ut.Component=R,ut.Fragment=n,ut.Profiler=l,ut.PureComponent=C,ut.StrictMode=a,ut.Suspense=d,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ut.__COMPILER_RUNTIME={__proto__:null,c:function(A){return P.H.useMemoCache(A)}},ut.cache=function(A){return function(){return A.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(A,V,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=S({},A.props),at=A.key;if(V!=null)for(ot in V.key!==void 0&&(at=""+V.key),V)!F.call(V,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&V.ref===void 0||(X[ot]=V[ot]);var ot=arguments.length-2;if(ot===1)X.children=K;else if(1<ot){for(var At=Array(ot),be=0;be<ot;be++)At[be]=arguments[be+2];X.children=At}return W(A.type,at,X)},ut.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},ut.createElement=function(A,V,K){var X,at={},ot=null;if(V!=null)for(X in V.key!==void 0&&(ot=""+V.key),V)F.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(at[X]=V[X]);var At=arguments.length-2;if(At===1)at.children=K;else if(1<At){for(var be=Array(At),Gt=0;Gt<At;Gt++)be[Gt]=arguments[Gt+2];at.children=be}if(A&&A.defaultProps)for(X in At=A.defaultProps,At)at[X]===void 0&&(at[X]=At[X]);return W(A,ot,at)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(A){return{$$typeof:h,render:A}},ut.isValidElement=rt,ut.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:et}},ut.memo=function(A,V){return{$$typeof:m,type:A,compare:V===void 0?null:V}},ut.startTransition=function(A){var V=P.T,K={};P.T=K;try{var X=A(),at=P.S;at!==null&&at(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,_t)}catch(ot){_t(ot)}finally{V!==null&&K.types!==null&&(V.types=K.types),P.T=V}},ut.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ut.use=function(A){return P.H.use(A)},ut.useActionState=function(A,V,K){return P.H.useActionState(A,V,K)},ut.useCallback=function(A,V){return P.H.useCallback(A,V)},ut.useContext=function(A){return P.H.useContext(A)},ut.useDebugValue=function(){},ut.useDeferredValue=function(A,V){return P.H.useDeferredValue(A,V)},ut.useEffect=function(A,V){return P.H.useEffect(A,V)},ut.useEffectEvent=function(A){return P.H.useEffectEvent(A)},ut.useId=function(){return P.H.useId()},ut.useImperativeHandle=function(A,V,K){return P.H.useImperativeHandle(A,V,K)},ut.useInsertionEffect=function(A,V){return P.H.useInsertionEffect(A,V)},ut.useLayoutEffect=function(A,V){return P.H.useLayoutEffect(A,V)},ut.useMemo=function(A,V){return P.H.useMemo(A,V)},ut.useOptimistic=function(A,V){return P.H.useOptimistic(A,V)},ut.useReducer=function(A,V,K){return P.H.useReducer(A,V,K)},ut.useRef=function(A){return P.H.useRef(A)},ut.useState=function(A){return P.H.useState(A)},ut.useSyncExternalStore=function(A,V,K){return P.H.useSyncExternalStore(A,V,K)},ut.useTransition=function(){return P.H.useTransition()},ut.version="19.2.3",ut}var lp;function Uh(){return lp||(lp=1,Fc.exports=A_()),Fc.exports}var xt=Uh();const R_=Qy(xt);var Xc={exports:{}},tr={},Qc={exports:{}},Jc={};var op;function k_(){return op||(op=1,(function(i){function t(L,G){var et=L.length;L.push(G);t:for(;0<et;){var _t=et-1>>>1,bt=L[_t];if(0<l(bt,G))L[_t]=G,L[et]=bt,et=_t;else break t}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var G=L[0],et=L.pop();if(et!==G){L[0]=et;t:for(var _t=0,bt=L.length,A=bt>>>1;_t<A;){var V=2*(_t+1)-1,K=L[V],X=V+1,at=L[X];if(0>l(K,et))X<bt&&0>l(at,K)?(L[_t]=at,L[X]=et,_t=X):(L[_t]=K,L[V]=et,_t=V);else if(X<bt&&0>l(at,et))L[_t]=at,L[X]=et,_t=X;else break t}}return G}function l(L,G){var et=L.sortIndex-G.sortIndex;return et!==0?et:L.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var d=[],m=[],p=1,b=null,v=3,w=!1,x=!1,S=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function U(L){for(var G=n(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=L)a(m),G.sortIndex=G.expirationTime,t(d,G);else break;G=n(m)}}function Y(L){if(S=!1,U(L),!x)if(n(d)!==null)x=!0,I||(I=!0,lt());else{var G=n(m);G!==null&&vt(Y,G.startTime-L)}}var I=!1,P=-1,F=5,W=-1;function ft(){return E?!0:!(i.unstable_now()-W<F)}function rt(){if(E=!1,I){var L=i.unstable_now();W=L;var G=!0;try{t:{x=!1,S&&(S=!1,z(P),P=-1),w=!0;var et=v;try{e:{for(U(L),b=n(d);b!==null&&!(b.expirationTime>L&&ft());){var _t=b.callback;if(typeof _t=="function"){b.callback=null,v=b.priorityLevel;var bt=_t(b.expirationTime<=L);if(L=i.unstable_now(),typeof bt=="function"){b.callback=bt,U(L),G=!0;break e}b===n(d)&&a(d),U(L)}else a(d);b=n(d)}if(b!==null)G=!0;else{var A=n(m);A!==null&&vt(Y,A.startTime-L),G=!1}}break t}finally{b=null,v=et,w=!1}G=void 0}}finally{G?lt():I=!1}}}var lt;if(typeof C=="function")lt=function(){C(rt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,Qt=$t.port2;$t.port1.onmessage=rt,lt=function(){Qt.postMessage(null)}}else lt=function(){R(rt,0)};function vt(L,G){P=R(function(){L(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(L){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var et=v;v=G;try{return L()}finally{v=et}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var et=v;v=L;try{return G()}finally{v=et}},i.unstable_scheduleCallback=function(L,G,et){var _t=i.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?_t+et:_t):et=_t,L){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=et+bt,L={id:p++,callback:G,priorityLevel:L,startTime:et,expirationTime:bt,sortIndex:-1},et>_t?(L.sortIndex=et,t(m,L),n(d)===null&&L===n(m)&&(S?(z(P),P=-1):S=!0,vt(Y,et-_t))):(L.sortIndex=bt,t(d,L),x||w||(x=!0,I||(I=!0,lt()))),L},i.unstable_shouldYield=ft,i.unstable_wrapCallback=function(L){var G=v;return function(){var et=v;v=G;try{return L.apply(this,arguments)}finally{v=et}}}})(Jc)),Jc}var up;function C_(){return up||(up=1,Qc.exports=k_()),Qc.exports}var Wc={exports:{}},ge={};var cp;function M_(){if(cp)return ge;cp=1;var i=Uh();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(d,m,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:d,containerInfo:m,implementation:p}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ge.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,p)},ge.flushSync=function(d){var m=c.T,p=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=m,a.p=p,a.d.f()}},ge.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(d,m))},ge.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},ge.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,b=h(p,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?a.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:w}):p==="script"&&a.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ge.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=h(m.as,m.crossOrigin);a.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(d)},ge.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,b=h(p,m.crossOrigin);a.d.L(d,p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ge.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=h(m.as,m.crossOrigin);a.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(d)},ge.requestFormReset=function(d){a.d.r(d)},ge.unstable_batchedUpdates=function(d,m){return d(m)},ge.useFormState=function(d,m,p){return c.H.useFormState(d,m,p)},ge.useFormStatus=function(){return c.H.useHostTransitionStatus()},ge.version="19.2.3",ge}var hp;function D_(){if(hp)return Wc.exports;hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wc.exports=M_(),Wc.exports}var fp;function j_(){if(fp)return tr;fp=1;var i=C_(),t=Uh(),n=D_();function a(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function h(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(a(188))}function m(e){var s=e.alternate;if(!s){if(s=o(e),s===null)throw Error(a(188));return s!==e?null:e}for(var r=e,u=s;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){r=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return d(f),e;if(g===u)return d(f),s;g=g.sibling}throw Error(a(188))}if(r.return!==u.return)r=f,u=g;else{for(var y=!1,_=f.child;_;){if(_===r){y=!0,r=f,u=g;break}if(_===u){y=!0,u=f,r=g;break}_=_.sibling}if(!y){for(_=g.child;_;){if(_===r){y=!0,r=g,u=f;break}if(_===u){y=!0,u=g,r=f;break}_=_.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==u)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:s}function p(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=p(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),C=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function lt(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$t?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case R:return"Profiler";case E:return"StrictMode";case Y:return"Suspense";case I:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case C:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case U:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return s=e.displayName||null,s!==null?s:Qt(e.type)||"Memo";case F:s=e._payload,e=e._init;try{return Qt(e(s))}catch{}}return null}var vt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},_t=[],bt=-1;function A(e){return{current:e}}function V(e){0>bt||(e.current=_t[bt],_t[bt]=null,bt--)}function K(e,s){bt++,_t[bt]=e.current,e.current=s}var X=A(null),at=A(null),ot=A(null),At=A(null);function be(e,s){switch(K(ot,s),K(at,e),K(X,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Am(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Am(s),e=Rm(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(X),K(X,e)}function Gt(){V(X),V(at),V(ot)}function ra(e){e.memoizedState!==null&&K(At,e);var s=X.current,r=Rm(s,e.type);s!==r&&(K(at,e),K(X,r))}function Rr(e){at.current===e&&(V(X),V(at)),At.current===e&&(V(At),Xa._currentValue=et)}var ko,nf;function xi(e){if(ko===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);ko=s&&s[1]||"",nf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+nf}var Co=!1;function Mo(e,s){if(!e||Co)return"";Co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var j=B}Reflect.construct(e,[],$)}else{try{$.call()}catch(B){j=B}e.call($.prototype)}}else{try{throw Error()}catch(B){j=B}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),y=g[0],_=g[1];if(y&&_){var T=y.split(`
`),D=_.split(`
`);for(f=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(u===T.length||f===D.length)for(u=T.length-1,f=D.length-1;1<=u&&0<=f&&T[u]!==D[f];)f--;for(;1<=u&&0<=f;u--,f--)if(T[u]!==D[f]){if(u!==1||f!==1)do if(u--,f--,0>f||T[u]!==D[f]){var H=`
`+T[u].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=u&&0<=f);break}}}finally{Co=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?xi(r):""}function nb(e,s){switch(e.tag){case 26:case 27:case 5:return xi(e.type);case 16:return xi("Lazy");case 13:return e.child!==s&&s!==null?xi("Suspense Fallback"):xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return Mo(e.type,!1);case 11:return Mo(e.type.render,!1);case 1:return Mo(e.type,!0);case 31:return xi("Activity");default:return""}}function sf(e){try{var s="",r=null;do s+=nb(e,r),r=e,e=e.return;while(e);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Do=Object.prototype.hasOwnProperty,jo=i.unstable_scheduleCallback,zo=i.unstable_cancelCallback,ib=i.unstable_shouldYield,sb=i.unstable_requestPaint,ke=i.unstable_now,ab=i.unstable_getCurrentPriorityLevel,af=i.unstable_ImmediatePriority,rf=i.unstable_UserBlockingPriority,kr=i.unstable_NormalPriority,rb=i.unstable_LowPriority,lf=i.unstable_IdlePriority,lb=i.log,ob=i.unstable_setDisableYieldValue,la=null,Ce=null;function Pn(e){if(typeof lb=="function"&&ob(e),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(la,e)}catch{}}var Me=Math.clz32?Math.clz32:hb,ub=Math.log,cb=Math.LN2;function hb(e){return e>>>=0,e===0?32:31-(ub(e)/cb|0)|0}var Cr=256,Mr=262144,Dr=4194304;function Ei(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jr(e,s,r){var u=e.pendingLanes;if(u===0)return 0;var f=0,g=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=u&134217727;return _!==0?(u=_&~g,u!==0?f=Ei(u):(y&=_,y!==0?f=Ei(y):r||(r=_&~e,r!==0&&(f=Ei(r))))):(_=u&~g,_!==0?f=Ei(_):y!==0?f=Ei(y):r||(r=u&~e,r!==0&&(f=Ei(r)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,r=s&-s,g>=r||g===32&&(r&4194048)!==0)?s:f}function oa(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function fb(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function of(){var e=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),e}function No(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function ua(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function db(e,s,r,u,f,g){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,T=e.expirationTimes,D=e.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Me(r),$=1<<H;_[H]=0,T[H]=-1;var j=D[H];if(j!==null)for(D[H]=null,H=0;H<j.length;H++){var B=j[H];B!==null&&(B.lane&=-536870913)}r&=~$}u!==0&&uf(e,u,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(y&~s))}function uf(e,s,r){e.pendingLanes|=s,e.suspendedLanes&=~s;var u=31-Me(s);e.entangledLanes|=s,e.entanglements[u]=e.entanglements[u]|1073741824|r&261930}function cf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var u=31-Me(r),f=1<<u;f&s|e[u]&s&&(e[u]|=s),r&=~f}}function hf(e,s){var r=s&-s;return r=(r&42)!==0?1:Uo(r),(r&(e.suspendedLanes|s))!==0?0:r}function Uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ff(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Jm(e.type))}function df(e,s){var r=G.p;try{return G.p=e,s()}finally{G.p=r}}var In=Math.random().toString(36).slice(2),le="__reactFiber$"+In,_e="__reactProps$"+In,ns="__reactContainer$"+In,Bo="__reactEvents$"+In,gb="__reactListeners$"+In,mb="__reactHandles$"+In,gf="__reactResources$"+In,ca="__reactMarker$"+In;function Ho(e){delete e[le],delete e[_e],delete e[Bo],delete e[gb],delete e[mb]}function is(e){var s=e[le];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ns]||r[le]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=Nm(e);e!==null;){if(r=e[le])return r;e=Nm(e)}return s}e=r,r=e.parentNode}return null}function ss(e){if(e=e[le]||e[ns]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function ha(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(a(33))}function as(e){var s=e[gf];return s||(s=e[gf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ae(e){e[ca]=!0}var mf=new Set,pf={};function Ti(e,s){rs(e,s),rs(e+"Capture",s)}function rs(e,s){for(pf[e]=s,e=0;e<s.length;e++)mf.add(s[e])}var pb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yf={},bf={};function yb(e){return Do.call(bf,e)?!0:Do.call(yf,e)?!1:pb.test(e)?bf[e]=!0:(yf[e]=!0,!1)}function zr(e,s,r){if(yb(s))if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+r)}}function Nr(e,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+r)}}function vn(e,s,r,u){if(u===null)e.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(s,r,""+u)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bb(e,s,r){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(y){r=""+y,g.call(this,y)}}),Object.defineProperty(e,s,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function qo(e){if(!e._valueTracker){var s=vf(e)?"checked":"value";e._valueTracker=bb(e,s,""+e[s])}}function _f(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),u="";return e&&(u=vf(e)?e.checked?"true":"false":e.value),e=u,e!==r?(s.setValue(e),!0):!1}function Ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vb=/[\n"\\]/g;function Ie(e){return e.replace(vb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vo(e,s,r,u,f,g,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),s!=null?y==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Pe(s)):e.value!==""+Pe(s)&&(e.value=""+Pe(s)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),s!=null?$o(e,y,Pe(s)):r!=null?$o(e,y,Pe(r)):u!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Pe(_):e.removeAttribute("name")}function wf(e,s,r,u,f,g,y,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),s!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){qo(e);return}r=r!=null?""+Pe(r):"",s=s!=null?""+Pe(s):r,_||s===e.value||(e.value=s),e.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=_?e.checked:!!u,e.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),qo(e)}function $o(e,s,r){s==="number"&&Ur(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ls(e,s,r,u){if(e=e.options,s){s={};for(var f=0;f<r.length;f++)s["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=s.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&u&&(e[r].defaultSelected=!0)}else{for(r=""+Pe(r),s=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Sf(e,s,r){if(s!=null&&(s=""+Pe(s),s!==e.value&&(e.value=s),r==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=r!=null?""+Pe(r):""}function xf(e,s,r,u){if(s==null){if(u!=null){if(r!=null)throw Error(a(92));if(vt(u)){if(1<u.length)throw Error(a(93));u=u[0]}r=u}r==null&&(r=""),s=r}r=Pe(s),e.defaultValue=r,u=e.textContent,u===r&&u!==""&&u!==null&&(e.value=u),qo(e)}function os(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var _b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ef(e,s,r){var u=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":u?e.setProperty(s,r):typeof r!="number"||r===0||_b.has(s)?s==="float"?e.cssFloat=r:e[s]=(""+r).trim():e[s]=r+"px"}function Tf(e,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(e=e.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&r[f]!==u&&Ef(e,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Ef(e,g,s[g])}function Po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lr(e){return Sb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var Io=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,cs=null;function Of(e){var s=ss(e);if(s&&(e=s.stateNode)){var r=e[_e]||null;t:switch(e=s.stateNode,s.type){case"input":if(Vo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ie(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var u=r[s];if(u!==e&&u.form===e.form){var f=u[_e]||null;if(!f)throw Error(a(90));Vo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<r.length;s++)u=r[s],u.form===e.form&&_f(u)}break t;case"textarea":Sf(e,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&ls(e,!!r.multiple,s,!1)}}}var Go=!1;function Af(e,s,r){if(Go)return e(s,r);Go=!0;try{var u=e(s);return u}finally{if(Go=!1,(us!==null||cs!==null)&&(El(),us&&(s=us,e=cs,cs=us=null,Of(s),e)))for(s=0;s<e.length;s++)Of(e[s])}}function fa(e,s){var r=e.stateNode;if(r===null)return null;var u=r[_e]||null;if(u===null)return null;r=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(wn)try{var da={};Object.defineProperty(da,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Ko=!1}var Yn=null,Fo=null,Br=null;function Rf(){if(Br)return Br;var e,s=Fo,r=s.length,u,f="value"in Yn?Yn.value:Yn.textContent,g=f.length;for(e=0;e<r&&s[e]===f[e];e++);var y=r-e;for(u=1;u<=y&&s[r-u]===f[g-u];u++);return Br=f.slice(e,1<u?1-u:void 0)}function Hr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function qr(){return!0}function kf(){return!1}function we(e){function s(r,u,f,g,y){this._reactName=r,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qr:kf,this.isPropagationStopped=kf,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=we(Oi),ga=b({},Oi,{view:0,detail:0}),xb=we(ga),Xo,Qo,ma,$r=b({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(Xo=e.screenX-ma.screenX,Qo=e.screenY-ma.screenY):Qo=Xo=0,ma=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),Cf=we($r),Eb=b({},$r,{dataTransfer:0}),Tb=we(Eb),Ob=b({},ga,{relatedTarget:0}),Jo=we(Ob),Ab=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=we(Ab),kb=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cb=we(kb),Mb=b({},Oi,{data:0}),Mf=we(Mb),Db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nb(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=zb[e])?!!s[e]:!1}function Wo(){return Nb}var Ub=b({},ga,{key:function(e){if(e.key){var s=Db[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lb=we(Ub),Bb=b({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=we(Bb),Hb=b({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),qb=we(Hb),Vb=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$b=we(Vb),Pb=b({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ib=we(Pb),Yb=b({},Oi,{newState:0,oldState:0}),Gb=we(Yb),Kb=[9,13,27,32],Zo=wn&&"CompositionEvent"in window,pa=null;wn&&"documentMode"in document&&(pa=document.documentMode);var Fb=wn&&"TextEvent"in window&&!pa,jf=wn&&(!Zo||pa&&8<pa&&11>=pa),zf=" ",Nf=!1;function Uf(e,s){switch(e){case"keyup":return Kb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function Xb(e,s){switch(e){case"compositionend":return Lf(s);case"keypress":return s.which!==32?null:(Nf=!0,zf);case"textInput":return e=s.data,e===zf&&Nf?null:e;default:return null}}function Qb(e,s){if(hs)return e==="compositionend"||!Zo&&Uf(e,s)?(e=Rf(),Br=Fo=Yn=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jf&&s.locale!=="ko"?null:s.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Jb[e.type]:s==="textarea"}function Hf(e,s,r,u){us?cs?cs.push(u):cs=[u]:us=u,s=Ml(s,"onChange"),0<s.length&&(r=new Vr("onChange","change",null,r,u),e.push({event:r,listeners:s}))}var ya=null,ba=null;function Wb(e){wm(e,0)}function Pr(e){var s=ha(e);if(_f(s))return e}function qf(e,s){if(e==="change")return s}var Vf=!1;if(wn){var tu;if(wn){var eu="oninput"in document;if(!eu){var $f=document.createElement("div");$f.setAttribute("oninput","return;"),eu=typeof $f.oninput=="function"}tu=eu}else tu=!1;Vf=tu&&(!document.documentMode||9<document.documentMode)}function Pf(){ya&&(ya.detachEvent("onpropertychange",If),ba=ya=null)}function If(e){if(e.propertyName==="value"&&Pr(ba)){var s=[];Hf(s,ba,e,Yo(e)),Af(Wb,s)}}function Zb(e,s,r){e==="focusin"?(Pf(),ya=s,ba=r,ya.attachEvent("onpropertychange",If)):e==="focusout"&&Pf()}function tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pr(ba)}function ev(e,s){if(e==="click")return Pr(s)}function nv(e,s){if(e==="input"||e==="change")return Pr(s)}function iv(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var De=typeof Object.is=="function"?Object.is:iv;function va(e,s){if(De(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),u=Object.keys(s);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var f=r[u];if(!Do.call(s,f)||!De(e[f],s[f]))return!1}return!0}function Yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gf(e,s){var r=Yf(e);e=0;for(var u;r;){if(r.nodeType===3){if(u=e+r.textContent.length,e<=s&&u>=s)return{node:r,offset:s-e};e=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Yf(r)}}function Kf(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Kf(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Ff(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Ur(e.document);s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Ur(e.document)}return s}function nu(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var sv=wn&&"documentMode"in document&&11>=document.documentMode,fs=null,iu=null,_a=null,su=!1;function Xf(e,s,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;su||fs==null||fs!==Ur(u)||(u=fs,"selectionStart"in u&&nu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_a&&va(_a,u)||(_a=u,u=Ml(iu,"onSelect"),0<u.length&&(s=new Vr("onSelect","select",null,s,r),e.push({event:s,listeners:u}),s.target=fs)))}function Ai(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var ds={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},au={},Qf={};wn&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ri(e){if(au[e])return au[e];if(!ds[e])return e;var s=ds[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Qf)return au[e]=s[r];return e}var Jf=Ri("animationend"),Wf=Ri("animationiteration"),Zf=Ri("animationstart"),av=Ri("transitionrun"),rv=Ri("transitionstart"),lv=Ri("transitioncancel"),td=Ri("transitionend"),ed=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function sn(e,s){ed.set(e,s),Ti(s,[e])}var Ir=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ye=[],gs=0,lu=0;function Yr(){for(var e=gs,s=lu=gs=0;s<e;){var r=Ye[s];Ye[s++]=null;var u=Ye[s];Ye[s++]=null;var f=Ye[s];Ye[s++]=null;var g=Ye[s];if(Ye[s++]=null,u!==null&&f!==null){var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}g!==0&&nd(r,f,g)}}function Gr(e,s,r,u){Ye[gs++]=e,Ye[gs++]=s,Ye[gs++]=r,Ye[gs++]=u,lu|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function ou(e,s,r,u){return Gr(e,s,r,u),Kr(e)}function ki(e,s){return Gr(e,null,null,s),Kr(e)}function nd(e,s,r){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r);for(var f=!1,g=e.return;g!==null;)g.childLanes|=r,u=g.alternate,u!==null&&(u.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&s!==null&&(f=31-Me(r),e=g.hiddenUpdates,u=e[f],u===null?e[f]=[s]:u.push(s),s.lane=r|536870912),g):null}function Kr(e){if(50<$a)throw $a=0,yc=null,Error(a(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ms={};function ov(e,s,r,u){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(e,s,r,u){return new ov(e,s,r,u)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sn(e,s){var r=e.alternate;return r===null?(r=je(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function id(e,s){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,s=r.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Fr(e,s,r,u,f,g){var y=0;if(u=e,typeof e=="function")uu(e)&&(y=1);else if(typeof e=="string")y=d_(e,r,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case W:return e=je(31,r,s,f),e.elementType=W,e.lanes=g,e;case S:return Ci(r.children,f,g,s);case E:y=8,f|=24;break;case R:return e=je(12,r,s,f|2),e.elementType=R,e.lanes=g,e;case Y:return e=je(13,r,s,f),e.elementType=Y,e.lanes=g,e;case I:return e=je(19,r,s,f),e.elementType=I,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break t;case z:y=9;break t;case U:y=11;break t;case P:y=14;break t;case F:y=16,u=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),u=null}return s=je(y,r,s,f),s.elementType=e,s.type=u,s.lanes=g,s}function Ci(e,s,r,u){return e=je(7,e,u,s),e.lanes=r,e}function cu(e,s,r){return e=je(6,e,null,s),e.lanes=r,e}function sd(e){var s=je(18,null,null,0);return s.stateNode=e,s}function hu(e,s,r){return s=je(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var ad=new WeakMap;function Ge(e,s){if(typeof e=="object"&&e!==null){var r=ad.get(e);return r!==void 0?r:(s={value:e,source:s,stack:sf(s)},ad.set(e,s),s)}return{value:e,source:s,stack:sf(s)}}var ps=[],ys=0,Xr=null,wa=0,Ke=[],Fe=0,Gn=null,fn=1,dn="";function xn(e,s){ps[ys++]=wa,ps[ys++]=Xr,Xr=e,wa=s}function rd(e,s,r){Ke[Fe++]=fn,Ke[Fe++]=dn,Ke[Fe++]=Gn,Gn=e;var u=fn;e=dn;var f=32-Me(u)-1;u&=~(1<<f),r+=1;var g=32-Me(s)+f;if(30<g){var y=f-f%5;g=(u&(1<<y)-1).toString(32),u>>=y,f-=y,fn=1<<32-Me(s)+f|r<<f|u,dn=g+e}else fn=1<<g|r<<f|u,dn=e}function fu(e){e.return!==null&&(xn(e,1),rd(e,1,0))}function du(e){for(;e===Xr;)Xr=ps[--ys],ps[ys]=null,wa=ps[--ys],ps[ys]=null;for(;e===Gn;)Gn=Ke[--Fe],Ke[Fe]=null,dn=Ke[--Fe],Ke[Fe]=null,fn=Ke[--Fe],Ke[Fe]=null}function ld(e,s){Ke[Fe++]=fn,Ke[Fe++]=dn,Ke[Fe++]=Gn,fn=s.id,dn=s.overflow,Gn=e}var oe=null,Lt=null,yt=!1,Kn=null,Xe=!1,gu=Error(a(519));function Fn(e){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sa(Ge(s,e)),gu}function od(e){var s=e.stateNode,r=e.type,u=e.memoizedProps;switch(s[le]=e,s[_e]=u,r){case"dialog":gt("cancel",s),gt("close",s);break;case"iframe":case"object":case"embed":gt("load",s);break;case"video":case"audio":for(r=0;r<Ia.length;r++)gt(Ia[r],s);break;case"source":gt("error",s);break;case"img":case"image":case"link":gt("error",s),gt("load",s);break;case"details":gt("toggle",s);break;case"input":gt("invalid",s),wf(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gt("invalid",s);break;case"textarea":gt("invalid",s),xf(s,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||u.suppressHydrationWarning===!0||Tm(s.textContent,r)?(u.popover!=null&&(gt("beforetoggle",s),gt("toggle",s)),u.onScroll!=null&&gt("scroll",s),u.onScrollEnd!=null&&gt("scrollend",s),u.onClick!=null&&(s.onclick=_n),s=!0):s=!1,s||Fn(e,!0)}function ud(e){for(oe=e.return;oe;)switch(oe.tag){case 5:case 31:case 13:Xe=!1;return;case 27:case 3:Xe=!0;return;default:oe=oe.return}}function bs(e){if(e!==oe)return!1;if(!yt)return ud(e),yt=!0,!1;var s=e.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Dc(e.type,e.memoizedProps)),r=!r),r&&Lt&&Fn(e),ud(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Lt=zm(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Lt=zm(e)}else s===27?(s=Lt,oi(e.type)?(e=Lc,Lc=null,Lt=e):Lt=s):Lt=oe?Je(e.stateNode.nextSibling):null;return!0}function Mi(){Lt=oe=null,yt=!1}function mu(){var e=Kn;return e!==null&&(Te===null?Te=e:Te.push.apply(Te,e),Kn=null),e}function Sa(e){Kn===null?Kn=[e]:Kn.push(e)}var pu=A(null),Di=null,En=null;function Xn(e,s,r){K(pu,s._currentValue),s._currentValue=r}function Tn(e){e._currentValue=pu.current,V(pu)}function yu(e,s,r){for(;e!==null;){var u=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),e===r)break;e=e.return}}function bu(e,s,r,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var y=f.child;g=g.firstContext;t:for(;g!==null;){var _=g;g=f;for(var T=0;T<s.length;T++)if(_.context===s[T]){g.lanes|=r,_=g.alternate,_!==null&&(_.lanes|=r),yu(g.return,r,e),u||(y=null);break t}g=_.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(a(341));y.lanes|=r,g=y.alternate,g!==null&&(g.lanes|=r),yu(y,r,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function vs(e,s,r,u){e=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var _=f.type;De(f.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(f===At.current){if(y=f.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Xa):e=[Xa])}f=f.return}e!==null&&bu(s,e,r,u),s.flags|=262144}function Qr(e){for(e=e.firstContext;e!==null;){if(!De(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Di=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return cd(Di,e)}function Jr(e,s){return Di===null&&ji(e),cd(e,s)}function cd(e,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},En===null){if(e===null)throw Error(a(308));En=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else En=En.next=s;return r}var uv=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(r,u){e.push(u)}};this.abort=function(){s.aborted=!0,e.forEach(function(r){return r()})}},cv=i.unstable_scheduleCallback,hv=i.unstable_NormalPriority,Jt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new uv,data:new Map,refCount:0}}function xa(e){e.refCount--,e.refCount===0&&cv(hv,function(){e.controller.abort()})}var Ea=null,_u=0,_s=0,ws=null;function fv(e,s){if(Ea===null){var r=Ea=[];_u=0,_s=xc(),ws={status:"pending",value:void 0,then:function(u){r.push(u)}}}return _u++,s.then(hd,hd),s}function hd(){if(--_u===0&&Ea!==null){ws!==null&&(ws.status="fulfilled");var e=Ea;Ea=null,_s=0,ws=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function dv(e,s){var r=[],u={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<r.length;f++)(0,r[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),u}var fd=L.S;L.S=function(e,s){Xg=ke(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fv(e,s),fd!==null&&fd(e,s)};var zi=A(null);function wu(){var e=zi.current;return e!==null?e:zt.pooledCache}function Wr(e,s){s===null?K(zi,zi.current):K(zi,s.pool)}function dd(){var e=wu();return e===null?null:{parent:Jt._currentValue,pool:e}}var Ss=Error(a(460)),Su=Error(a(474)),Zr=Error(a(542)),tl={then:function(){}};function gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function md(e,s,r){switch(r=e[r],r===void 0?e.push(s):r!==s&&(s.then(_n,_n),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,yd(e),e;default:if(typeof s.status=="string")s.then(_n,_n);else{if(e=zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=s,e.status="pending",e.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,yd(e),e}throw Ui=s,Ss}}function Ni(e){try{var s=e._init;return s(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ui=r,Ss):r}}var Ui=null;function pd(){if(Ui===null)throw Error(a(459));var e=Ui;return Ui=null,e}function yd(e){if(e===Ss||e===Zr)throw Error(a(483))}var xs=null,Ta=0;function el(e){var s=Ta;return Ta+=1,xs===null&&(xs=[]),md(xs,e,s)}function Oa(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function nl(e,s){throw s.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(s),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function bd(e){function s(k,O){if(e){var M=k.deletions;M===null?(k.deletions=[O],k.flags|=16):M.push(O)}}function r(k,O){if(!e)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function u(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function f(k,O){return k=Sn(k,O),k.index=0,k.sibling=null,k}function g(k,O,M){return k.index=M,e?(M=k.alternate,M!==null?(M=M.index,M<O?(k.flags|=67108866,O):M):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function _(k,O,M,q){return O===null||O.tag!==6?(O=cu(M,k.mode,q),O.return=k,O):(O=f(O,M),O.return=k,O)}function T(k,O,M,q){var tt=M.type;return tt===S?H(k,O,M.props.children,q,M.key):O!==null&&(O.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===F&&Ni(tt)===O.type)?(O=f(O,M.props),Oa(O,M),O.return=k,O):(O=Fr(M.type,M.key,M.props,null,k.mode,q),Oa(O,M),O.return=k,O)}function D(k,O,M,q){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=hu(M,k.mode,q),O.return=k,O):(O=f(O,M.children||[]),O.return=k,O)}function H(k,O,M,q,tt){return O===null||O.tag!==7?(O=Ci(M,k.mode,q,tt),O.return=k,O):(O=f(O,M),O.return=k,O)}function $(k,O,M){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=cu(""+O,k.mode,M),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return M=Fr(O.type,O.key,O.props,null,k.mode,M),Oa(M,O),M.return=k,M;case x:return O=hu(O,k.mode,M),O.return=k,O;case F:return O=Ni(O),$(k,O,M)}if(vt(O)||lt(O))return O=Ci(O,k.mode,M,null),O.return=k,O;if(typeof O.then=="function")return $(k,el(O),M);if(O.$$typeof===C)return $(k,Jr(k,O),M);nl(k,O)}return null}function j(k,O,M,q){var tt=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return tt!==null?null:_(k,O,""+M,q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return M.key===tt?T(k,O,M,q):null;case x:return M.key===tt?D(k,O,M,q):null;case F:return M=Ni(M),j(k,O,M,q)}if(vt(M)||lt(M))return tt!==null?null:H(k,O,M,q,null);if(typeof M.then=="function")return j(k,O,el(M),q);if(M.$$typeof===C)return j(k,O,Jr(k,M),q);nl(k,M)}return null}function B(k,O,M,q,tt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return k=k.get(M)||null,_(O,k,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return k=k.get(q.key===null?M:q.key)||null,T(O,k,q,tt);case x:return k=k.get(q.key===null?M:q.key)||null,D(O,k,q,tt);case F:return q=Ni(q),B(k,O,M,q,tt)}if(vt(q)||lt(q))return k=k.get(M)||null,H(O,k,q,tt,null);if(typeof q.then=="function")return B(k,O,M,el(q),tt);if(q.$$typeof===C)return B(k,O,M,Jr(O,q),tt);nl(O,q)}return null}function Q(k,O,M,q){for(var tt=null,wt=null,J=O,ht=O=0,pt=null;J!==null&&ht<M.length;ht++){J.index>ht?(pt=J,J=null):pt=J.sibling;var St=j(k,J,M[ht],q);if(St===null){J===null&&(J=pt);break}e&&J&&St.alternate===null&&s(k,J),O=g(St,O,ht),wt===null?tt=St:wt.sibling=St,wt=St,J=pt}if(ht===M.length)return r(k,J),yt&&xn(k,ht),tt;if(J===null){for(;ht<M.length;ht++)J=$(k,M[ht],q),J!==null&&(O=g(J,O,ht),wt===null?tt=J:wt.sibling=J,wt=J);return yt&&xn(k,ht),tt}for(J=u(J);ht<M.length;ht++)pt=B(J,k,ht,M[ht],q),pt!==null&&(e&&pt.alternate!==null&&J.delete(pt.key===null?ht:pt.key),O=g(pt,O,ht),wt===null?tt=pt:wt.sibling=pt,wt=pt);return e&&J.forEach(function(di){return s(k,di)}),yt&&xn(k,ht),tt}function nt(k,O,M,q){if(M==null)throw Error(a(151));for(var tt=null,wt=null,J=O,ht=O=0,pt=null,St=M.next();J!==null&&!St.done;ht++,St=M.next()){J.index>ht?(pt=J,J=null):pt=J.sibling;var di=j(k,J,St.value,q);if(di===null){J===null&&(J=pt);break}e&&J&&di.alternate===null&&s(k,J),O=g(di,O,ht),wt===null?tt=di:wt.sibling=di,wt=di,J=pt}if(St.done)return r(k,J),yt&&xn(k,ht),tt;if(J===null){for(;!St.done;ht++,St=M.next())St=$(k,St.value,q),St!==null&&(O=g(St,O,ht),wt===null?tt=St:wt.sibling=St,wt=St);return yt&&xn(k,ht),tt}for(J=u(J);!St.done;ht++,St=M.next())St=B(J,k,ht,St.value,q),St!==null&&(e&&St.alternate!==null&&J.delete(St.key===null?ht:St.key),O=g(St,O,ht),wt===null?tt=St:wt.sibling=St,wt=St);return e&&J.forEach(function(E_){return s(k,E_)}),yt&&xn(k,ht),tt}function jt(k,O,M,q){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case w:t:{for(var tt=M.key;O!==null;){if(O.key===tt){if(tt=M.type,tt===S){if(O.tag===7){r(k,O.sibling),q=f(O,M.props.children),q.return=k,k=q;break t}}else if(O.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===F&&Ni(tt)===O.type){r(k,O.sibling),q=f(O,M.props),Oa(q,M),q.return=k,k=q;break t}r(k,O);break}else s(k,O);O=O.sibling}M.type===S?(q=Ci(M.props.children,k.mode,q,M.key),q.return=k,k=q):(q=Fr(M.type,M.key,M.props,null,k.mode,q),Oa(q,M),q.return=k,k=q)}return y(k);case x:t:{for(tt=M.key;O!==null;){if(O.key===tt)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){r(k,O.sibling),q=f(O,M.children||[]),q.return=k,k=q;break t}else{r(k,O);break}else s(k,O);O=O.sibling}q=hu(M,k.mode,q),q.return=k,k=q}return y(k);case F:return M=Ni(M),jt(k,O,M,q)}if(vt(M))return Q(k,O,M,q);if(lt(M)){if(tt=lt(M),typeof tt!="function")throw Error(a(150));return M=tt.call(M),nt(k,O,M,q)}if(typeof M.then=="function")return jt(k,O,el(M),q);if(M.$$typeof===C)return jt(k,O,Jr(k,M),q);nl(k,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,O!==null&&O.tag===6?(r(k,O.sibling),q=f(O,M),q.return=k,k=q):(r(k,O),q=cu(M,k.mode,q),q.return=k,k=q),y(k)):r(k,O)}return function(k,O,M,q){try{Ta=0;var tt=jt(k,O,M,q);return xs=null,tt}catch(J){if(J===Ss||J===Zr)throw J;var wt=je(29,J,null,k.mode);return wt.lanes=q,wt.return=k,wt}}}var Li=bd(!0),vd=bd(!1),Qn=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,s,r){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Tt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Kr(e),nd(e,null,r),s}return Gr(e,u,s,r),Kr(e)}function Aa(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var u=s.lanes;u&=e.pendingLanes,r|=u,s.lanes=r,cf(e,r)}}function Tu(e,s){var r=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=y:g=g.next=y,r=r.next}while(r!==null);g===null?f=g=s:g=g.next=s}else f=g=s;r={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}var Ou=!1;function Ra(){if(Ou){var e=ws;if(e!==null)throw e}}function ka(e,s,r,u){Ou=!1;var f=e.updateQueue;Qn=!1;var g=f.firstBaseUpdate,y=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var T=_,D=T.next;T.next=null,y===null?g=D:y.next=D,y=T;var H=e.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==y&&(_===null?H.firstBaseUpdate=D:_.next=D,H.lastBaseUpdate=T))}if(g!==null){var $=f.baseState;y=0,H=D=T=null,_=g;do{var j=_.lane&-536870913,B=j!==_.lane;if(B?(mt&j)===j:(u&j)===j){j!==0&&j===_s&&(Ou=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var Q=e,nt=_;j=s;var jt=r;switch(nt.tag){case 1:if(Q=nt.payload,typeof Q=="function"){$=Q.call(jt,$,j);break t}$=Q;break t;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=nt.payload,j=typeof Q=="function"?Q.call(jt,$,j):Q,j==null)break t;$=b({},$,j);break t;case 2:Qn=!0}}j=_.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=f.callbacks,B===null?f.callbacks=[j]:B.push(j))}else B={lane:j,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(D=H=B,T=$):H=H.next=B,y|=j;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;B=_,_=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);H===null&&(T=$),f.baseState=T,f.firstBaseUpdate=D,f.lastBaseUpdate=H,g===null&&(f.shared.lanes=0),ii|=y,e.lanes=y,e.memoizedState=$}}function _d(e,s){if(typeof e!="function")throw Error(a(191,e));e.call(s)}function wd(e,s){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)_d(r[e],s)}var Es=A(null),il=A(0);function Sd(e,s){e=zn,K(il,e),K(Es,s),zn=e|s.baseLanes}function Au(){K(il,zn),K(Es,Es.current)}function Ru(){zn=il.current,V(Es),V(il)}var ze=A(null),Qe=null;function Zn(e){var s=e.alternate;K(Kt,Kt.current&1),K(ze,e),Qe===null&&(s===null||Es.current!==null||s.memoizedState!==null)&&(Qe=e)}function ku(e){K(Kt,Kt.current),K(ze,e),Qe===null&&(Qe=e)}function xd(e){e.tag===22?(K(Kt,Kt.current),K(ze,e),Qe===null&&(Qe=e)):ti()}function ti(){K(Kt,Kt.current),K(ze,ze.current)}function Ne(e){V(ze),Qe===e&&(Qe=null),V(Kt)}var Kt=A(0);function sl(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Nc(r)||Uc(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var On=0,ct=null,Mt=null,Wt=null,al=!1,Ts=!1,Bi=!1,rl=0,Ca=0,Os=null,gv=0;function Pt(){throw Error(a(321))}function Cu(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!De(e[r],s[r]))return!1;return!0}function Mu(e,s,r,u,f,g){return On=g,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=e===null||e.memoizedState===null?rg:Gu,Bi=!1,g=r(u,f),Bi=!1,Ts&&(g=Td(s,r,u,f)),Ed(e),g}function Ed(e){L.H=ja;var s=Mt!==null&&Mt.next!==null;if(On=0,Wt=Mt=ct=null,al=!1,Ca=0,Os=null,s)throw Error(a(300));e===null||Zt||(e=e.dependencies,e!==null&&Qr(e)&&(Zt=!0))}function Td(e,s,r,u){ct=e;var f=0;do{if(Ts&&(Os=null),Ca=0,Ts=!1,25<=f)throw Error(a(301));if(f+=1,Wt=Mt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=lg,g=s(r,u)}while(Ts);return g}function mv(){var e=L.H,s=e.useState()[0];return s=typeof s.then=="function"?Ma(s):s,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(ct.flags|=1024),s}function Du(){var e=rl!==0;return rl=0,e}function ju(e,s,r){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r}function zu(e){if(al){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}al=!1}On=0,Wt=Mt=ct=null,Ts=!1,Ca=rl=0,Os=null}function ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?ct.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Ft(){if(Mt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var s=Wt===null?ct.memoizedState:Wt.next;if(s!==null)Wt=s,Mt=e;else{if(e===null)throw ct.alternate===null?Error(a(467)):Error(a(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Wt===null?ct.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ma(e){var s=Ca;return Ca+=1,Os===null&&(Os=[]),e=md(Os,e,s),s=ct,(Wt===null?s.memoizedState:Wt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?rg:Gu),e}function ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ma(e);if(e.$$typeof===C)return ue(e)}throw Error(a(438,String(e)))}function Nu(e){var s=null,r=ct.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var u=ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=ll(),ct.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(e),u=0;u<e;u++)r[u]=ft;return s.index++,r}function An(e,s){return typeof s=="function"?s(e):s}function ul(e){var s=Ft();return Uu(s,Mt,e)}function Uu(e,s,r){var u=e.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var f=e.baseQueue,g=u.pending;if(g!==null){if(f!==null){var y=f.next;f.next=g.next,g.next=y}s.baseQueue=f=g,u.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{s=f.next;var _=y=null,T=null,D=s,H=!1;do{var $=D.lane&-536870913;if($!==D.lane?(mt&$)===$:(On&$)===$){var j=D.revertLane;if(j===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),$===_s&&(H=!0);else if((On&j)===j){D=D.next,j===_s&&(H=!0);continue}else $={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(_=T=$,y=g):T=T.next=$,ct.lanes|=j,ii|=j;$=D.action,Bi&&r(g,$),g=D.hasEagerState?D.eagerState:r(g,$)}else j={lane:$,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(_=T=j,y=g):T=T.next=j,ct.lanes|=$,ii|=$;D=D.next}while(D!==null&&D!==s);if(T===null?y=g:T.next=_,!De(g,e.memoizedState)&&(Zt=!0,H&&(r=ws,r!==null)))throw r;e.memoizedState=g,e.baseState=y,e.baseQueue=T,u.lastRenderedState=g}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Lu(e){var s=Ft(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var u=r.dispatch,f=r.pending,g=s.memoizedState;if(f!==null){r.pending=null;var y=f=f.next;do g=e(g,y.action),y=y.next;while(y!==f);De(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),r.lastRenderedState=g}return[g,u]}function Od(e,s,r){var u=ct,f=Ft(),g=yt;if(g){if(r===void 0)throw Error(a(407));r=r()}else r=s();var y=!De((Mt||f).memoizedState,r);if(y&&(f.memoizedState=r,Zt=!0),f=f.queue,qu(kd.bind(null,u,f,e),[e]),f.getSnapshot!==s||y||Wt!==null&&Wt.memoizedState.tag&1){if(u.flags|=2048,As(9,{destroy:void 0},Rd.bind(null,u,f,r,s),null),zt===null)throw Error(a(349));g||(On&127)!==0||Ad(u,s,r)}return r}function Ad(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=ct.updateQueue,s===null?(s=ll(),ct.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Rd(e,s,r,u){s.value=r,s.getSnapshot=u,Cd(s)&&Md(e)}function kd(e,s,r){return r(function(){Cd(s)&&Md(e)})}function Cd(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!De(e,r)}catch{return!0}}function Md(e){var s=ki(e,2);s!==null&&Oe(s,e,2)}function Bu(e){var s=ve();if(typeof e=="function"){var r=e;if(e=r(),Bi){Pn(!0);try{r()}finally{Pn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},s}function Dd(e,s,r,u){return e.baseState=r,Uu(e,Mt,typeof u=="function"?u:An)}function pv(e,s,r,u,f){if(fl(e))throw Error(a(485));if(e=s.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){g.listeners.push(y)}};L.T!==null?r(!0):g.isTransition=!1,u(g),r=s.pending,r===null?(g.next=s.pending=g,jd(s,g)):(g.next=r.next,s.pending=r.next=g)}}function jd(e,s){var r=s.action,u=s.payload,f=e.state;if(s.isTransition){var g=L.T,y={};L.T=y;try{var _=r(f,u),T=L.S;T!==null&&T(y,_),zd(e,s,_)}catch(D){Hu(e,s,D)}finally{g!==null&&y.types!==null&&(g.types=y.types),L.T=g}}else try{g=r(f,u),zd(e,s,g)}catch(D){Hu(e,s,D)}}function zd(e,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Nd(e,s,u)},function(u){return Hu(e,s,u)}):Nd(e,s,r)}function Nd(e,s,r){s.status="fulfilled",s.value=r,Ud(s),e.state=r,s=e.pending,s!==null&&(r=s.next,r===s?e.pending=null:(r=r.next,s.next=r,jd(e,r)))}function Hu(e,s,r){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=r,Ud(s),s=s.next;while(s!==u)}e.action=null}function Ud(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Ld(e,s){return s}function Bd(e,s){if(yt){var r=zt.formState;if(r!==null){t:{var u=ct;if(yt){if(Lt){e:{for(var f=Lt,g=Xe;f.nodeType!==8;){if(!g){f=null;break e}if(f=Je(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Lt=Je(f.nextSibling),u=f.data==="F!";break t}}Fn(u)}u=!1}u&&(s=r[0])}}return r=ve(),r.memoizedState=r.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:s},r.queue=u,r=ig.bind(null,ct,u),u.dispatch=r,u=Bu(!1),g=Yu.bind(null,ct,!1,u.queue),u=ve(),f={state:s,dispatch:null,action:e,pending:null},u.queue=f,r=pv.bind(null,ct,f,g,r),f.dispatch=r,u.memoizedState=e,[s,r,!1]}function Hd(e){var s=Ft();return qd(s,Mt,e)}function qd(e,s,r){if(s=Uu(e,s,Ld)[0],e=ul(An)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ma(s)}catch(y){throw y===Ss?Zr:y}else u=s;s=Ft();var f=s.queue,g=f.dispatch;return r!==s.memoizedState&&(ct.flags|=2048,As(9,{destroy:void 0},yv.bind(null,f,r),null)),[u,g,e]}function yv(e,s){e.action=s}function Vd(e){var s=Ft(),r=Mt;if(r!==null)return qd(s,r,e);Ft(),s=s.memoizedState,r=Ft();var u=r.queue.dispatch;return r.memoizedState=e,[s,u,!1]}function As(e,s,r,u){return e={tag:e,create:r,deps:u,inst:s,next:null},s=ct.updateQueue,s===null&&(s=ll(),ct.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=e.next=e:(u=r.next,r.next=e,e.next=u,s.lastEffect=e),e}function $d(){return Ft().memoizedState}function cl(e,s,r,u){var f=ve();ct.flags|=e,f.memoizedState=As(1|s,{destroy:void 0},r,u===void 0?null:u)}function hl(e,s,r,u){var f=Ft();u=u===void 0?null:u;var g=f.memoizedState.inst;Mt!==null&&u!==null&&Cu(u,Mt.memoizedState.deps)?f.memoizedState=As(s,g,r,u):(ct.flags|=e,f.memoizedState=As(1|s,g,r,u))}function Pd(e,s){cl(8390656,8,e,s)}function qu(e,s){hl(2048,8,e,s)}function bv(e){ct.flags|=4;var s=ct.updateQueue;if(s===null)s=ll(),ct.updateQueue=s,s.events=[e];else{var r=s.events;r===null?s.events=[e]:r.push(e)}}function Id(e){var s=Ft().memoizedState;return bv({ref:s,nextImpl:e}),function(){if((Tt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Yd(e,s){return hl(4,2,e,s)}function Gd(e,s){return hl(4,4,e,s)}function Kd(e,s){if(typeof s=="function"){e=e();var r=s(e);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Fd(e,s,r){r=r!=null?r.concat([e]):null,hl(4,4,Kd.bind(null,s,e),r)}function Vu(){}function Xd(e,s){var r=Ft();s=s===void 0?null:s;var u=r.memoizedState;return s!==null&&Cu(s,u[1])?u[0]:(r.memoizedState=[e,s],e)}function Qd(e,s){var r=Ft();s=s===void 0?null:s;var u=r.memoizedState;if(s!==null&&Cu(s,u[1]))return u[0];if(u=e(),Bi){Pn(!0);try{e()}finally{Pn(!1)}}return r.memoizedState=[u,s],u}function $u(e,s,r){return r===void 0||(On&1073741824)!==0&&(mt&261930)===0?e.memoizedState=s:(e.memoizedState=r,e=Jg(),ct.lanes|=e,ii|=e,r)}function Jd(e,s,r,u){return De(r,s)?r:Es.current!==null?(e=$u(e,r,u),De(e,s)||(Zt=!0),e):(On&42)===0||(On&1073741824)!==0&&(mt&261930)===0?(Zt=!0,e.memoizedState=r):(e=Jg(),ct.lanes|=e,ii|=e,s)}function Wd(e,s,r,u,f){var g=G.p;G.p=g!==0&&8>g?g:8;var y=L.T,_={};L.T=_,Yu(e,!1,s,r);try{var T=f(),D=L.S;if(D!==null&&D(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=dv(T,u);Da(e,s,H,Be(e))}else Da(e,s,u,Be(e))}catch($){Da(e,s,{then:function(){},status:"rejected",reason:$},Be())}finally{G.p=g,y!==null&&_.types!==null&&(y.types=_.types),L.T=y}}function vv(){}function Pu(e,s,r,u){if(e.tag!==5)throw Error(a(476));var f=Zd(e).queue;Wd(e,f,s,et,r===null?vv:function(){return tg(e),r(u)})}function Zd(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:et},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:r},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function tg(e){var s=Zd(e);s.next===null&&(s=e.alternate.memoizedState),Da(e,s.next.queue,{},Be())}function Iu(){return ue(Xa)}function eg(){return Ft().memoizedState}function ng(){return Ft().memoizedState}function _v(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var r=Be();e=Jn(r);var u=Wn(s,e,r);u!==null&&(Oe(u,s,r),Aa(u,s,r)),s={cache:vu()},e.payload=s;return}s=s.return}}function wv(e,s,r){var u=Be();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fl(e)?sg(s,r):(r=ou(e,s,r,u),r!==null&&(Oe(r,e,u),ag(r,s,u)))}function ig(e,s,r){var u=Be();Da(e,s,r,u)}function Da(e,s,r,u){var f={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(fl(e))sg(s,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var y=s.lastRenderedState,_=g(y,r);if(f.hasEagerState=!0,f.eagerState=_,De(_,y))return Gr(e,s,f,0),zt===null&&Yr(),!1}catch{}if(r=ou(e,s,f,u),r!==null)return Oe(r,e,u),ag(r,s,u),!0}return!1}function Yu(e,s,r,u){if(u={lane:2,revertLane:xc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fl(e)){if(s)throw Error(a(479))}else s=ou(e,r,u,2),s!==null&&Oe(s,e,2)}function fl(e){var s=e.alternate;return e===ct||s!==null&&s===ct}function sg(e,s){Ts=al=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function ag(e,s,r){if((r&4194048)!==0){var u=s.lanes;u&=e.pendingLanes,r|=u,s.lanes=r,cf(e,r)}}var ja={readContext:ue,use:ol,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};ja.useEffectEvent=Pt;var rg={readContext:ue,use:ol,useCallback:function(e,s){return ve().memoizedState=[e,s===void 0?null:s],e},useContext:ue,useEffect:Pd,useImperativeHandle:function(e,s,r){r=r!=null?r.concat([e]):null,cl(4194308,4,Kd.bind(null,s,e),r)},useLayoutEffect:function(e,s){return cl(4194308,4,e,s)},useInsertionEffect:function(e,s){cl(4,2,e,s)},useMemo:function(e,s){var r=ve();s=s===void 0?null:s;var u=e();if(Bi){Pn(!0);try{e()}finally{Pn(!1)}}return r.memoizedState=[u,s],u},useReducer:function(e,s,r){var u=ve();if(r!==void 0){var f=r(s);if(Bi){Pn(!0);try{r(s)}finally{Pn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=wv.bind(null,ct,e),[u.memoizedState,e]},useRef:function(e){var s=ve();return e={current:e},s.memoizedState=e},useState:function(e){e=Bu(e);var s=e.queue,r=ig.bind(null,ct,s);return s.dispatch=r,[e.memoizedState,r]},useDebugValue:Vu,useDeferredValue:function(e,s){var r=ve();return $u(r,e,s)},useTransition:function(){var e=Bu(!1);return e=Wd.bind(null,ct,e.queue,!0,!1),ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,r){var u=ct,f=ve();if(yt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),zt===null)throw Error(a(349));(mt&127)!==0||Ad(u,s,r)}f.memoizedState=r;var g={value:r,getSnapshot:s};return f.queue=g,Pd(kd.bind(null,u,g,e),[e]),u.flags|=2048,As(9,{destroy:void 0},Rd.bind(null,u,g,r,s),null),r},useId:function(){var e=ve(),s=zt.identifierPrefix;if(yt){var r=dn,u=fn;r=(u&~(1<<32-Me(u)-1)).toString(32)+r,s="_"+s+"R_"+r,r=rl++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=gv++,s="_"+s+"r_"+r.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Iu,useFormState:Bd,useActionState:Bd,useOptimistic:function(e){var s=ve();s.memoizedState=s.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Yu.bind(null,ct,!0,r),r.dispatch=s,[e,s]},useMemoCache:Nu,useCacheRefresh:function(){return ve().memoizedState=_v.bind(null,ct)},useEffectEvent:function(e){var s=ve(),r={impl:e};return s.memoizedState=r,function(){if((Tt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Gu={readContext:ue,use:ol,useCallback:Xd,useContext:ue,useEffect:qu,useImperativeHandle:Fd,useInsertionEffect:Yd,useLayoutEffect:Gd,useMemo:Qd,useReducer:ul,useRef:$d,useState:function(){return ul(An)},useDebugValue:Vu,useDeferredValue:function(e,s){var r=Ft();return Jd(r,Mt.memoizedState,e,s)},useTransition:function(){var e=ul(An)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:Ma(e),s]},useSyncExternalStore:Od,useId:eg,useHostTransitionStatus:Iu,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,s){var r=Ft();return Dd(r,Mt,e,s)},useMemoCache:Nu,useCacheRefresh:ng};Gu.useEffectEvent=Id;var lg={readContext:ue,use:ol,useCallback:Xd,useContext:ue,useEffect:qu,useImperativeHandle:Fd,useInsertionEffect:Yd,useLayoutEffect:Gd,useMemo:Qd,useReducer:Lu,useRef:$d,useState:function(){return Lu(An)},useDebugValue:Vu,useDeferredValue:function(e,s){var r=Ft();return Mt===null?$u(r,e,s):Jd(r,Mt.memoizedState,e,s)},useTransition:function(){var e=Lu(An)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:Ma(e),s]},useSyncExternalStore:Od,useId:eg,useHostTransitionStatus:Iu,useFormState:Vd,useActionState:Vd,useOptimistic:function(e,s){var r=Ft();return Mt!==null?Dd(r,Mt,e,s):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Nu,useCacheRefresh:ng};lg.useEffectEvent=Id;function Ku(e,s,r,u){s=e.memoizedState,r=r(u,s),r=r==null?s:b({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fu={enqueueSetState:function(e,s,r){e=e._reactInternals;var u=Be(),f=Jn(u);f.payload=s,r!=null&&(f.callback=r),s=Wn(e,f,u),s!==null&&(Oe(s,e,u),Aa(s,e,u))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var u=Be(),f=Jn(u);f.tag=1,f.payload=s,r!=null&&(f.callback=r),s=Wn(e,f,u),s!==null&&(Oe(s,e,u),Aa(s,e,u))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Be(),u=Jn(r);u.tag=2,s!=null&&(u.callback=s),s=Wn(e,u,r),s!==null&&(Oe(s,e,r),Aa(s,e,r))}};function og(e,s,r,u,f,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,y):s.prototype&&s.prototype.isPureReactComponent?!va(r,u)||!va(f,g):!0}function ug(e,s,r,u){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,u),s.state!==e&&Fu.enqueueReplaceState(s,s.state,null)}function Hi(e,s){var r=s;if("ref"in s){r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}if(e=e.defaultProps){r===s&&(r=b({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function cg(e){Ir(e)}function hg(e){console.error(e)}function fg(e){Ir(e)}function dl(e,s){try{var r=e.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function dg(e,s,r){try{var u=e.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xu(e,s,r){return r=Jn(r),r.tag=3,r.payload={element:null},r.callback=function(){dl(e,s)},r}function gg(e){return e=Jn(e),e.tag=3,e}function mg(e,s,r,u){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;e.payload=function(){return f(g)},e.callback=function(){dg(s,r,u)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){dg(s,r,u),typeof f!="function"&&(si===null?si=new Set([this]):si.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function Sv(e,s,r,u,f){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=r.alternate,s!==null&&vs(s,r,f,!0),r=ze.current,r!==null){switch(r.tag){case 31:case 13:return Qe===null?Tl():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=f,u===tl?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([u]):s.add(u),_c(e,u,f)),!1;case 22:return r.flags|=65536,u===tl?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([u]):r.add(u)),_c(e,u,f)),!1}throw Error(a(435,r.tag))}return _c(e,u,f),Tl(),!1}if(yt)return s=ze.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==gu&&(e=Error(a(422),{cause:u}),Sa(Ge(e,r)))):(u!==gu&&(s=Error(a(423),{cause:u}),Sa(Ge(s,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=Ge(u,r),f=Xu(e.stateNode,u,f),Tu(e,f),It!==4&&(It=2)),!1;var g=Error(a(520),{cause:u});if(g=Ge(g,r),Va===null?Va=[g]:Va.push(g),It!==4&&(It=2),s===null)return!0;u=Ge(u,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=Xu(r.stateNode,u,e),Tu(r,e),!1;case 1:if(s=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(si===null||!si.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=gg(f),mg(f,e,r,u),Tu(r,f),!1}r=r.return}while(r!==null);return!1}var Qu=Error(a(461)),Zt=!1;function ce(e,s,r,u){s.child=e===null?vd(s,null,r,u):Li(s,e.child,r,u)}function pg(e,s,r,u,f){r=r.render;var g=s.ref;if("ref"in u){var y={};for(var _ in u)_!=="ref"&&(y[_]=u[_])}else y=u;return ji(s),u=Mu(e,s,r,y,g,f),_=Du(),e!==null&&!Zt?(ju(e,s,f),Rn(e,s,f)):(yt&&_&&fu(s),s.flags|=1,ce(e,s,u,f),s.child)}function yg(e,s,r,u,f){if(e===null){var g=r.type;return typeof g=="function"&&!uu(g)&&g.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=g,bg(e,s,g,u,f)):(e=Fr(r.type,null,u,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(g=e.child,!sc(e,f)){var y=g.memoizedProps;if(r=r.compare,r=r!==null?r:va,r(y,u)&&e.ref===s.ref)return Rn(e,s,f)}return s.flags|=1,e=Sn(g,u),e.ref=s.ref,e.return=s,s.child=e}function bg(e,s,r,u,f){if(e!==null){var g=e.memoizedProps;if(va(g,u)&&e.ref===s.ref)if(Zt=!1,s.pendingProps=u=g,sc(e,f))(e.flags&131072)!==0&&(Zt=!0);else return s.lanes=e.lanes,Rn(e,s,f)}return Ju(e,s,r,u,f)}function vg(e,s,r,u){var f=u.children,g=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(u=s.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,s.child=null;return _g(e,s,g,r,u)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wr(s,g!==null?g.cachePool:null),g!==null?Sd(s,g):Au(),xd(s);else return u=s.lanes=536870912,_g(e,s,g!==null?g.baseLanes|r:r,r,u)}else g!==null?(Wr(s,g.cachePool),Sd(s,g),ti(),s.memoizedState=null):(e!==null&&Wr(s,null),Au(),ti());return ce(e,s,f,r),s.child}function za(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _g(e,s,r,u,f){var g=wu();return g=g===null?null:{parent:Jt._currentValue,pool:g},s.memoizedState={baseLanes:r,cachePool:g},e!==null&&Wr(s,null),Au(),xd(s),e!==null&&vs(e,s,u,!0),s.childLanes=f,null}function gl(e,s){return s=pl({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function wg(e,s,r){return Li(s,e.child,null,r),e=gl(s,s.pendingProps),e.flags|=2,Ne(s),s.memoizedState=null,e}function xv(e,s,r){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(yt){if(u.mode==="hidden")return e=gl(s,u),s.lanes=536870912,za(null,e);if(ku(s),(e=Lt)?(e=jm(e,Xe),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=sd(e),r.return=s,s.child=r,oe=s,Lt=null)):e=null,e===null)throw Fn(s);return s.lanes=536870912,null}return gl(s,u)}var g=e.memoizedState;if(g!==null){var y=g.dehydrated;if(ku(s),f)if(s.flags&256)s.flags&=-257,s=wg(e,s,r);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(a(558));else if(Zt||vs(e,s,r,!1),f=(r&e.childLanes)!==0,Zt||f){if(u=zt,u!==null&&(y=hf(u,r),y!==0&&y!==g.retryLane))throw g.retryLane=y,ki(e,y),Oe(u,e,y),Qu;Tl(),s=wg(e,s,r)}else e=g.treeContext,Lt=Je(y.nextSibling),oe=s,yt=!0,Kn=null,Xe=!1,e!==null&&ld(s,e),s=gl(s,u),s.flags|=4096;return s}return e=Sn(e.child,{mode:u.mode,children:u.children}),e.ref=s.ref,s.child=e,e.return=s,e}function ml(e,s){var r=s.ref;if(r===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(s.flags|=4194816)}}function Ju(e,s,r,u,f){return ji(s),r=Mu(e,s,r,u,void 0,f),u=Du(),e!==null&&!Zt?(ju(e,s,f),Rn(e,s,f)):(yt&&u&&fu(s),s.flags|=1,ce(e,s,r,f),s.child)}function Sg(e,s,r,u,f,g){return ji(s),s.updateQueue=null,r=Td(s,u,r,f),Ed(e),u=Du(),e!==null&&!Zt?(ju(e,s,g),Rn(e,s,g)):(yt&&u&&fu(s),s.flags|=1,ce(e,s,r,g),s.child)}function xg(e,s,r,u,f){if(ji(s),s.stateNode===null){var g=ms,y=r.contextType;typeof y=="object"&&y!==null&&(g=ue(y)),g=new r(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fu,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},xu(s),y=r.contextType,g.context=typeof y=="object"&&y!==null?ue(y):ms,g.state=s.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ku(s,r,y,u),g.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(y=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),y!==g.state&&Fu.enqueueReplaceState(g,g.state,null),ka(s,u,g,f),Ra(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(e===null){g=s.stateNode;var _=s.memoizedProps,T=Hi(r,_);g.props=T;var D=g.context,H=r.contextType;y=ms,typeof H=="object"&&H!==null&&(y=ue(H));var $=r.getDerivedStateFromProps;H=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||D!==y)&&ug(s,g,u,y),Qn=!1;var j=s.memoizedState;g.state=j,ka(s,u,g,f),Ra(),D=s.memoizedState,_||j!==D||Qn?(typeof $=="function"&&(Ku(s,r,$,u),D=s.memoizedState),(T=Qn||og(s,r,T,u,j,D,y))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=D),g.props=u,g.state=D,g.context=y,u=T):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Eu(e,s),y=s.memoizedProps,H=Hi(r,y),g.props=H,$=s.pendingProps,j=g.context,D=r.contextType,T=ms,typeof D=="object"&&D!==null&&(T=ue(D)),_=r.getDerivedStateFromProps,(D=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==$||j!==T)&&ug(s,g,u,T),Qn=!1,j=s.memoizedState,g.state=j,ka(s,u,g,f),Ra();var B=s.memoizedState;y!==$||j!==B||Qn||e!==null&&e.dependencies!==null&&Qr(e.dependencies)?(typeof _=="function"&&(Ku(s,r,_,u),B=s.memoizedState),(H=Qn||og(s,r,H,u,j,B,T)||e!==null&&e.dependencies!==null&&Qr(e.dependencies))?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,B,T),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,B,T)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=B),g.props=u,g.state=B,g.context=T,u=H):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),u=!1)}return g=u,ml(e,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,e!==null&&u?(s.child=Li(s,e.child,null,f),s.child=Li(s,null,r,f)):ce(e,s,r,f),s.memoizedState=g.state,e=s.child):e=Rn(e,s,f),e}function Eg(e,s,r,u){return Mi(),s.flags|=256,ce(e,s,r,u),s.child}var Wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(e){return{baseLanes:e,cachePool:dd()}}function tc(e,s,r){return e=e!==null?e.childLanes&~r:0,s&&(e|=Le),e}function Tg(e,s,r){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),y&&(f=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,e===null){if(yt){if(f?Zn(s):ti(),(e=Lt)?(e=jm(e,Xe),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=sd(e),r.return=s,s.child=r,oe=s,Lt=null)):e=null,e===null)throw Fn(s);return Uc(e)?s.lanes=32:s.lanes=536870912,null}var _=u.children;return u=u.fallback,f?(ti(),f=s.mode,_=pl({mode:"hidden",children:_},f),u=Ci(u,f,r,null),_.return=s,u.return=s,_.sibling=u,s.child=_,u=s.child,u.memoizedState=Zu(r),u.childLanes=tc(e,y,r),s.memoizedState=Wu,za(null,u)):(Zn(s),ec(s,_))}var T=e.memoizedState;if(T!==null&&(_=T.dehydrated,_!==null)){if(g)s.flags&256?(Zn(s),s.flags&=-257,s=nc(e,s,r)):s.memoizedState!==null?(ti(),s.child=e.child,s.flags|=128,s=null):(ti(),_=u.fallback,f=s.mode,u=pl({mode:"visible",children:u.children},f),_=Ci(_,f,r,null),_.flags|=2,u.return=s,_.return=s,u.sibling=_,s.child=u,Li(s,e.child,null,r),u=s.child,u.memoizedState=Zu(r),u.childLanes=tc(e,y,r),s.memoizedState=Wu,s=za(null,u));else if(Zn(s),Uc(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var D=y.dgst;y=D,u=Error(a(419)),u.stack="",u.digest=y,Sa({value:u,source:null,stack:null}),s=nc(e,s,r)}else if(Zt||vs(e,s,r,!1),y=(r&e.childLanes)!==0,Zt||y){if(y=zt,y!==null&&(u=hf(y,r),u!==0&&u!==T.retryLane))throw T.retryLane=u,ki(e,u),Oe(y,e,u),Qu;Nc(_)||Tl(),s=nc(e,s,r)}else Nc(_)?(s.flags|=192,s.child=e.child,s=null):(e=T.treeContext,Lt=Je(_.nextSibling),oe=s,yt=!0,Kn=null,Xe=!1,e!==null&&ld(s,e),s=ec(s,u.children),s.flags|=4096);return s}return f?(ti(),_=u.fallback,f=s.mode,T=e.child,D=T.sibling,u=Sn(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,D!==null?_=Sn(D,_):(_=Ci(_,f,r,null),_.flags|=2),_.return=s,u.return=s,u.sibling=_,s.child=u,za(null,u),u=s.child,_=e.child.memoizedState,_===null?_=Zu(r):(f=_.cachePool,f!==null?(T=Jt._currentValue,f=f.parent!==T?{parent:T,pool:T}:f):f=dd(),_={baseLanes:_.baseLanes|r,cachePool:f}),u.memoizedState=_,u.childLanes=tc(e,y,r),s.memoizedState=Wu,za(e.child,u)):(Zn(s),r=e.child,e=r.sibling,r=Sn(r,{mode:"visible",children:u.children}),r.return=s,r.sibling=null,e!==null&&(y=s.deletions,y===null?(s.deletions=[e],s.flags|=16):y.push(e)),s.child=r,s.memoizedState=null,r)}function ec(e,s){return s=pl({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function pl(e,s){return e=je(22,e,null,s),e.lanes=0,e}function nc(e,s,r){return Li(s,e.child,null,r),e=ec(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Og(e,s,r){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s),yu(e.return,s,r)}function ic(e,s,r,u,f,g){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:f,treeForkCount:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=r,y.tailMode=f,y.treeForkCount=g)}function Ag(e,s,r){var u=s.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var y=Kt.current,_=(y&2)!==0;if(_?(y=y&1|2,s.flags|=128):y&=1,K(Kt,y),ce(e,s,u,r),u=yt?wa:0,!_&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Og(e,r,s);else if(e.tag===19)Og(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=s.child,f=null;r!==null;)e=r.alternate,e!==null&&sl(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=s.child,s.child=null):(f=r.sibling,r.sibling=null),ic(s,!1,f,r,g,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&sl(e)===null){s.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}ic(s,!0,r,null,g,u);break;case"together":ic(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Rn(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),ii|=s.lanes,(r&s.childLanes)===0)if(e!==null){if(vs(e,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(a(153));if(s.child!==null){for(e=s.child,r=Sn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Sn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function sc(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Qr(e)))}function Ev(e,s,r){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),Xn(s,Jt,e.memoizedState.cache),Mi();break;case 27:case 5:ra(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:Xn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ku(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zn(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Tg(e,s,r):(Zn(s),e=Rn(e,s,r),e!==null?e.sibling:null);Zn(s);break;case 19:var f=(e.flags&128)!==0;if(u=(r&s.childLanes)!==0,u||(vs(e,s,r,!1),u=(r&s.childLanes)!==0),f){if(u)return Ag(e,s,r);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(Kt,Kt.current),u)break;return null;case 22:return s.lanes=0,vg(e,s,r,s.pendingProps);case 24:Xn(s,Jt,e.memoizedState.cache)}return Rn(e,s,r)}function Rg(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps)Zt=!0;else{if(!sc(e,r)&&(s.flags&128)===0)return Zt=!1,Ev(e,s,r);Zt=(e.flags&131072)!==0}else Zt=!1,yt&&(s.flags&1048576)!==0&&rd(s,wa,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(e=Ni(s.elementType),s.type=e,typeof e=="function")uu(e)?(u=Hi(e,u),s.tag=1,s=xg(null,s,e,u,r)):(s.tag=0,s=Ju(null,s,e,u,r));else{if(e!=null){var f=e.$$typeof;if(f===U){s.tag=11,s=pg(null,s,e,u,r);break t}else if(f===P){s.tag=14,s=yg(null,s,e,u,r);break t}}throw s=Qt(e)||e,Error(a(306,s,""))}}return s;case 0:return Ju(e,s,s.type,s.pendingProps,r);case 1:return u=s.type,f=Hi(u,s.pendingProps),xg(e,s,u,f,r);case 3:t:{if(be(s,s.stateNode.containerInfo),e===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Eu(e,s),ka(s,u,null,r);var y=s.memoizedState;if(u=y.cache,Xn(s,Jt,u),u!==g.cache&&bu(s,[Jt],r,!0),Ra(),u=y.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Eg(e,s,u,r);break t}else if(u!==f){f=Ge(Error(a(424)),s),Sa(f),s=Eg(e,s,u,r);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Lt=Je(e.firstChild),oe=s,yt=!0,Kn=null,Xe=!0,r=vd(s,null,u,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mi(),u===f){s=Rn(e,s,r);break t}ce(e,s,u,r)}s=s.child}return s;case 26:return ml(e,s),e===null?(r=Hm(s.type,null,s.pendingProps,null))?s.memoizedState=r:yt||(r=s.type,e=s.pendingProps,u=Dl(ot.current).createElement(r),u[le]=s,u[_e]=e,he(u,r,e),ae(u),s.stateNode=u):s.memoizedState=Hm(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return ra(s),e===null&&yt&&(u=s.stateNode=Um(s.type,s.pendingProps,ot.current),oe=s,Xe=!0,f=Lt,oi(s.type)?(Lc=f,Lt=Je(u.firstChild)):Lt=f),ce(e,s,s.pendingProps.children,r),ml(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&yt&&((f=u=Lt)&&(u=t_(u,s.type,s.pendingProps,Xe),u!==null?(s.stateNode=u,oe=s,Lt=Je(u.firstChild),Xe=!1,f=!0):f=!1),f||Fn(s)),ra(s),f=s.type,g=s.pendingProps,y=e!==null?e.memoizedProps:null,u=g.children,Dc(f,g)?u=null:y!==null&&Dc(f,y)&&(s.flags|=32),s.memoizedState!==null&&(f=Mu(e,s,mv,null,null,r),Xa._currentValue=f),ml(e,s),ce(e,s,u,r),s.child;case 6:return e===null&&yt&&((e=r=Lt)&&(r=e_(r,s.pendingProps,Xe),r!==null?(s.stateNode=r,oe=s,Lt=null,e=!0):e=!1),e||Fn(s)),null;case 13:return Tg(e,s,r);case 4:return be(s,s.stateNode.containerInfo),u=s.pendingProps,e===null?s.child=Li(s,null,u,r):ce(e,s,u,r),s.child;case 11:return pg(e,s,s.type,s.pendingProps,r);case 7:return ce(e,s,s.pendingProps,r),s.child;case 8:return ce(e,s,s.pendingProps.children,r),s.child;case 12:return ce(e,s,s.pendingProps.children,r),s.child;case 10:return u=s.pendingProps,Xn(s,s.type,u.value),ce(e,s,u.children,r),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ji(s),f=ue(f),u=u(f),s.flags|=1,ce(e,s,u,r),s.child;case 14:return yg(e,s,s.type,s.pendingProps,r);case 15:return bg(e,s,s.type,s.pendingProps,r);case 19:return Ag(e,s,r);case 31:return xv(e,s,r);case 22:return vg(e,s,r,s.pendingProps);case 24:return ji(s),u=ue(Jt),e===null?(f=wu(),f===null&&(f=zt,g=vu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),s.memoizedState={parent:u,cache:f},xu(s),Xn(s,Jt,f)):((e.lanes&r)!==0&&(Eu(e,s),ka(s,null,null,r),Ra()),f=e.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Xn(s,Jt,u)):(u=g.cache,Xn(s,Jt,u),u!==f.cache&&bu(s,[Jt],r,!0))),ce(e,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function kn(e){e.flags|=4}function ac(e,s,r,u,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Ui=tl,Su}else e.flags&=-16777217}function kg(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Im(s))if(em())e.flags|=8192;else throw Ui=tl,Su}function yl(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?of():536870912,e.lanes|=s,Ms|=s)}function Na(e,s){if(!yt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Bt(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,u=0;if(s)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=r,s}function Tv(e,s,r){var u=s.pendingProps;switch(du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Bt(s),null;case 3:return r=s.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Tn(Jt),Gt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bs(s)?kn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mu())),Bt(s),null;case 26:var f=s.type,g=s.memoizedState;return e===null?(kn(s),g!==null?(Bt(s),kg(s,g)):(Bt(s),ac(s,f,null,u,r))):g?g!==e.memoizedState?(kn(s),Bt(s),kg(s,g)):(Bt(s),s.flags&=-16777217):(e=e.memoizedProps,e!==u&&kn(s),Bt(s),ac(s,f,e,u,r)),null;case 27:if(Rr(s),r=ot.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==u&&kn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return Bt(s),null}e=X.current,bs(s)?od(s):(e=Um(f,u,r),s.stateNode=e,kn(s))}return Bt(s),null;case 5:if(Rr(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==u&&kn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return Bt(s),null}if(g=X.current,bs(s))od(s);else{var y=Dl(ot.current);switch(g){case 1:g=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=y.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?y.createElement("select",{is:u.is}):y.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?y.createElement(f,{is:u.is}):y.createElement(f)}}g[le]=s,g[_e]=u;t:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)g.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break t;for(;y.sibling===null;){if(y.return===null||y.return===s)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=g;t:switch(he(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&kn(s)}}return Bt(s),ac(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,r),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==u&&kn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(e=ot.current,bs(s)){if(e=s.stateNode,r=s.memoizedProps,u=null,f=oe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[le]=s,e=!!(e.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Tm(e.nodeValue,r)),e||Fn(s,!0)}else e=Dl(e).createTextNode(u),e[le]=s,s.stateNode=e}return Bt(s),null;case 31:if(r=s.memoizedState,e===null||e.memoizedState!==null){if(u=bs(s),r!==null){if(e===null){if(!u)throw Error(a(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[le]=s}else Mi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),e=!1}else r=mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return s.flags&256?(Ne(s),s):(Ne(s),null);if((s.flags&128)!==0)throw Error(a(558))}return Bt(s),null;case 13:if(u=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=bs(s),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[le]=s}else Mi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),f=!1}else f=mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ne(s),s):(Ne(s),null)}return Ne(s),(s.flags&128)!==0?(s.lanes=r,s):(r=u!==null,e=e!==null&&e.memoizedState!==null,r&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),r!==e&&r&&(s.child.flags|=8192),yl(s,s.updateQueue),Bt(s),null);case 4:return Gt(),e===null&&Ac(s.stateNode.containerInfo),Bt(s),null;case 10:return Tn(s.type),Bt(s),null;case 19:if(V(Kt),u=s.memoizedState,u===null)return Bt(s),null;if(f=(s.flags&128)!==0,g=u.rendering,g===null)if(f)Na(u,!1);else{if(It!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(g=sl(e),g!==null){for(s.flags|=128,Na(u,!1),e=g.updateQueue,s.updateQueue=e,yl(s,e),s.subtreeFlags=0,e=r,r=s.child;r!==null;)id(r,e),r=r.sibling;return K(Kt,Kt.current&1|2),yt&&xn(s,u.treeForkCount),s.child}e=e.sibling}u.tail!==null&&ke()>Sl&&(s.flags|=128,f=!0,Na(u,!1),s.lanes=4194304)}else{if(!f)if(e=sl(g),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,yl(s,e),Na(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!yt)return Bt(s),null}else 2*ke()-u.renderingStartTime>Sl&&r!==536870912&&(s.flags|=128,f=!0,Na(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(e=u.last,e!==null?e.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ke(),e.sibling=null,r=Kt.current,K(Kt,f?r&1|2:r&1),yt&&xn(s,u.treeForkCount),e):(Bt(s),null);case 22:case 23:return Ne(s),Ru(),u=s.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(r&536870912)!==0&&(s.flags&128)===0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),r=s.updateQueue,r!==null&&yl(s,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048),e!==null&&V(zi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Tn(Jt),Bt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Ov(e,s){switch(du(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Tn(Jt),Gt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Rr(s),null;case 31:if(s.memoizedState!==null){if(Ne(s),s.alternate===null)throw Error(a(340));Mi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Ne(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Mi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return V(Kt),null;case 4:return Gt(),null;case 10:return Tn(s.type),null;case 22:case 23:return Ne(s),Ru(),e!==null&&V(zi),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Tn(Jt),null;case 25:return null;default:return null}}function Cg(e,s){switch(du(s),s.tag){case 3:Tn(Jt),Gt();break;case 26:case 27:case 5:Rr(s);break;case 4:Gt();break;case 31:s.memoizedState!==null&&Ne(s);break;case 13:Ne(s);break;case 19:V(Kt);break;case 10:Tn(s.type);break;case 22:case 23:Ne(s),Ru(),e!==null&&V(zi);break;case 24:Tn(Jt)}}function Ua(e,s){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){u=void 0;var g=r.create,y=r.inst;u=g(),y.destroy=u}r=r.next}while(r!==f)}}catch(_){kt(s,s.return,_)}}function ei(e,s,r){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&e)===e){var y=u.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,f=s;var T=r,D=_;try{D()}catch(H){kt(f,T,H)}}}u=u.next}while(u!==g)}}catch(H){kt(s,s.return,H)}}function Mg(e){var s=e.updateQueue;if(s!==null){var r=e.stateNode;try{wd(s,r)}catch(u){kt(e,e.return,u)}}}function Dg(e,s,r){r.props=Hi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(u){kt(e,s,u)}}function La(e,s){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof r=="function"?e.refCleanup=r(u):r.current=u}}catch(f){kt(e,s,f)}}function gn(e,s){var r=e.ref,u=e.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(f){kt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){kt(e,s,f)}else r.current=null}function jg(e){var s=e.type,r=e.memoizedProps,u=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(f){kt(e,e.return,f)}}function rc(e,s,r){try{var u=e.stateNode;Fv(u,e.type,r,s),u[_e]=s}catch(f){kt(e,e.return,f)}}function zg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function lc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,s,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(e),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=_n));else if(u!==4&&(u===27&&oi(e.type)&&(r=e.stateNode,s=null),e=e.child,e!==null))for(oc(e,s,r),e=e.sibling;e!==null;)oc(e,s,r),e=e.sibling}function bl(e,s,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(u!==4&&(u===27&&oi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(bl(e,s,r),e=e.sibling;e!==null;)bl(e,s,r),e=e.sibling}function Ng(e){var s=e.stateNode,r=e.memoizedProps;try{for(var u=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);he(s,u,r),s[le]=e,s[_e]=r}catch(g){kt(e,e.return,g)}}var Cn=!1,te=!1,uc=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,re=null;function Av(e,s){if(e=e.containerInfo,Cc=Hl,e=Ff(e),nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break t}var y=0,_=-1,T=-1,D=0,H=0,$=e,j=null;e:for(;;){for(var B;$!==r||f!==0&&$.nodeType!==3||(_=y+f),$!==g||u!==0&&$.nodeType!==3||(T=y+u),$.nodeType===3&&(y+=$.nodeValue.length),(B=$.firstChild)!==null;)j=$,$=B;for(;;){if($===e)break e;if(j===r&&++D===f&&(_=y),j===g&&++H===u&&(T=y),(B=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=B}r=_===-1||T===-1?null:{start:_,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mc={focusedElem:e,selectionRange:r},Hl=!1,re=s;re!==null;)if(s=re,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,re=e;else for(;re!==null;){switch(s=re,g=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=s,f=g.memoizedProps,g=g.memoizedState,u=r.stateNode;try{var Q=Hi(r.type,f);e=u.getSnapshotBeforeUpdate(Q,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(nt){kt(r,r.return,nt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,r=e.nodeType,r===9)zc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=s.sibling,e!==null){e.return=s.return,re=e;break}re=s.return}}function Lg(e,s,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Dn(e,r),u&4&&Ua(5,r);break;case 1:if(Dn(e,r),u&4)if(e=r.stateNode,s===null)try{e.componentDidMount()}catch(y){kt(r,r.return,y)}else{var f=Hi(r.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(y){kt(r,r.return,y)}}u&64&&Mg(r),u&512&&La(r,r.return);break;case 3:if(Dn(e,r),u&64&&(e=r.updateQueue,e!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{wd(e,s)}catch(y){kt(r,r.return,y)}}break;case 27:s===null&&u&4&&Ng(r);case 26:case 5:Dn(e,r),s===null&&u&4&&jg(r),u&512&&La(r,r.return);break;case 12:Dn(e,r);break;case 31:Dn(e,r),u&4&&qg(e,r);break;case 13:Dn(e,r),u&4&&Vg(e,r),u&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Uv.bind(null,r),n_(e,r))));break;case 22:if(u=r.memoizedState!==null||Cn,!u){s=s!==null&&s.memoizedState!==null||te,f=Cn;var g=te;Cn=u,(te=s)&&!g?jn(e,r,(r.subtreeFlags&8772)!==0):Dn(e,r),Cn=f,te=g}break;case 30:break;default:Dn(e,r)}}function Bg(e){var s=e.alternate;s!==null&&(e.alternate=null,Bg(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Ho(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,Se=!1;function Mn(e,s,r){for(r=r.child;r!==null;)Hg(e,s,r),r=r.sibling}function Hg(e,s,r){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(la,r)}catch{}switch(r.tag){case 26:te||gn(r,s),Mn(e,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:te||gn(r,s);var u=qt,f=Se;oi(r.type)&&(qt=r.stateNode,Se=!1),Mn(e,s,r),Ga(r.stateNode),qt=u,Se=f;break;case 5:te||gn(r,s);case 6:if(u=qt,f=Se,qt=null,Mn(e,s,r),qt=u,Se=f,qt!==null)if(Se)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(r.stateNode)}catch(g){kt(r,s,g)}else try{qt.removeChild(r.stateNode)}catch(g){kt(r,s,g)}break;case 18:qt!==null&&(Se?(e=qt,Mm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Hs(e)):Mm(qt,r.stateNode));break;case 4:u=qt,f=Se,qt=r.stateNode.containerInfo,Se=!0,Mn(e,s,r),qt=u,Se=f;break;case 0:case 11:case 14:case 15:ei(2,r,s),te||ei(4,r,s),Mn(e,s,r);break;case 1:te||(gn(r,s),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Dg(r,s,u)),Mn(e,s,r);break;case 21:Mn(e,s,r);break;case 22:te=(u=te)||r.memoizedState!==null,Mn(e,s,r),te=u;break;default:Mn(e,s,r)}}function qg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hs(e)}catch(r){kt(s,s.return,r)}}}function Vg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hs(e)}catch(r){kt(s,s.return,r)}}function Rv(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Ug),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Ug),s;default:throw Error(a(435,e.tag))}}function vl(e,s){var r=Rv(e);s.forEach(function(u){if(!r.has(u)){r.add(u);var f=Lv.bind(null,e,u);u.then(f,f)}})}function xe(e,s){var r=s.deletions;if(r!==null)for(var u=0;u<r.length;u++){var f=r[u],g=e,y=s,_=y;t:for(;_!==null;){switch(_.tag){case 27:if(oi(_.type)){qt=_.stateNode,Se=!1;break t}break;case 5:qt=_.stateNode,Se=!1;break t;case 3:case 4:qt=_.stateNode.containerInfo,Se=!0;break t}_=_.return}if(qt===null)throw Error(a(160));Hg(g,y,f),qt=null,Se=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)$g(s,e),s=s.sibling}var an=null;function $g(e,s){var r=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xe(s,e),Ee(e),u&4&&(ei(3,e,e.return),Ua(3,e),ei(5,e,e.return));break;case 1:xe(s,e),Ee(e),u&512&&(te||r===null||gn(r,r.return)),u&64&&Cn&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var f=an;if(xe(s,e),Ee(e),u&512&&(te||r===null||gn(r,r.return)),u&4){var g=r!==null?r.memoizedState:null;if(u=e.memoizedState,r===null)if(u===null)if(e.stateNode===null){t:{u=e.type,r=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ca]||g[le]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),he(g,u,r),g[le]=e,ae(g),u=g;break t;case"link":var y=$m("link","href",f).get(u+(r.href||""));if(y){for(var _=0;_<y.length;_++)if(g=y[_],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(_,1);break e}}g=f.createElement(u),he(g,u,r),f.head.appendChild(g);break;case"meta":if(y=$m("meta","content",f).get(u+(r.content||""))){for(_=0;_<y.length;_++)if(g=y[_],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(_,1);break e}}g=f.createElement(u),he(g,u,r),f.head.appendChild(g);break;default:throw Error(a(468,u))}g[le]=e,ae(g),u=g}e.stateNode=u}else Pm(f,e.type,e.stateNode);else e.stateNode=Vm(f,u,e.memoizedProps);else g!==u?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,u===null?Pm(f,e.type,e.stateNode):Vm(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&rc(e,e.memoizedProps,r.memoizedProps)}break;case 27:xe(s,e),Ee(e),u&512&&(te||r===null||gn(r,r.return)),r!==null&&u&4&&rc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(xe(s,e),Ee(e),u&512&&(te||r===null||gn(r,r.return)),e.flags&32){f=e.stateNode;try{os(f,"")}catch(Q){kt(e,e.return,Q)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,rc(e,f,r!==null?r.memoizedProps:f)),u&1024&&(uc=!0);break;case 6:if(xe(s,e),Ee(e),u&4){if(e.stateNode===null)throw Error(a(162));u=e.memoizedProps,r=e.stateNode;try{r.nodeValue=u}catch(Q){kt(e,e.return,Q)}}break;case 3:if(Nl=null,f=an,an=jl(s.containerInfo),xe(s,e),an=f,Ee(e),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Hs(s.containerInfo)}catch(Q){kt(e,e.return,Q)}uc&&(uc=!1,Pg(e));break;case 4:u=an,an=jl(e.stateNode.containerInfo),xe(s,e),Ee(e),an=u;break;case 12:xe(s,e),Ee(e);break;case 31:xe(s,e),Ee(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,vl(e,u)));break;case 13:xe(s,e),Ee(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wl=ke()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,vl(e,u)));break;case 22:f=e.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,D=Cn,H=te;if(Cn=D||f,te=H||T,xe(s,e),te=H,Cn=D,Ee(e),u&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(r===null||T||Cn||te||qi(e)),r=null,s=e;;){if(s.tag===5||s.tag===26){if(r===null){T=r=s;try{if(g=T.stateNode,f)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=T.stateNode;var $=T.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;_.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(Q){kt(T,T.return,Q)}}}else if(s.tag===6){if(r===null){T=s;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(Q){kt(T,T.return,Q)}}}else if(s.tag===18){if(r===null){T=s;try{var B=T.stateNode;f?Dm(B,!0):Dm(T.stateNode,!1)}catch(Q){kt(T,T.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=e.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,vl(e,r))));break;case 19:xe(s,e),Ee(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,vl(e,u)));break;case 30:break;case 21:break;default:xe(s,e),Ee(e)}}function Ee(e){var s=e.flags;if(s&2){try{for(var r,u=e.return;u!==null;){if(zg(u)){r=u;break}u=u.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,g=lc(e);bl(e,g,f);break;case 5:var y=r.stateNode;r.flags&32&&(os(y,""),r.flags&=-33);var _=lc(e);bl(e,_,y);break;case 3:case 4:var T=r.stateNode.containerInfo,D=lc(e);oc(e,D,T);break;default:throw Error(a(161))}}catch(H){kt(e,e.return,H)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Pg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Dn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Lg(e,s.alternate,s),s=s.sibling}function qi(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ei(4,s,s.return),qi(s);break;case 1:gn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&Dg(s,s.return,r),qi(s);break;case 27:Ga(s.stateNode);case 26:case 5:gn(s,s.return),qi(s);break;case 22:s.memoizedState===null&&qi(s);break;case 30:qi(s);break;default:qi(s)}e=e.sibling}}function jn(e,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=e,g=s,y=g.flags;switch(g.tag){case 0:case 11:case 15:jn(f,g,r),Ua(4,g);break;case 1:if(jn(f,g,r),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){kt(u,u.return,D)}if(u=g,f=u.updateQueue,f!==null){var _=u.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)_d(T[f],_)}catch(D){kt(u,u.return,D)}}r&&y&64&&Mg(g),La(g,g.return);break;case 27:Ng(g);case 26:case 5:jn(f,g,r),r&&u===null&&y&4&&jg(g),La(g,g.return);break;case 12:jn(f,g,r);break;case 31:jn(f,g,r),r&&y&4&&qg(f,g);break;case 13:jn(f,g,r),r&&y&4&&Vg(f,g);break;case 22:g.memoizedState===null&&jn(f,g,r),La(g,g.return);break;case 30:break;default:jn(f,g,r)}s=s.sibling}}function cc(e,s){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xa(r))}function hc(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&xa(e))}function rn(e,s,r,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ig(e,s,r,u),s=s.sibling}function Ig(e,s,r,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:rn(e,s,r,u),f&2048&&Ua(9,s);break;case 1:rn(e,s,r,u);break;case 3:rn(e,s,r,u),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&xa(e)));break;case 12:if(f&2048){rn(e,s,r,u),e=s.stateNode;try{var g=s.memoizedProps,y=g.id,_=g.onPostCommit;typeof _=="function"&&_(y,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){kt(s,s.return,T)}}else rn(e,s,r,u);break;case 31:rn(e,s,r,u);break;case 13:rn(e,s,r,u);break;case 23:break;case 22:g=s.stateNode,y=s.alternate,s.memoizedState!==null?g._visibility&2?rn(e,s,r,u):Ba(e,s):g._visibility&2?rn(e,s,r,u):(g._visibility|=2,Rs(e,s,r,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&cc(y,s);break;case 24:rn(e,s,r,u),f&2048&&hc(s.alternate,s);break;default:rn(e,s,r,u)}}function Rs(e,s,r,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=e,y=s,_=r,T=u,D=y.flags;switch(y.tag){case 0:case 11:case 15:Rs(g,y,_,T,f),Ua(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Rs(g,y,_,T,f):Ba(g,y):(H._visibility|=2,Rs(g,y,_,T,f)),f&&D&2048&&cc(y.alternate,y);break;case 24:Rs(g,y,_,T,f),f&&D&2048&&hc(y.alternate,y);break;default:Rs(g,y,_,T,f)}s=s.sibling}}function Ba(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=e,u=s,f=u.flags;switch(u.tag){case 22:Ba(r,u),f&2048&&cc(u.alternate,u);break;case 24:Ba(r,u),f&2048&&hc(u.alternate,u);break;default:Ba(r,u)}s=s.sibling}}var Ha=8192;function ks(e,s,r){if(e.subtreeFlags&Ha)for(e=e.child;e!==null;)Yg(e,s,r),e=e.sibling}function Yg(e,s,r){switch(e.tag){case 26:ks(e,s,r),e.flags&Ha&&e.memoizedState!==null&&g_(r,an,e.memoizedState,e.memoizedProps);break;case 5:ks(e,s,r);break;case 3:case 4:var u=an;an=jl(e.stateNode.containerInfo),ks(e,s,r),an=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Ha,Ha=16777216,ks(e,s,r),Ha=u):ks(e,s,r));break;default:ks(e,s,r)}}function Gg(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function qa(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];re=u,Fg(u,e)}Gg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kg(e),e=e.sibling}function Kg(e){switch(e.tag){case 0:case 11:case 15:qa(e),e.flags&2048&&ei(9,e,e.return);break;case 3:qa(e);break;case 12:qa(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,_l(e)):qa(e);break;default:qa(e)}}function _l(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];re=u,Fg(u,e)}Gg(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ei(8,s,s.return),_l(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,_l(s));break;default:_l(s)}e=e.sibling}}function Fg(e,s){for(;re!==null;){var r=re;switch(r.tag){case 0:case 11:case 15:ei(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xa(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,re=u;else t:for(r=e;re!==null;){u=re;var f=u.sibling,g=u.return;if(Bg(u),u===r){re=null;break t}if(f!==null){f.return=g,re=f;break t}re=g}}}var kv={getCacheForType:function(e){var s=ue(Jt),r=s.data.get(e);return r===void 0&&(r=e(),s.data.set(e,r)),r},cacheSignal:function(){return ue(Jt).controller.signal}},Cv=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,dt=null,mt=0,Rt=0,Ue=null,ni=!1,Cs=!1,fc=!1,zn=0,It=0,ii=0,Vi=0,dc=0,Le=0,Ms=0,Va=null,Te=null,gc=!1,wl=0,Xg=0,Sl=1/0,xl=null,si=null,ne=0,ai=null,Ds=null,Nn=0,mc=0,pc=null,Qg=null,$a=0,yc=null;function Be(){return(Tt&2)!==0&&mt!==0?mt&-mt:L.T!==null?xc():ff()}function Jg(){if(Le===0)if((mt&536870912)===0||yt){var e=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),Le=e}else Le=536870912;return e=ze.current,e!==null&&(e.flags|=32),Le}function Oe(e,s,r){(e===zt&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(js(e,0),ri(e,mt,Le,!1)),ua(e,r),((Tt&2)===0||e!==zt)&&(e===zt&&((Tt&2)===0&&(Vi|=r),It===4&&ri(e,mt,Le,!1)),mn(e))}function Wg(e,s,r){if((Tt&6)!==0)throw Error(a(327));var u=!r&&(s&127)===0&&(s&e.expiredLanes)===0||oa(e,s),f=u?jv(e,s):vc(e,s,!0),g=u;do{if(f===0){Cs&&!u&&ri(e,s,0,!1);break}else{if(r=e.current.alternate,g&&!Mv(r)){f=vc(e,s,!1),g=!1;continue}if(f===2){if(g=s,e.errorRecoveryDisabledLanes&g)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;t:{var _=e;f=Va;var T=_.current.memoizedState.isDehydrated;if(T&&(js(_,y).flags|=256),y=vc(_,y,!1),y!==2){if(fc&&!T){_.errorRecoveryDisabledLanes|=g,Vi|=g,f=4;break t}g=Te,Te=f,g!==null&&(Te===null?Te=g:Te.push.apply(Te,g))}f=y}if(g=!1,f!==2)continue}}if(f===1){js(e,0),ri(e,s,0,!0);break}t:{switch(u=e,g=f,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ri(u,s,Le,!ni);break t;case 2:Te=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=wl+300-ke(),10<f)){if(ri(u,s,Le,!ni),jr(u,0,!0)!==0)break t;Nn=s,u.timeoutHandle=km(Zg.bind(null,u,r,Te,xl,gc,s,Le,Vi,Ms,ni,g,"Throttled",-0,0),f);break t}Zg(u,r,Te,xl,gc,s,Le,Vi,Ms,ni,g,null,-0,0)}}break}while(!0);mn(e)}function Zg(e,s,r,u,f,g,y,_,T,D,H,$,j,B){if(e.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Yg(s,g,$);var Q=(g&62914560)===g?wl-ke():(g&4194048)===g?Xg-ke():0;if(Q=m_($,Q),Q!==null){Nn=g,e.cancelPendingCommit=Q(lm.bind(null,e,s,g,r,u,f,y,_,T,H,$,null,j,B)),ri(e,g,y,!D);return}}lm(e,s,g,r,u,f,y,_,T)}function Mv(e){for(var s=e;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var f=r[u],g=f.getSnapshot;f=f.value;try{if(!De(g(),f))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ri(e,s,r,u){s&=~dc,s&=~Vi,e.suspendedLanes|=s,e.pingedLanes&=~s,u&&(e.warmLanes|=s),u=e.expirationTimes;for(var f=s;0<f;){var g=31-Me(f),y=1<<g;u[g]=-1,f&=~y}r!==0&&uf(e,r,s)}function El(){return(Tt&6)===0?(Pa(0),!1):!0}function bc(){if(dt!==null){if(Rt===0)var e=dt.return;else e=dt,En=Di=null,zu(e),xs=null,Ta=0,e=dt;for(;e!==null;)Cg(e.alternate,e),e=e.return;dt=null}}function js(e,s){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Jv(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,bc(),zt=e,dt=r=Sn(e.current,null),mt=s,Rt=0,Ue=null,ni=!1,Cs=oa(e,s),fc=!1,Ms=Le=dc=Vi=ii=It=0,Te=Va=null,gc=!1,(s&8)!==0&&(s|=s&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=s;0<u;){var f=31-Me(u),g=1<<f;s|=e[f],u&=~g}return zn=s,Yr(),r}function tm(e,s){ct=null,L.H=ja,s===Ss||s===Zr?(s=pd(),Rt=3):s===Su?(s=pd(),Rt=4):Rt=s===Qu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ue=s,dt===null&&(It=1,dl(e,Ge(s,e.current)))}function em(){var e=ze.current;return e===null?!0:(mt&4194048)===mt?Qe===null:(mt&62914560)===mt||(mt&536870912)!==0?e===Qe:!1}function nm(){var e=L.H;return L.H=ja,e===null?ja:e}function im(){var e=L.A;return L.A=kv,e}function Tl(){It=4,ni||(mt&4194048)!==mt&&ze.current!==null||(Cs=!0),(ii&134217727)===0&&(Vi&134217727)===0||zt===null||ri(zt,mt,Le,!1)}function vc(e,s,r){var u=Tt;Tt|=2;var f=nm(),g=im();(zt!==e||mt!==s)&&(xl=null,js(e,s)),s=!1;var y=It;t:do try{if(Rt!==0&&dt!==null){var _=dt,T=Ue;switch(Rt){case 8:bc(),y=6;break t;case 3:case 2:case 9:case 6:ze.current===null&&(s=!0);var D=Rt;if(Rt=0,Ue=null,zs(e,_,T,D),r&&Cs){y=0;break t}break;default:D=Rt,Rt=0,Ue=null,zs(e,_,T,D)}}Dv(),y=It;break}catch(H){tm(e,H)}while(!0);return s&&e.shellSuspendCounter++,En=Di=null,Tt=u,L.H=f,L.A=g,dt===null&&(zt=null,mt=0,Yr()),y}function Dv(){for(;dt!==null;)sm(dt)}function jv(e,s){var r=Tt;Tt|=2;var u=nm(),f=im();zt!==e||mt!==s?(xl=null,Sl=ke()+500,js(e,s)):Cs=oa(e,s);t:do try{if(Rt!==0&&dt!==null){s=dt;var g=Ue;e:switch(Rt){case 1:Rt=0,Ue=null,zs(e,s,g,1);break;case 2:case 9:if(gd(g)){Rt=0,Ue=null,am(s);break}s=function(){Rt!==2&&Rt!==9||zt!==e||(Rt=7),mn(e)},g.then(s,s);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:gd(g)?(Rt=0,Ue=null,am(s)):(Rt=0,Ue=null,zs(e,s,g,7));break;case 5:var y=null;switch(dt.tag){case 26:y=dt.memoizedState;case 5:case 27:var _=dt;if(y?Im(y):_.stateNode.complete){Rt=0,Ue=null;var T=_.sibling;if(T!==null)dt=T;else{var D=_.return;D!==null?(dt=D,Ol(D)):dt=null}break e}}Rt=0,Ue=null,zs(e,s,g,5);break;case 6:Rt=0,Ue=null,zs(e,s,g,6);break;case 8:bc(),It=6;break t;default:throw Error(a(462))}}zv();break}catch(H){tm(e,H)}while(!0);return En=Di=null,L.H=u,L.A=f,Tt=r,dt!==null?0:(zt=null,mt=0,Yr(),It)}function zv(){for(;dt!==null&&!ib();)sm(dt)}function sm(e){var s=Rg(e.alternate,e,zn);e.memoizedProps=e.pendingProps,s===null?Ol(e):dt=s}function am(e){var s=e,r=s.alternate;switch(s.tag){case 15:case 0:s=Sg(r,s,s.pendingProps,s.type,void 0,mt);break;case 11:s=Sg(r,s,s.pendingProps,s.type.render,s.ref,mt);break;case 5:zu(s);default:Cg(r,s),s=dt=id(s,zn),s=Rg(r,s,zn)}e.memoizedProps=e.pendingProps,s===null?Ol(e):dt=s}function zs(e,s,r,u){En=Di=null,zu(s),xs=null,Ta=0;var f=s.return;try{if(Sv(e,f,s,r,mt)){It=1,dl(e,Ge(r,e.current)),dt=null;return}}catch(g){if(f!==null)throw dt=f,g;It=1,dl(e,Ge(r,e.current)),dt=null;return}s.flags&32768?(yt||u===1?e=!0:Cs||(mt&536870912)!==0?e=!1:(ni=e=!0,(u===2||u===9||u===3||u===6)&&(u=ze.current,u!==null&&u.tag===13&&(u.flags|=16384))),rm(s,e)):Ol(s)}function Ol(e){var s=e;do{if((s.flags&32768)!==0){rm(s,ni);return}e=s.return;var r=Tv(s.alternate,s,zn);if(r!==null){dt=r;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=e}while(s!==null);It===0&&(It=5)}function rm(e,s){do{var r=Ov(e.alternate,e);if(r!==null){r.flags&=32767,dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(e=e.sibling,e!==null)){dt=e;return}dt=e=r}while(e!==null);It=6,dt=null}function lm(e,s,r,u,f,g,y,_,T){e.cancelPendingCommit=null;do Al();while(ne!==0);if((Tt&6)!==0)throw Error(a(327));if(s!==null){if(s===e.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=lu,db(e,r,g,y,_,T),e===zt&&(dt=zt=null,mt=0),Ds=s,ai=e,Nn=r,mc=g,pc=f,Qg=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bv(kr,function(){return fm(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,f=G.p,G.p=2,y=Tt,Tt|=4;try{Av(e,s,r)}finally{Tt=y,G.p=f,L.T=u}}ne=1,om(),um(),cm()}}function om(){if(ne===1){ne=0;var e=ai,s=Ds,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var u=G.p;G.p=2;var f=Tt;Tt|=4;try{$g(s,e);var g=Mc,y=Ff(e.containerInfo),_=g.focusedElem,T=g.selectionRange;if(y!==_&&_&&_.ownerDocument&&Kf(_.ownerDocument.documentElement,_)){if(T!==null&&nu(_)){var D=T.start,H=T.end;if(H===void 0&&(H=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(H,_.value.length);else{var $=_.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var B=j.getSelection(),Q=_.textContent.length,nt=Math.min(T.start,Q),jt=T.end===void 0?nt:Math.min(T.end,Q);!B.extend&&nt>jt&&(y=jt,jt=nt,nt=y);var k=Gf(_,nt),O=Gf(_,jt);if(k&&O&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var M=$.createRange();M.setStart(k.node,k.offset),B.removeAllRanges(),nt>jt?(B.addRange(M),B.extend(O.node,O.offset)):(M.setEnd(O.node,O.offset),B.addRange(M))}}}}for($=[],B=_;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<$.length;_++){var q=$[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Hl=!!Cc,Mc=Cc=null}finally{Tt=f,G.p=u,L.T=r}}e.current=s,ne=2}}function um(){if(ne===2){ne=0;var e=ai,s=Ds,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var u=G.p;G.p=2;var f=Tt;Tt|=4;try{Lg(e,s.alternate,s)}finally{Tt=f,G.p=u,L.T=r}}ne=3}}function cm(){if(ne===4||ne===3){ne=0,sb();var e=ai,s=Ds,r=Nn,u=Qg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ne=5:(ne=0,Ds=ai=null,hm(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(si=null),Lo(r),s=s.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(la,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,f=G.p,G.p=2,L.T=null;try{for(var g=e.onRecoverableError,y=0;y<u.length;y++){var _=u[y];g(_.value,{componentStack:_.stack})}}finally{L.T=s,G.p=f}}(Nn&3)!==0&&Al(),mn(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===yc?$a++:($a=0,yc=e):$a=0,Pa(0)}}function hm(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,xa(s)))}function Al(){return om(),um(),cm(),fm()}function fm(){if(ne!==5)return!1;var e=ai,s=mc;mc=0;var r=Lo(Nn),u=L.T,f=G.p;try{G.p=32>r?32:r,L.T=null,r=pc,pc=null;var g=ai,y=Nn;if(ne=0,Ds=ai=null,Nn=0,(Tt&6)!==0)throw Error(a(331));var _=Tt;if(Tt|=4,Kg(g.current),Ig(g,g.current,y,r),Tt=_,Pa(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(la,g)}catch{}return!0}finally{G.p=f,L.T=u,hm(e,s)}}function dm(e,s,r){s=Ge(r,s),s=Xu(e.stateNode,s,2),e=Wn(e,s,2),e!==null&&(ua(e,2),mn(e))}function kt(e,s,r){if(e.tag===3)dm(e,e,r);else for(;s!==null;){if(s.tag===3){dm(s,e,r);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(si===null||!si.has(u))){e=Ge(r,e),r=gg(2),u=Wn(s,r,2),u!==null&&(mg(r,u,s,e),ua(u,2),mn(u));break}}s=s.return}}function _c(e,s,r){var u=e.pingCache;if(u===null){u=e.pingCache=new Cv;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(r)||(fc=!0,f.add(r),e=Nv.bind(null,e,s,r),s.then(e,e))}function Nv(e,s,r){var u=e.pingCache;u!==null&&u.delete(s),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,zt===e&&(mt&r)===r&&(It===4||It===3&&(mt&62914560)===mt&&300>ke()-wl?(Tt&2)===0&&js(e,0):dc|=r,Ms===mt&&(Ms=0)),mn(e)}function gm(e,s){s===0&&(s=of()),e=ki(e,s),e!==null&&(ua(e,s),mn(e))}function Uv(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),gm(e,r)}function Lv(e,s){var r=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),gm(e,r)}function Bv(e,s){return jo(e,s)}var Rl=null,Ns=null,wc=!1,kl=!1,Sc=!1,li=0;function mn(e){e!==Ns&&e.next===null&&(Ns===null?Rl=Ns=e:Ns=Ns.next=e),kl=!0,wc||(wc=!0,qv())}function Pa(e,s){if(!Sc&&kl){Sc=!0;do for(var r=!1,u=Rl;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var y=u.suspendedLanes,_=u.pingedLanes;g=(1<<31-Me(42|e)+1)-1,g&=f&~(y&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,bm(u,g))}else g=mt,g=jr(u,u===zt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||oa(u,g)||(r=!0,bm(u,g));u=u.next}while(r);Sc=!1}}function Hv(){mm()}function mm(){kl=wc=!1;var e=0;li!==0&&Qv()&&(e=li);for(var s=ke(),r=null,u=Rl;u!==null;){var f=u.next,g=pm(u,s);g===0?(u.next=null,r===null?Rl=f:r.next=f,f===null&&(Ns=r)):(r=u,(e!==0||(g&3)!==0)&&(kl=!0)),u=f}ne!==0&&ne!==5||Pa(e),li!==0&&(li=0)}function pm(e,s){for(var r=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var y=31-Me(g),_=1<<y,T=f[y];T===-1?((_&r)===0||(_&u)!==0)&&(f[y]=fb(_,s)):T<=s&&(e.expiredLanes|=_),g&=~_}if(s=zt,r=mt,r=jr(e,e===s?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,r===0||e===s&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&zo(u),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||oa(e,r)){if(s=r&-r,s===e.callbackPriority)return s;switch(u!==null&&zo(u),Lo(r)){case 2:case 8:r=rf;break;case 32:r=kr;break;case 268435456:r=lf;break;default:r=kr}return u=ym.bind(null,e),r=jo(r,u),e.callbackPriority=s,e.callbackNode=r,s}return u!==null&&u!==null&&zo(u),e.callbackPriority=2,e.callbackNode=null,2}function ym(e,s){if(ne!==0&&ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Al()&&e.callbackNode!==r)return null;var u=mt;return u=jr(e,e===zt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Wg(e,u,s),pm(e,ke()),e.callbackNode!=null&&e.callbackNode===r?ym.bind(null,e):null)}function bm(e,s){if(Al())return null;Wg(e,s,!0)}function qv(){Wv(function(){(Tt&6)!==0?jo(af,Hv):mm()})}function xc(){if(li===0){var e=_s;e===0&&(e=Cr,Cr<<=1,(Cr&261888)===0&&(Cr=256)),li=e}return li}function vm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Lr(""+e)}function _m(e,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,e.id&&r.setAttribute("form",e.id),s.parentNode.insertBefore(r,s),e=new FormData(e),r.parentNode.removeChild(r),e}function Vv(e,s,r,u,f){if(s==="submit"&&r&&r.stateNode===f){var g=vm((f[_e]||null).action),y=u.submitter;y&&(s=(s=y[_e]||null)?vm(s.formAction):y.getAttribute("formAction"),s!==null&&(g=s,y=null));var _=new Vr("action","action",null,u,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(li!==0){var T=y?_m(f,y):new FormData(f);Pu(r,{pending:!0,data:T,method:f.method,action:g},null,T)}}else typeof g=="function"&&(_.preventDefault(),T=y?_m(f,y):new FormData(f),Pu(r,{pending:!0,data:T,method:f.method,action:g},g,T))},currentTarget:f}]})}}for(var Ec=0;Ec<ru.length;Ec++){var Tc=ru[Ec],$v=Tc.toLowerCase(),Pv=Tc[0].toUpperCase()+Tc.slice(1);sn($v,"on"+Pv)}sn(Jf,"onAnimationEnd"),sn(Wf,"onAnimationIteration"),sn(Zf,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(av,"onTransitionRun"),sn(rv,"onTransitionStart"),sn(lv,"onTransitionCancel"),sn(td,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ia));function wm(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var u=e[r],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var y=u.length-1;0<=y;y--){var _=u[y],T=_.instance,D=_.currentTarget;if(_=_.listener,T!==g&&f.isPropagationStopped())break t;g=_,f.currentTarget=D;try{g(f)}catch(H){Ir(H)}f.currentTarget=null,g=T}else for(y=0;y<u.length;y++){if(_=u[y],T=_.instance,D=_.currentTarget,_=_.listener,T!==g&&f.isPropagationStopped())break t;g=_,f.currentTarget=D;try{g(f)}catch(H){Ir(H)}f.currentTarget=null,g=T}}}}function gt(e,s){var r=s[Bo];r===void 0&&(r=s[Bo]=new Set);var u=e+"__bubble";r.has(u)||(Sm(s,e,2,!1),r.add(u))}function Oc(e,s,r){var u=0;s&&(u|=4),Sm(r,e,u,s)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Cl]){e[Cl]=!0,mf.forEach(function(r){r!=="selectionchange"&&(Iv.has(r)||Oc(r,!1,e),Oc(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Cl]||(s[Cl]=!0,Oc("selectionchange",!1,s))}}function Sm(e,s,r,u){switch(Jm(s)){case 2:var f=b_;break;case 8:f=v_;break;default:f=$c}r=f.bind(null,s,r,e),f=void 0,!Ko||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(s,r,{capture:!0,passive:f}):e.addEventListener(s,r,!0):f!==void 0?e.addEventListener(s,r,{passive:f}):e.addEventListener(s,r,!1)}function Rc(e,s,r,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var _=u.stateNode.containerInfo;if(_===f)break;if(y===4)for(y=u.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;_!==null;){if(y=is(_),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){u=g=y;continue t}_=_.parentNode}}u=u.return}Af(function(){var D=g,H=Yo(r),$=[];t:{var j=ed.get(e);if(j!==void 0){var B=Vr,Q=e;switch(e){case"keypress":if(Hr(r)===0)break t;case"keydown":case"keyup":B=Lb;break;case"focusin":Q="focus",B=Jo;break;case"focusout":Q="blur",B=Jo;break;case"beforeblur":case"afterblur":B=Jo;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=qb;break;case Jf:case Wf:case Zf:B=Rb;break;case td:B=$b;break;case"scroll":case"scrollend":B=xb;break;case"wheel":B=Ib;break;case"copy":case"cut":case"paste":B=Cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Df;break;case"toggle":case"beforetoggle":B=Gb}var nt=(s&4)!==0,jt=!nt&&(e==="scroll"||e==="scrollend"),k=nt?j!==null?j+"Capture":null:j;nt=[];for(var O=D,M;O!==null;){var q=O;if(M=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||M===null||k===null||(q=fa(O,k),q!=null&&nt.push(Ya(O,q,M))),jt)break;O=O.return}0<nt.length&&(j=new B(j,Q,null,r,H),$.push({event:j,listeners:nt}))}}if((s&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&r!==Io&&(Q=r.relatedTarget||r.fromElement)&&(is(Q)||Q[ns]))break t;if((B||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,B?(Q=r.relatedTarget||r.toElement,B=D,Q=Q?is(Q):null,Q!==null&&(jt=o(Q),nt=Q.tag,Q!==jt||nt!==5&&nt!==27&&nt!==6)&&(Q=null)):(B=null,Q=D),B!==Q)){if(nt=Cf,q="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Df,q="onPointerLeave",k="onPointerEnter",O="pointer"),jt=B==null?j:ha(B),M=Q==null?j:ha(Q),j=new nt(q,O+"leave",B,r,H),j.target=jt,j.relatedTarget=M,q=null,is(H)===D&&(nt=new nt(k,O+"enter",Q,r,H),nt.target=M,nt.relatedTarget=jt,q=nt),jt=q,B&&Q)e:{for(nt=Yv,k=B,O=Q,M=0,q=k;q;q=nt(q))M++;q=0;for(var tt=O;tt;tt=nt(tt))q++;for(;0<M-q;)k=nt(k),M--;for(;0<q-M;)O=nt(O),q--;for(;M--;){if(k===O||O!==null&&k===O.alternate){nt=k;break e}k=nt(k),O=nt(O)}nt=null}else nt=null;B!==null&&xm($,j,B,nt,!1),Q!==null&&jt!==null&&xm($,jt,Q,nt,!0)}}t:{if(j=D?ha(D):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var wt=qf;else if(Bf(j))if(Vf)wt=nv;else{wt=tv;var J=Zb}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?D&&Po(D.elementType)&&(wt=qf):wt=ev;if(wt&&(wt=wt(e,D))){Hf($,wt,r,H);break t}J&&J(e,j,D),e==="focusout"&&D&&j.type==="number"&&D.memoizedProps.value!=null&&$o(j,"number",j.value)}switch(J=D?ha(D):window,e){case"focusin":(Bf(J)||J.contentEditable==="true")&&(fs=J,iu=D,_a=null);break;case"focusout":_a=iu=fs=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Xf($,r,H);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":Xf($,r,H)}var ht;if(Zo)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else hs?Uf(e,r)&&(pt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(jf&&r.locale!=="ko"&&(hs||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&hs&&(ht=Rf()):(Yn=H,Fo="value"in Yn?Yn.value:Yn.textContent,hs=!0)),J=Ml(D,pt),0<J.length&&(pt=new Mf(pt,e,null,r,H),$.push({event:pt,listeners:J}),ht?pt.data=ht:(ht=Lf(r),ht!==null&&(pt.data=ht)))),(ht=Fb?Xb(e,r):Qb(e,r))&&(pt=Ml(D,"onBeforeInput"),0<pt.length&&(J=new Mf("onBeforeInput","beforeinput",null,r,H),$.push({event:J,listeners:pt}),J.data=ht)),Vv($,e,D,r,H)}wm($,s)})}function Ya(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Ml(e,s){for(var r=s+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=fa(e,r),f!=null&&u.unshift(Ya(e,f,g)),f=fa(e,s),f!=null&&u.push(Ya(e,f,g))),e.tag===3)return u;e=e.return}return[]}function Yv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xm(e,s,r,u,f){for(var g=s._reactName,y=[];r!==null&&r!==u;){var _=r,T=_.alternate,D=_.stateNode;if(_=_.tag,T!==null&&T===u)break;_!==5&&_!==26&&_!==27||D===null||(T=D,f?(D=fa(r,g),D!=null&&y.unshift(Ya(r,D,T))):f||(D=fa(r,g),D!=null&&y.push(Ya(r,D,T)))),r=r.return}y.length!==0&&e.push({event:s,listeners:y})}var Gv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function Em(e){return(typeof e=="string"?e:""+e).replace(Gv,`
`).replace(Kv,"")}function Tm(e,s){return s=Em(s),Em(e)===s}function Dt(e,s,r,u,f,g){switch(r){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||os(e,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&os(e,""+u);break;case"className":Nr(e,"class",u);break;case"tabIndex":Nr(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(e,r,u);break;case"style":Tf(e,u,g);break;case"data":if(s!=="object"){Nr(e,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||r!=="href")){e.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=Lr(""+u),e.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(s!=="input"&&Dt(e,s,"name",f.name,f,null),Dt(e,s,"formEncType",f.formEncType,f,null),Dt(e,s,"formMethod",f.formMethod,f,null),Dt(e,s,"formTarget",f.formTarget,f,null)):(Dt(e,s,"encType",f.encType,f,null),Dt(e,s,"method",f.method,f,null),Dt(e,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=Lr(""+u),e.setAttribute(r,u);break;case"onClick":u!=null&&(e.onclick=_n);break;case"onScroll":u!=null&&gt("scroll",e);break;case"onScrollEnd":u!=null&&gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}r=Lr(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""+u):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":u===!0?e.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,u):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(r,u):e.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(r):e.setAttribute(r,u);break;case"popover":gt("beforetoggle",e),gt("toggle",e),zr(e,"popover",u);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zr(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=wb.get(r)||r,zr(e,r,u))}}function kc(e,s,r,u,f,g){switch(r){case"style":Tf(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof u=="string"?os(e,u):(typeof u=="number"||typeof u=="bigint")&&os(e,""+u);break;case"onScroll":u!=null&&gt("scroll",e);break;case"onScrollEnd":u!=null&&gt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),s=r.slice(2,f?r.length-7:void 0),g=e[_e]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(s,u,f);break t}r in e?e[r]=u:u===!0?e.setAttribute(r,""):zr(e,r,u)}}}function he(e,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",e),gt("load",e);var u=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var y=r[g];if(y!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Dt(e,s,g,y,r,null)}}f&&Dt(e,s,"srcSet",r.srcSet,r,null),u&&Dt(e,s,"src",r.src,r,null);return;case"input":gt("invalid",e);var _=g=y=f=null,T=null,D=null;for(u in r)if(r.hasOwnProperty(u)){var H=r[u];if(H!=null)switch(u){case"name":f=H;break;case"type":y=H;break;case"checked":T=H;break;case"defaultChecked":D=H;break;case"value":g=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,s));break;default:Dt(e,s,u,H,r,null)}}wf(e,g,_,T,D,y,f,!1);return;case"select":gt("invalid",e),u=y=g=null;for(f in r)if(r.hasOwnProperty(f)&&(_=r[f],_!=null))switch(f){case"value":g=_;break;case"defaultValue":y=_;break;case"multiple":u=_;default:Dt(e,s,f,_,r,null)}s=g,r=y,e.multiple=!!u,s!=null?ls(e,!!u,s,!1):r!=null&&ls(e,!!u,r,!0);return;case"textarea":gt("invalid",e),g=f=u=null;for(y in r)if(r.hasOwnProperty(y)&&(_=r[y],_!=null))switch(y){case"value":u=_;break;case"defaultValue":f=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Dt(e,s,y,_,r,null)}xf(e,u,f,g);return;case"option":for(T in r)r.hasOwnProperty(T)&&(u=r[T],u!=null)&&(T==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":Dt(e,s,T,u,r,null));return;case"dialog":gt("beforetoggle",e),gt("toggle",e),gt("cancel",e),gt("close",e);break;case"iframe":case"object":gt("load",e);break;case"video":case"audio":for(u=0;u<Ia.length;u++)gt(Ia[u],e);break;case"image":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"embed":case"source":case"link":gt("error",e),gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in r)if(r.hasOwnProperty(D)&&(u=r[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Dt(e,s,D,u,r,null)}return;default:if(Po(s)){for(H in r)r.hasOwnProperty(H)&&(u=r[H],u!==void 0&&kc(e,s,H,u,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(u=r[_],u!=null&&Dt(e,s,_,u,r,null))}function Fv(e,s,r,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,y=null,_=null,T=null,D=null,H=null;for(B in r){var $=r[B];if(r.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=$;default:u.hasOwnProperty(B)||Dt(e,s,B,null,u,$)}}for(var j in u){var B=u[j];if($=r[j],u.hasOwnProperty(j)&&(B!=null||$!=null))switch(j){case"type":g=B;break;case"name":f=B;break;case"checked":D=B;break;case"defaultChecked":H=B;break;case"value":y=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,s));break;default:B!==$&&Dt(e,s,j,B,u,$)}}Vo(e,y,_,T,D,H,g,f);return;case"select":B=y=_=j=null;for(g in r)if(T=r[g],r.hasOwnProperty(g)&&T!=null)switch(g){case"value":break;case"multiple":B=T;default:u.hasOwnProperty(g)||Dt(e,s,g,null,u,T)}for(f in u)if(g=u[f],T=r[f],u.hasOwnProperty(f)&&(g!=null||T!=null))switch(f){case"value":j=g;break;case"defaultValue":_=g;break;case"multiple":y=g;default:g!==T&&Dt(e,s,f,g,u,T)}s=_,r=y,u=B,j!=null?ls(e,!!r,j,!1):!!u!=!!r&&(s!=null?ls(e,!!r,s,!0):ls(e,!!r,r?[]:"",!1));return;case"textarea":B=j=null;for(_ in r)if(f=r[_],r.hasOwnProperty(_)&&f!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Dt(e,s,_,null,u,f)}for(y in u)if(f=u[y],g=r[y],u.hasOwnProperty(y)&&(f!=null||g!=null))switch(y){case"value":j=f;break;case"defaultValue":B=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&Dt(e,s,y,f,u,g)}Sf(e,j,B);return;case"option":for(var Q in r)j=r[Q],r.hasOwnProperty(Q)&&j!=null&&!u.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:Dt(e,s,Q,null,u,j));for(T in u)j=u[T],B=r[T],u.hasOwnProperty(T)&&j!==B&&(j!=null||B!=null)&&(T==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Dt(e,s,T,j,u,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in r)j=r[nt],r.hasOwnProperty(nt)&&j!=null&&!u.hasOwnProperty(nt)&&Dt(e,s,nt,null,u,j);for(D in u)if(j=u[D],B=r[D],u.hasOwnProperty(D)&&j!==B&&(j!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,s));break;default:Dt(e,s,D,j,u,B)}return;default:if(Po(s)){for(var jt in r)j=r[jt],r.hasOwnProperty(jt)&&j!==void 0&&!u.hasOwnProperty(jt)&&kc(e,s,jt,void 0,u,j);for(H in u)j=u[H],B=r[H],!u.hasOwnProperty(H)||j===B||j===void 0&&B===void 0||kc(e,s,H,j,u,B);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!u.hasOwnProperty(k)&&Dt(e,s,k,null,u,j);for($ in u)j=u[$],B=r[$],!u.hasOwnProperty($)||j===B||j==null&&B==null||Dt(e,s,$,j,u,B)}function Om(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var f=r[u],g=f.transferSize,y=f.initiatorType,_=f.duration;if(g&&_&&Om(y)){for(y=0,_=f.responseEnd,u+=1;u<r.length;u++){var T=r[u],D=T.startTime;if(D>_)break;var H=T.transferSize,$=T.initiatorType;H&&Om($)&&(T=T.responseEnd,y+=H*(T<_?1:(_-D)/(T-D)))}if(--u,s+=8*(g+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cc=null,Mc=null;function Dl(e){return e.nodeType===9?e:e.ownerDocument}function Am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Dc(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jc=null;function Qv(){var e=window.event;return e&&e.type==="popstate"?e===jc?!1:(jc=e,!0):(jc=null,!1)}var km=typeof setTimeout=="function"?setTimeout:void 0,Jv=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(e){return Cm.resolve(null).then(e).catch(Zv)}:km;function Zv(e){setTimeout(function(){throw e})}function oi(e){return e==="head"}function Mm(e,s){var r=s,u=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(u===0){e.removeChild(f),Hs(s);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")Ga(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ga(r);for(var g=r.firstChild;g;){var y=g.nextSibling,_=g.nodeName;g[ca]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=y}}else r==="body"&&Ga(e.ownerDocument.body);r=f}while(r);Hs(s)}function Dm(e,s){var r=e;e=0;do{var u=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=u}while(r)}function zc(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":zc(r),Ho(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function t_(e,s,r,u){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[ca])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Je(e.nextSibling),e===null)break}return null}function e_(e,s,r){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Je(e.nextSibling),e===null))return null;return e}function jm(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Je(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$?"||e.data==="$~"}function Uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function n_(e,s){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||r.readyState!=="loading")s();else{var u=function(){s(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Je(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Lc=null;function zm(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(s===0)return Je(e.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}e=e.nextSibling}return null}function Nm(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return e;s--}else r!=="/$"&&r!=="/&"||s++}e=e.previousSibling}return null}function Um(e,s,r){switch(s=Dl(r),e){case"html":if(e=s.documentElement,!e)throw Error(a(452));return e;case"head":if(e=s.head,!e)throw Error(a(453));return e;case"body":if(e=s.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ga(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Ho(e)}var We=new Map,Lm=new Set;function jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=G.d;G.d={f:i_,r:s_,D:a_,C:r_,L:l_,m:o_,X:c_,S:u_,M:h_};function i_(){var e=Un.f(),s=El();return e||s}function s_(e){var s=ss(e);s!==null&&s.tag===5&&s.type==="form"?tg(s):Un.r(e)}var Us=typeof document>"u"?null:document;function Bm(e,s,r){var u=Us;if(u&&typeof s=="string"&&s){var f=Ie(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Lm.has(f)||(Lm.add(f),e={rel:e,crossOrigin:r,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),he(s,"link",e),ae(s),u.head.appendChild(s)))}}function a_(e){Un.D(e),Bm("dns-prefetch",e,null)}function r_(e,s){Un.C(e,s),Bm("preconnect",e,s)}function l_(e,s,r){Un.L(e,s,r);var u=Us;if(u&&e&&s){var f='link[rel="preload"][as="'+Ie(s)+'"]';s==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Ie(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Ie(r.imageSizes)+'"]')):f+='[href="'+Ie(e)+'"]';var g=f;switch(s){case"style":g=Ls(e);break;case"script":g=Bs(e)}We.has(g)||(e=b({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:e,as:s},r),We.set(g,e),u.querySelector(f)!==null||s==="style"&&u.querySelector(Ka(g))||s==="script"&&u.querySelector(Fa(g))||(s=u.createElement("link"),he(s,"link",e),ae(s),u.head.appendChild(s)))}}function o_(e,s){Un.m(e,s);var r=Us;if(r&&e){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ie(u)+'"][href="'+Ie(e)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bs(e)}if(!We.has(g)&&(e=b({rel:"modulepreload",href:e},s),We.set(g,e),r.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Fa(g)))return}u=r.createElement("link"),he(u,"link",e),ae(u),r.head.appendChild(u)}}}function u_(e,s,r){Un.S(e,s,r);var u=Us;if(u&&e){var f=as(u).hoistableStyles,g=Ls(e);s=s||"default";var y=f.get(g);if(!y){var _={loading:0,preload:null};if(y=u.querySelector(Ka(g)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},r),(r=We.get(g))&&Bc(e,r);var T=y=u.createElement("link");ae(T),he(T,"link",e),T._p=new Promise(function(D,H){T.onload=D,T.onerror=H}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,zl(y,s,u)}y={type:"stylesheet",instance:y,count:1,state:_},f.set(g,y)}}}function c_(e,s){Un.X(e,s);var r=Us;if(r&&e){var u=as(r).hoistableScripts,f=Bs(e),g=u.get(f);g||(g=r.querySelector(Fa(f)),g||(e=b({src:e,async:!0},s),(s=We.get(f))&&Hc(e,s),g=r.createElement("script"),ae(g),he(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function h_(e,s){Un.M(e,s);var r=Us;if(r&&e){var u=as(r).hoistableScripts,f=Bs(e),g=u.get(f);g||(g=r.querySelector(Fa(f)),g||(e=b({src:e,async:!0,type:"module"},s),(s=We.get(f))&&Hc(e,s),g=r.createElement("script"),ae(g),he(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Hm(e,s,r,u){var f=(f=ot.current)?jl(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Ls(r.href),r=as(f).hoistableStyles,u=r.get(s),u||(u={type:"style",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ls(r.href);var g=as(f).hoistableStyles,y=g.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,y),(g=f.querySelector(Ka(e)))&&!g._p&&(y.instance=g,y.state.loading=5),We.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},We.set(e,r),g||f_(f,e,r,y.state))),s&&u===null)throw Error(a(528,""));return y}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bs(r),r=as(f).hoistableScripts,u=r.get(s),u||(u={type:"script",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ls(e){return'href="'+Ie(e)+'"'}function Ka(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function f_(e,s,r,u){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=e.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),he(s,"link",r),ae(s),e.head.appendChild(s))}function Bs(e){return'[src="'+Ie(e)+'"]'}function Fa(e){return"script[async]"+e}function Vm(e,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var u=e.querySelector('style[data-href~="'+Ie(r.href)+'"]');if(u)return s.instance=u,ae(u),u;var f=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),ae(u),he(u,"style",f),zl(u,r.precedence,e),s.instance=u;case"stylesheet":f=Ls(r.href);var g=e.querySelector(Ka(f));if(g)return s.state.loading|=4,s.instance=g,ae(g),g;u=qm(r),(f=We.get(f))&&Bc(u,f),g=(e.ownerDocument||e).createElement("link"),ae(g);var y=g;return y._p=new Promise(function(_,T){y.onload=_,y.onerror=T}),he(g,"link",u),s.state.loading|=4,zl(g,r.precedence,e),s.instance=g;case"script":return g=Bs(r.src),(f=e.querySelector(Fa(g)))?(s.instance=f,ae(f),f):(u=r,(f=We.get(g))&&(u=b({},r),Hc(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),ae(f),he(f,"link",u),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,zl(u,r.precedence,e));return s.instance}function zl(e,s,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,y=0;y<u.length;y++){var _=u[y];if(_.dataset.precedence===s)g=_;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(e,s.firstChild))}function Bc(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Hc(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Nl=null;function $m(e,s,r){if(Nl===null){var u=new Map,f=Nl=new Map;f.set(r,u)}else f=Nl,u=f.get(r),u||(u=new Map,f.set(r,u));if(u.has(e))return u;for(u.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var g=r[f];if(!(g[ca]||g[le]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var y=g.getAttribute(s)||"";y=e+y;var _=u.get(y);_?_.push(g):u.set(y,[g])}}return u}function Pm(e,s,r){e=e.ownerDocument||e,e.head.insertBefore(r,s==="title"?e.querySelector("head > title"):null)}function d_(e,s,r){if(r===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Im(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function g_(e,s,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ls(u.href),g=s.querySelector(Ka(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Ul.bind(e),s.then(e,e)),r.state.loading|=4,r.instance=g,ae(g);return}g=s.ownerDocument||s,u=qm(u),(f=We.get(f))&&Bc(u,f),g=g.createElement("link"),ae(g);var y=g;y._p=new Promise(function(_,T){y.onload=_,y.onerror=T}),he(g,"link",u),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ul.bind(e),s.addEventListener("load",r),s.addEventListener("error",r))}}var qc=0;function m_(e,s){return e.stylesheets&&e.count===0&&Bl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var u=setTimeout(function(){if(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+s);0<e.imgBytes&&qc===0&&(qc=62500*Xv());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>qc?50:800)+s);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function Bl(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,s.forEach(p_,e),Ll=null,Ul.call(e))}function p_(e,s){if(!(s.state.loading&4)){var r=Ll.get(e);if(r)var u=r.get(null);else{r=new Map,Ll.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var y=f[g];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),u=y)}u&&r.set(null,u)}f=s.instance,y=f.getAttribute("data-precedence"),g=r.get(y)||u,g===u&&r.set(null,f),r.set(y,f),this.count++,u=Ul.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Xa={$$typeof:C,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function y_(e,s,r,u,f,g,y,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=No(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.hiddenUpdates=No(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ym(e,s,r,u,f,g,y,_,T,D,H,$){return e=new y_(e,s,r,y,T,D,H,$,_),s=1,g===!0&&(s|=24),g=je(3,null,null,s),e.current=g,g.stateNode=e,s=vu(),s.refCount++,e.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:r,cache:s},xu(g),e}function Gm(e){return e?(e=ms,e):ms}function Km(e,s,r,u,f,g){f=Gm(f),u.context===null?u.context=f:u.pendingContext=f,u=Jn(s),u.payload={element:r},g=g===void 0?null:g,g!==null&&(u.callback=g),r=Wn(e,u,s),r!==null&&(Oe(r,e,s),Aa(r,e,s))}function Fm(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function Vc(e,s){Fm(e,s),(e=e.alternate)&&Fm(e,s)}function Xm(e){if(e.tag===13||e.tag===31){var s=ki(e,67108864);s!==null&&Oe(s,e,67108864),Vc(e,67108864)}}function Qm(e){if(e.tag===13||e.tag===31){var s=Be();s=Uo(s);var r=ki(e,s);r!==null&&Oe(r,e,s),Vc(e,s)}}var Hl=!0;function b_(e,s,r,u){var f=L.T;L.T=null;var g=G.p;try{G.p=2,$c(e,s,r,u)}finally{G.p=g,L.T=f}}function v_(e,s,r,u){var f=L.T;L.T=null;var g=G.p;try{G.p=8,$c(e,s,r,u)}finally{G.p=g,L.T=f}}function $c(e,s,r,u){if(Hl){var f=Pc(u);if(f===null)Rc(e,s,u,ql,r),Wm(e,u);else if(w_(f,e,s,r,u))u.stopPropagation();else if(Wm(e,u),s&4&&-1<__.indexOf(e)){for(;f!==null;){var g=ss(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var y=Ei(g.pendingLanes);if(y!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var T=1<<31-Me(y);_.entanglements[1]|=T,y&=~T}mn(g),(Tt&6)===0&&(Sl=ke()+500,Pa(0))}}break;case 31:case 13:_=ki(g,2),_!==null&&Oe(_,g,2),El(),Vc(g,2)}if(g=Pc(u),g===null&&Rc(e,s,u,ql,r),g===f)break;f=g}f!==null&&u.stopPropagation()}else Rc(e,s,u,null,r)}}function Pc(e){return e=Yo(e),Ic(e)}var ql=null;function Ic(e){if(ql=null,e=is(e),e!==null){var s=o(e);if(s===null)e=null;else{var r=s.tag;if(r===13){if(e=c(s),e!==null)return e;e=null}else if(r===31){if(e=h(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return ql=e,null}function Jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ab()){case af:return 2;case rf:return 8;case kr:case rb:return 32;case lf:return 268435456;default:return 32}default:return 32}}var Yc=!1,ui=null,ci=null,hi=null,Qa=new Map,Ja=new Map,fi=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(e,s){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Qa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(s.pointerId)}}function Wa(e,s,r,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:s,domEventName:r,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ss(s),s!==null&&Xm(s)),e):(e.eventSystemFlags|=u,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function w_(e,s,r,u,f){switch(s){case"focusin":return ui=Wa(ui,e,s,r,u,f),!0;case"dragenter":return ci=Wa(ci,e,s,r,u,f),!0;case"mouseover":return hi=Wa(hi,e,s,r,u,f),!0;case"pointerover":var g=f.pointerId;return Qa.set(g,Wa(Qa.get(g)||null,e,s,r,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Ja.set(g,Wa(Ja.get(g)||null,e,s,r,u,f)),!0}return!1}function Zm(e){var s=is(e.target);if(s!==null){var r=o(s);if(r!==null){if(s=r.tag,s===13){if(s=c(r),s!==null){e.blockedOn=s,df(e.priority,function(){Qm(r)});return}}else if(s===31){if(s=h(r),s!==null){e.blockedOn=s,df(e.priority,function(){Qm(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Pc(e.nativeEvent);if(r===null){r=e.nativeEvent;var u=new r.constructor(r.type,r);Io=u,r.target.dispatchEvent(u),Io=null}else return s=ss(r),s!==null&&Xm(s),e.blockedOn=r,!1;s.shift()}return!0}function tp(e,s,r){Vl(e)&&r.delete(s)}function S_(){Yc=!1,ui!==null&&Vl(ui)&&(ui=null),ci!==null&&Vl(ci)&&(ci=null),hi!==null&&Vl(hi)&&(hi=null),Qa.forEach(tp),Ja.forEach(tp)}function $l(e,s){e.blockedOn===s&&(e.blockedOn=null,Yc||(Yc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,S_)))}var Pl=null;function ep(e){Pl!==e&&(Pl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var s=0;s<e.length;s+=3){var r=e[s],u=e[s+1],f=e[s+2];if(typeof u!="function"){if(Ic(u||r)===null)continue;break}var g=ss(r);g!==null&&(e.splice(s,3),s-=3,Pu(g,{pending:!0,data:f,method:r.method,action:u},u,f))}}))}function Hs(e){function s(T){return $l(T,e)}ui!==null&&$l(ui,e),ci!==null&&$l(ci,e),hi!==null&&$l(hi,e),Qa.forEach(s),Ja.forEach(s);for(var r=0;r<fi.length;r++){var u=fi[r];u.blockedOn===e&&(u.blockedOn=null)}for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)Zm(r),r.blockedOn===null&&fi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var f=r[u],g=r[u+1],y=f[_e]||null;if(typeof g=="function")y||ep(r);else if(y){var _=null;if(g&&g.hasAttribute("formAction")){if(f=g,y=g[_e]||null)_=y.formAction;else if(Ic(f)!==null)continue}else _=y.action;typeof _=="function"?r[u+1]=_:(r.splice(u,3),u-=3),ep(r)}}}function np(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Gc(e){this._internalRoot=e}Il.prototype.render=Gc.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,u=Be();Km(r,u,e,s,null,null)},Il.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Km(e.current,2,null,e,null,null),El(),s[ns]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var s=ff();e={blockedOn:null,target:e,priority:s};for(var r=0;r<fi.length&&s!==0&&s<fi[r].priority;r++);fi.splice(r,0,e),r===0&&Zm(e)}};var ip=t.version;if(ip!=="19.2.3")throw Error(a(527,ip,"19.2.3"));G.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(s),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var x_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{la=Yl.inject(x_),Ce=Yl}catch{}}return tr.createRoot=function(e,s){if(!l(e))throw Error(a(299));var r=!1,u="",f=cg,g=hg,y=fg;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=Ym(e,1,!1,null,null,r,u,null,f,g,y,np),e[ns]=s.current,Ac(e),new Gc(s)},tr.hydrateRoot=function(e,s,r){if(!l(e))throw Error(a(299));var u=!1,f="",g=cg,y=hg,_=fg,T=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),s=Ym(e,1,!0,s,r??null,u,f,T,g,y,_,np),s.context=Gm(null),r=s.current,u=Be(),u=Uo(u),f=Jn(u),f.callback=null,Wn(r,f,u),r=u,s.current.lanes=r,ua(s,r),mn(s),e[ns]=s.current,Ac(e),new Il(s)},tr.version="19.2.3",tr}var dp;function z_(){if(dp)return Xc.exports;dp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Xc.exports=j_(),Xc.exports}var N_=z_();const U_=Qy(N_);function So(i,t){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(n[a[l]]=i[a[l]]);return n}function L_(i,t,n,a){function l(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(p){try{m(a.next(p))}catch(b){c(b)}}function d(p){try{m(a.throw(p))}catch(b){c(b)}}function m(p){p.done?o(p.value):l(p.value).then(h,d)}m((a=a.apply(i,t||[])).next())})}const B_=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class Lh extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class H_ extends Lh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gp extends Lh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mp extends Lh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _h;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(_h||(_h={}));class q_{constructor(t,{headers:n={},customFetch:a,region:l=_h.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=B_(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return L_(this,arguments,void 0,function*(n,a={}){var l;let o,c;try{const{headers:h,method:d,body:m,signal:p,timeout:b}=a;let v={},{region:w}=a;w||(w=this.region);const x=new URL(`${this.url}/${n}`);w&&w!=="any"&&(v["x-region"]=w,x.searchParams.set("forceFunctionRegion",w));let S;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(v["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(v["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let E=p;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),p?(E=c.signal,p.addEventListener("abort",()=>c.abort())):E=c.signal);const R=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:S,signal:E}).catch(Y=>{throw new H_(Y)}),z=R.headers.get("x-relay-error");if(z&&z==="true")throw new gp(R);if(!R.ok)throw new mp(R);let C=((l=R.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),U;return C==="application/json"?U=yield R.json():C==="application/octet-stream"||C==="application/pdf"?U=yield R.blob():C==="text/event-stream"?U=R:C==="multipart/form-data"?U=yield R.formData():U=yield R.text(),{data:U,error:null,response:R}}catch(h){return{data:null,error:h,response:h instanceof mp||h instanceof gp?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var V_=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},$_=class{constructor(i){var t,n;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,h=null,d=null,m=o.status,p=o.statusText;if(o.ok){var b,v;if(n.method!=="HEAD"){var w;const R=await o.text();R===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=R:h=JSON.parse(R))}const S=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),E=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&E&&E.length>1&&(d=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var x;const S=await o.text();try{c=JSON.parse(S),Array.isArray(c)&&o.status===404&&(h=[],c=null,m=200,p="OK")}catch{o.status===404&&S===""?(m=204,p="No Content"):c={message:S}}if(c&&n.isMaybeSingle&&(!(c==null||(x=c.details)===null||x===void 0)&&x.includes("0 rows"))&&(c=null,m=200,p="OK"),c&&n.shouldThrowOnError)throw new V_(c)}return{error:c,data:h,count:d,status:m,statusText:p}});return this.shouldThrowOnError||(l=l.catch(o=>{var c;let h="";const d=o?.cause;if(d){var m,p,b,v;const x=(m=d?.message)!==null&&m!==void 0?m:"",S=(p=d?.code)!==null&&p!==void 0?p:"";h=`${(b=o?.name)!==null&&b!==void 0?b:"FetchError"}: ${o?.message}`,h+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${x}`,S&&(h+=` (${S})`),d?.stack&&(h+=`
${d.stack}`)}else{var w;h=(w=o?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,t)}returns(){return this}overrideTypes(){return this}},P_=class extends $_{select(i){let t=!1;const n=(i??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${i}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,t,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(o,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:o="text"}={}){var c;const h=[i?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${h};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const pp=new RegExp("[,()]");var Ks=class extends P_{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&pp.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&pp.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${l}fts${o}.${t}`),this}match(i){return Object.entries(i).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(i,t,n){return this.url.searchParams.append(i,`not.${t}.${n}`),this}or(i,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,t,n){return this.url.searchParams.append(i,`${t}.${n}`),this}},I_=class{constructor(i,{headers:t={},schema:n,fetch:a}){this.url=i,this.headers=new Headers(t),this.schema=n,this.fetch=a}select(i,t){const{head:n=!1,count:a}=t??{},l=n?"HEAD":"GET";let o=!1;const c=(i??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new Ks({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:t,defaultToNull:n=!0}={}){var a;const l="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const o=i.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(o.length>0){const c=[...new Set(o)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ks({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ks({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(i,{count:t}={}){var n;const a="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Ks({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:i}={}){var t;const n="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Ks({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Y_=class Jy{constructor(t,{headers:n={},schema:a,fetch:l}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new I_(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Jy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:a=!1,get:l=!1,count:o}={}){var c;let h;const d=new URL(`${this.url}/rpc/${t}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(n).filter(([b,v])=>v!==void 0).map(([b,v])=>[b,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([b,v])=>{d.searchParams.append(b,v)})):(h="POST",m=n);const p=new Headers(this.headers);return o&&p.set("Prefer",`count=${o}`),new Ks({method:h,url:d,headers:p,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class G_{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const K_="2.89.0",F_=`realtime-js/${K_}`,Wy="1.0.0",X_="2.0.0",yp=Wy,wh=1e4,Q_=1e3,J_=100;var gi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(gi||(gi={}));var ie;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ie||(ie={}));var un;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(un||(un={}));var Sh;(function(i){i.websocket="websocket"})(Sh||(Sh={}));var Qi;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Qi||(Qi={}));class W_{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const l=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var n,a;const l=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,n,a){var l,o;const c=t.topic,h=(l=t.ref)!==null&&l!==void 0?l:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",m=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+m.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(w),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,d.length),x.setUint8(S++,h.length),x.setUint8(S++,c.length),x.setUint8(S++,m.length),x.setUint8(S++,b.length),x.setUint8(S++,n),Array.from(d,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(h,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(c,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(m,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(b,R=>x.setUint8(S++,R.charCodeAt(0)));var E=new Uint8Array(w.byteLength+a.byteLength);return E.set(new Uint8Array(w),0),E.set(new Uint8Array(a),w.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,o,c,h,d]=a;return n({join_ref:l,ref:o,topic:c,event:h,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,l)}_decodeUserBroadcast(t,n,a){const l=n.getUint8(1),o=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let d=this.HEADER_LENGTH+4;const m=a.decode(t.slice(d,d+l));d=d+l;const p=a.decode(t.slice(d,d+o));d=d+o;const b=a.decode(t.slice(d,d+c));d=d+c;const v=t.slice(d,t.byteLength),w=h===this.JSON_ENCODING?JSON.parse(a.decode(v)):v,x={type:this.BROADCAST_EVENT,event:p,payload:w};return c>0&&(x.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Zy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ut;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ut||(Ut={}));const bp=(i,t,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((o,c)=>(o[c]=Z_(c,i,t,l),o),{}):{}},Z_=(i,t,n,a)=>{const l=t.find(h=>h.name===i),o=l?.type,c=n[i];return o&&!a.includes(o)?t0(o,c):xh(c)},t0=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return iw(t,n)}switch(i){case Ut.bool:return tw(t);case Ut.float4:case Ut.float8:case Ut.int2:case Ut.int4:case Ut.int8:case Ut.numeric:case Ut.oid:return ew(t);case Ut.json:case Ut.jsonb:return nw(t);case Ut.timestamp:return sw(t);case Ut.abstime:case Ut.date:case Ut.daterange:case Ut.int4range:case Ut.int8range:case Ut.money:case Ut.reltime:case Ut.text:case Ut.time:case Ut.timestamptz:case Ut.timetz:case Ut.tsrange:case Ut.tstzrange:return xh(t);default:return xh(t)}},xh=i=>i,tw=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},ew=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},nw=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},iw=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,a=i[n];if(i[0]==="{"&&a==="}"){let o;const c=i.slice(1,n);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>t0(t,h))}return i},sw=i=>typeof i=="string"?i.replace(" ","T"):i,e0=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zc{constructor(t,n,a={},l=wh){this.channel=t,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vp;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(vp||(vp={}));class cr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cr.syncState(this.state,l,o,c),this.pendingDiffs.forEach(d=>{this.state=cr.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=cr.syncDiff(this.state,l,o,c),h())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,l){const o=this.cloneDeep(t),c=this.transformState(n),h={},d={};return this.map(o,(m,p)=>{c[m]||(d[m]=p)}),this.map(c,(m,p)=>{const b=o[m];if(b){const v=p.map(E=>E.presence_ref),w=b.map(E=>E.presence_ref),x=p.filter(E=>w.indexOf(E.presence_ref)<0),S=b.filter(E=>v.indexOf(E.presence_ref)<0);x.length>0&&(h[m]=x),S.length>0&&(d[m]=S)}else h[m]=p}),this.syncDiff(o,{joins:h,leaves:d},a,l)}static syncDiff(t,n,a,l){const{joins:o,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(o,(h,d)=>{var m;const p=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(d),p.length>0){const b=t[h].map(w=>w.presence_ref),v=p.filter(w=>b.indexOf(w.presence_ref)<0);t[h].unshift(...v)}a(h,p,d)}),this.map(c,(h,d)=>{let m=t[h];if(!m)return;const p=d.map(b=>b.presence_ref);m=m.filter(b=>p.indexOf(b.presence_ref)<0),t[h]=m,l(h,m,d),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const l=t[a];return"metas"in l?n[a]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _p;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(_p||(_p={}));var hr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(hr||(hr={}));var qn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class Qs{constructor(t,n={config:{}},a){var l,o;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zc(this,un.join,this.params,this.timeout),this.rejoinTimer=new Zy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new cr(this),this.broadcastEndpointURL=e0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,m=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&l!==void 0?l:[],p=!!this.bindings[hr.PRESENCE]&&this.bindings[hr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},v={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(qn.CHANNEL_ERROR,w)),this._onClose(()=>t?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(qn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(x=S?.length)!==null&&x!==void 0?x:0,R=[];for(let z=0;z<E;z++){const C=S[z],{filter:{event:U,schema:Y,table:I,filter:P}}=C,F=w&&w[z];if(F&&F.event===U&&Qs.isFilterValueEqual(F.schema,Y)&&Qs.isFilterValueEqual(F.table,I)&&Qs.isFilterValueEqual(F.filter,P))R.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),this.state=ie.errored,t?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(qn.SUBSCRIBED);return}}).receive("error",w=>{this.state=ie.errored,t?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ie.joined&&t===hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const m=await h.json();d=m.error||m.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,d;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new Zc(this,un.leave,{},t),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const l=new AbortController,o=setTimeout(()=>l.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(o),c}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Zc(this,t,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>J_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var l,o;const c=t.toLocaleLowerCase(),{close:h,error:d,leave:m,join:p}=un;if(a&&[h,d,m,p].indexOf(c)>=0&&a!==this._joinRef())return;let v=this._onMessage(c,n,a);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var x,S,E;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((E=(S=w.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(w=>w.callback(v,a)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var x,S,E,R,z,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const U=w.id,Y=(x=w.filter)===null||x===void 0?void 0:x.event;return U&&((S=n.ids)===null||S===void 0?void 0:S.includes(U))&&(Y==="*"||Y?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const U=(z=(R=w?.filter)===null||R===void 0?void 0:R.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return U==="*"||U===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:S,table:E,commit_timestamp:R,type:z,errors:C}=x;v=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:R,eventType:z,new:{},old:{},errors:C}),this._getPayloadRecords(x))}w.callback(v,a)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const l=t.toLocaleLowerCase(),o={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&Qs.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(un.close,{},t)}_onError(t){this._on(un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=bp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=bp(t.columns,t.old_record)),n}}const th=()=>{},Gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aw=[1e3,2e3,5e3,1e4],rw=1e4,lw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ow{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wh,this.transport=null,this.heartbeatIntervalMs=Gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=th,this.ref=0,this.reconnectTimer=null,this.vsn=yp,this.logger=th,this.conn=null,this.sendBuffer=[],this.serializer=new W_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Sh.websocket}`,this.httpEndpoint=e0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=G_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return Qi.Connecting;case gi.open:return Qi.Open;case gi.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===a);if(l)return l;{const o=new Qs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:a,payload:l,ref:o}=t,c=()=>{this.encode(t,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${a} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Q_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:o,ref:c}=n,h=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${a} ${l} ${h}`.trim(),o),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(l,o,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===gi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gi.open||this.conn.readyState===gi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${a}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([lw],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const o={access_token:n,version:F_};n&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Zy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,l,o,c,h,d,m,p,b,v,w;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:wh,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:Gl.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:th,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:yp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(x=>aw[x-1]||rw),this.vsn){case Wy:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((x,S)=>S(JSON.stringify(x))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((x,S)=>S(JSON.parse(x)));break;case X_:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var mr=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uw(i,t,n){const a=new URL(t,i);if(n)for(const[l,o]of Object.entries(n))o!==void 0&&a.searchParams.set(l,o);return a.toString()}async function cw(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function hw(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:o,headers:c}){const h=uw(i.baseUrl,a,l),d=await cw(i.auth),m=await t(h,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),p=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),v=b&&p?JSON.parse(p):p;if(!m.ok){const w=b?v:void 0,x=w?.error;throw new mr(x?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:x?.type,icebergCode:x?.code,details:w})}return{status:m.status,headers:m.headers,data:v}}}}function Kl(i){return i.join("")}var fw=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:Kl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(i,t){const n={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(i.namespace)}`}),!0}catch(t){if(t instanceof mr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(n){if(n instanceof mr&&n.status===409)return;throw n}}};function qs(i){return i.join("")}var dw=class{constructor(i,t="",n){this.client=i,this.prefix=t,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qs(i.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(i,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qs(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qs(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qs(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(n){if(n instanceof mr&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(n){if(n instanceof mr&&n.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw n}}},gw=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=hw({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new fw(this.client,t),this.tableOps=new dw(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},xo=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Vt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var mw=class extends xo{constructor(i,t,n){super(i),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Eh=class extends xo{constructor(i,t){super(i),this.name="StorageUnknownError",this.originalError=t}};const Bh=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),pw=()=>Response,Th=i=>{if(Array.isArray(i))return i.map(n=>Th(n));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=Th(a)}),t},yw=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},bw=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function pr(i){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(i)}function vw(i,t){if(pr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(pr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function _w(i){var t=vw(i,"string");return pr(t)=="symbol"?t:t+""}function ww(i,t,n){return(t=_w(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function wp(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,a)}return n}function st(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wp(Object(n),!0).forEach(function(a){ww(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const eh=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},Sw=async(i,t,n)=>{i instanceof await pw()&&!n?.noResolveJson?i.json().then(a=>{const l=i.status||500,o=a?.statusCode||l+"";t(new mw(eh(a),l,o))}).catch(a=>{t(new Eh(eh(a),a))}):t(new Eh(eh(i),i))},xw=(i,t,n,a)=>{const l={method:i,headers:t?.headers||{}};return i==="GET"||!a?l:(yw(a)?(l.headers=st({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),st(st({},l),n))};async function Or(i,t,n,a,l,o){return new Promise((c,h)=>{i(n,xw(t,a,l,o)).then(d=>{if(!d.ok)throw d;return a?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>Sw(d,h,a))})}async function yr(i,t,n,a){return Or(i,"GET",t,n,a)}async function on(i,t,n,a,l){return Or(i,"POST",t,a,l,n)}async function Oh(i,t,n,a,l){return Or(i,"PUT",t,a,l,n)}async function Ew(i,t,n,a){return Or(i,"HEAD",t,st(st({},n),{},{noResolveJson:!0}),a)}async function Hh(i,t,n,a,l){return Or(i,"DELETE",t,a,l,n)}var Tw=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}}};let n0;n0=Symbol.toStringTag;var Ow=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[n0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tw(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}}};const Aw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Rw=class{constructor(i,t={},n,a){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.bucketId=n,this.fetch=Bh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,t,n,a){var l=this;try{let o;const c=st(st({},Sp),a);let h=st(st({},l.headers),i==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",l.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",l.encodeMetadata(d))):(o=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=l.toBase64(l.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(h=st(st({},h),a.headers));const m=l._removeEmptyFolders(t),p=l._getFinalPath(m),b=await(i=="PUT"?Oh:on)(l.fetch,`${l.url}/object/${p}`,o,st({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(Vt(o))return{data:null,error:o};throw o}}async upload(i,t,n){return this.uploadOrUpdate("POST",i,t,n)}async uploadToSignedUrl(i,t,n,a){var l=this;const o=l._removeEmptyFolders(i),c=l._getFinalPath(o),h=new URL(l.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let d;const m=st({upsert:Sp.upsert},a),p=st(st({},l.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType),{data:{path:o,fullPath:(await Oh(l.fetch,h.toString(),d,{headers:p})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Vt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(i,t){var n=this;try{let a=n._getFinalPath(i);const l=st({},n.headers);t?.upsert&&(l["x-upsert"]="true");const o=await on(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),c=new URL(n.url+o.url),h=c.searchParams.get("token");if(!h)throw new xo("No token returned by API");return{data:{signedUrl:c.toString(),path:i,token:h},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}async update(i,t,n){return this.uploadOrUpdate("PUT",i,t,n)}async move(i,t,n){var a=this;try{return{data:await on(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}}async copy(i,t,n){var a=this;try{return{data:{path:(await on(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}}async createSignedUrl(i,t,n){var a=this;try{let l=a._getFinalPath(i),o=await on(a.fetch,`${a.url}/object/sign/${l}`,st({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${a.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}}async createSignedUrls(i,t,n){var a=this;try{const l=await on(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:i},{headers:a.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(c=>st(st({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}}download(i,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),l=a?`?${a}`:"",o=this._getFinalPath(i),c=()=>yr(this.fetch,`${this.url}/${n}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new Ow(c,this.shouldThrowOnError)}async info(i){var t=this;const n=t._getFinalPath(i);try{return{data:Th(await yr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}async exists(i){var t=this;const n=t._getFinalPath(i);try{return await Ew(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Vt(a)&&a instanceof Eh){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(i,t){const n=this._getFinalPath(i),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const o=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&a.push(c);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${h}`)}}}async remove(i){var t=this;try{return{data:await Hh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async list(i,t,n){var a=this;try{const l=st(st(st({},Aw),t),{},{prefix:i||""});return{data:await on(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}}async listV2(i,t){var n=this;try{const a=st({},i);return{data:await on(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const i0="2.89.0",s0={"X-Client-Info":`storage-js/${i0}`};var kw=class{constructor(i,t={},n,a){this.shouldThrowOnError=!1;const l=new URL(i);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=st(st({},s0),t),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var t=this;try{const n=t.listBucketOptionsToQueryString(i);return{data:await yr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async getBucket(i){var t=this;try{return{data:await yr(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async createBucket(i,t={public:!1}){var n=this;try{return{data:await on(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}async updateBucket(i,t){var n=this;try{return{data:await Oh(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}}async emptyBucket(i){var t=this;try{return{data:await on(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(i){var t=this;try{return{data:await Hh(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Cw=class{constructor(i,t={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=st(st({},s0),t),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var t=this;try{return{data:await on(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listBuckets(i){var t=this;try{const n=new URLSearchParams;i?.limit!==void 0&&n.set("limit",i.limit.toString()),i?.offset!==void 0&&n.set("offset",i.offset.toString()),i?.sortColumn&&n.set("sortColumn",i.sortColumn),i?.sortOrder&&n.set("sortOrder",i.sortOrder),i?.search&&n.set("search",i.search);const a=n.toString(),l=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await yr(t.fetch,l,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async deleteBucket(i){var t=this;try{return{data:await Hh(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}from(i){var t=this;if(!bw(i))throw new xo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new gw({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,o){const c=l[o];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(l,h),error:null}}catch(d){if(a)throw d;return{data:null,error:d}}}}})}};const qh={"X-Client-Info":`storage-js/${i0}`,"Content-Type":"application/json"};var a0=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qe(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var nh=class extends a0{constructor(i,t,n){super(i),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mw=class extends a0{constructor(i,t){super(i),this.name="StorageVectorsUnknownError",this.originalError=t}};const Vh=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),Dw=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},xp=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),jw=async(i,t,n)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const a=i.status||500,l=i;if(typeof l.json=="function")l.json().then(o=>{const c=o?.statusCode||o?.code||a+"";t(new nh(xp(o),a,c))}).catch(()=>{const o=a+"";t(new nh(l.statusText||`HTTP ${a} error`,a,o))});else{const o=a+"";t(new nh(l.statusText||`HTTP ${a} error`,a,o))}}else t(new Mw(xp(i),i))},zw=(i,t,n,a)=>{const l={method:i,headers:t?.headers||{}};return a?(Dw(a)?(l.headers=st({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,st(st({},l),n)):l};async function Nw(i,t,n,a,l,o){return new Promise((c,h)=>{i(n,zw(t,a,l,o)).then(d=>{if(!d.ok)throw d;if(a?.noResolveJson)return d;const m=d.headers.get("content-type");return!m||!m.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>jw(d,h,a))})}async function Ve(i,t,n,a,l){return Nw(i,"POST",t,a,l,n)}var Uw=class{constructor(i,t={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=st(st({},qh),t),this.fetch=Vh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getIndex(i,t){var n=this;try{return{data:await Ve(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}}async listIndexes(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteIndex(i,t){var n=this;try{return{data:await Ve(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}}},Lw=class{constructor(i,t={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=st(st({},qh),t),this.fetch=Vh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var t=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ve(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getVectors(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listVectors(i){var t=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Ve(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async queryVectors(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteVectors(i){var t=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ve(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}},Bw=class{constructor(i,t={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=st(st({},qh),t),this.fetch=Vh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async getBucket(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async listBuckets(i={}){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}async deleteBucket(i){var t=this;try{return{data:await Ve(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}},Hw=class extends Bw{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new qw(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,n=this;return t().call(n,i)}async getBucket(i){var t=()=>super.getBucket,n=this;return t().call(n,i)}async listBuckets(i={}){var t=()=>super.listBuckets,n=this;return t().call(n,i)}async deleteBucket(i){var t=()=>super.deleteBucket,n=this;return t().call(n,i)}},qw=class extends Uw{constructor(i,t,n,a){super(i,t,a),this.vectorBucketName=n}async createIndex(i){var t=()=>super.createIndex,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,i)}index(i){return new Vw(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},Vw=class extends Lw{constructor(i,t,n,a,l){super(i,t,l),this.vectorBucketName=n,this.indexName=a}async putVectors(i){var t=()=>super.putVectors,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var t=()=>super.getVectors,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,n=this;return t().call(n,st(st({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},$w=class extends kw{constructor(i,t={},n,a){super(i,t,n,a)}from(i){return new Rw(this.url,this.headers,i,this.fetch)}get vectors(){return new Hw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cw(this.url+"/iceberg",this.headers,this.fetch)}};const r0="2.89.0",Fs=30*1e3,Ah=3,ih=Ah*Fs,Pw="http://localhost:9999",Iw="supabase.auth.token",Yw={"X-Client-Info":`gotrue-js/${r0}`},Rh="X-Supabase-Api-Version",l0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kw=600*1e3;class br extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Z(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Fw extends br{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function Xw(i){return Z(i)&&i.name==="AuthApiError"}class Ji extends br{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $n extends br{constructor(t,n,a,l){super(t,a,l),this.name=n,this.status=a}}class He extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qw(i){return Z(i)&&i.name==="AuthSessionMissingError"}class Vs extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fl extends $n{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xl extends $n{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jw(i){return Z(i)&&i.name==="AuthImplicitGrantRedirectError"}class Ep extends $n{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ww extends $n{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kh extends $n{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function sh(i){return Z(i)&&i.name==="AuthRetryableFetchError"}class Tp extends $n{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Ch extends $n{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Op=` 	
\r=`.split(""),Zw=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<Op.length;t+=1)i[Op[t].charCodeAt(0)]=-2;for(let t=0;t<ho.length;t+=1)i[ho[t].charCodeAt(0)]=t;return i})();function Ap(i,t,n){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ho[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ho[a]),t.queuedBits-=6}}function o0(i,t,n){const a=Zw[i];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Rp(i){const t=[],n=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{nS(c,a,n)};for(let c=0;c<i.length;c+=1)o0(i.charCodeAt(c),l,o);return t.join("")}function tS(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function eS(i,t){for(let n=0;n<i.length;n+=1){let a=i.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}tS(a,t)}}function nS(i,t,n){if(t.utf8seq===0){if(i<=127){n(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ws(i){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<i.length;l+=1)o0(i.charCodeAt(l),n,a);return new Uint8Array(t)}function iS(i){const t=[];return eS(i,n=>t.push(n)),new Uint8Array(t)}function Wi(i){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};return i.forEach(l=>Ap(l,n,a)),Ap(null,n,a),t.join("")}function sS(i){return Math.round(Date.now()/1e3)+i}function aS(){return Symbol("auth-callback")}const de=()=>typeof window<"u"&&typeof document<"u",$i={tested:!1,writable:!1},u0=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($i.tested)return $i.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),$i.tested=!0,$i.writable=!0}catch{$i.tested=!0,$i.writable=!1}return $i.writable};function rS(i){const t={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return n.searchParams.forEach((a,l)=>{t[l]=a}),t}const c0=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),lS=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Xs=async(i,t,n)=>{await i.setItem(t,JSON.stringify(n))},Pi=async(i,t)=>{const n=await i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fe=async(i,t)=>{await i.removeItem(t)};class Eo{constructor(){this.promise=new Eo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Eo.promiseConstructor=Promise;function ah(i){const t=i.split(".");if(t.length!==3)throw new Ch("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Gw.test(t[a]))throw new Ch("JWT not in base64url format");return{header:JSON.parse(Rp(t[0])),payload:JSON.parse(Rp(t[1])),signature:Ws(t[2]),raw:{header:t[0],payload:t[1]}}}async function oS(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function uS(i,t){return new Promise((a,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await i(o);if(!t(o,null,c)){a(c);return}}catch(c){if(!t(o,c)){l(c);return}}})()})}function cS(i){return("0"+i.toString(16)).substr(-2)}function hS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let o=0;o<56;o++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,cS).join("")}async function fS(i){const n=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function dS(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await fS(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(i,t,n=!1){const a=hS();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await Xs(i,`${t}-code-verifier`,l);const o=await dS(a);return[o,a===o?"plain":"s256"]}const gS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mS(i){const t=i.headers.get(Rh);if(!t||!t.match(gS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pS(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function yS(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(i){if(!bS.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rh(){const i={};return new Proxy(i,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vS(i,t){return new Proxy(i,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,l)}})}function kp(i){return JSON.parse(JSON.stringify(i))}const Fi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),_S=[502,503,504];async function Cp(i){var t;if(!lS(i))throw new kh(Fi(i),0);if(_S.includes(i.status))throw new kh(Fi(i),i.status);let n;try{n=await i.json()}catch(o){throw new Ji(Fi(o),o)}let a;const l=mS(i);if(l&&l.getTime()>=l0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Tp(Fi(n),i.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new He}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Tp(Fi(n),i.status,n.weak_password.reasons);throw new Fw(Fi(n),i.status||500,a)}const wS=(i,t,n,a)=>{const l={method:i,headers:t?.headers||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function it(i,t,n,a){var l;const o=Object.assign({},a?.headers);o[Rh]||(o[Rh]=l0["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const c=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await SS(i,t,n+h,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(d):{data:Object.assign({},d),error:null}}async function SS(i,t,n,a,l,o){const c=wS(t,a,l,o);let h;try{h=await i(n,Object.assign({},c))}catch(d){throw console.error(d),new kh(Fi(d),0)}if(h.ok||await Cp(h),a?.noResolveJson)return h;try{return await h.json()}catch(d){await Cp(d)}}function ln(i){var t;let n=null;TS(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=sS(i.expires_in)));const a=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:a},error:null}}function Mp(i){const t=ln(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=i.weak_password),t}function mi(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function xS(i){return{data:i,error:null}}function ES(i){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:o}=i,c=So(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:o},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function Dp(i){return i}function TS(i){return i.access_token&&i.refresh_token&&i.expires_in}const lh=["global","local","others"];class OS{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=c0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=lh[0]){if(lh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lh.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mi})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=So(t,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:ES,redirectTo:n?.redirectTo})}catch(n){if(Z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mi})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,l,o,c,h,d;try{const m={nextPage:null,lastPage:0,total:0},p=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Dp});if(p.error)throw p.error;const b=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(d=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);m[`${E}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Z(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ps(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mi})}catch(n){if(Z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ps(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:mi})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Ps(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:mi})}catch(a){if(Z(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Ps(t.userId);try{const{data:n,error:a}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ps(t.userId),Ps(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,l,o,c,h,d;try{const m={nextPage:null,lastPage:0,total:0},p=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:Dp});if(p.error)throw p.error;const b=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(d=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(x.split(";")[1].split("=")[1]);m[`${E}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Z(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Z(n))return{data:null,error:n};throw n}}}function jp(i={}){return{getItem:t=>i[t]||null,setItem:(t,n)=>{i[t]=n},removeItem:t=>{delete i[t]}}}const Is={debug:!!(globalThis&&u0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AS extends h0{}async function RS(i,t,n){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(t===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new AS(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Is.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function kS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function f0(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function CS(i){return parseInt(i,16)}function MS(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function DS(i){var t;const{chainId:n,domain:a,expirationTime:l,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:d,resources:m,scheme:p,uri:b,version:v}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=f0(i.address),x=p?`${p}://${a}`:a,S=i.statement?`${i.statement}
`:"",E=`${x} wants you to sign in with your Ethereum account:
${w}

${S}`;let R=`URI: ${b}
Version: ${v}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(l&&(R+=`
Expiration Time: ${l.toISOString()}`),h&&(R+=`
Not Before: ${h.toISOString()}`),d&&(R+=`
Request ID: ${d}`),m){let z=`
Resources:`;for(const C of m){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);z+=`
- ${C}`}R+=z}return`${E}
${R}`}class ee extends Error{constructor({message:t,code:n,cause:a,name:l}){var o;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=l??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class fo extends ee{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function jS({error:i,options:t}){var n,a,l;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ee({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(d0(c)){if(o.rp.id!==c)return new ee({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function zS({error:i,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ee({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(d0(a)){if(n.rpId!==a)return new ee({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class NS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const US=new NS;function LS(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:n,excludeCredentials:a}=i,l=So(i,["challenge","user","excludeCredentials"]),o=Ws(t).buffer,c=Object.assign(Object.assign({},n),{id:Ws(n.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:o,user:c});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const m=a[d];h.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:Ws(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function BS(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:n}=i,a=So(i,["challenge","allowCredentials"]),l=Ws(t).buffer,o=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Ws(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function HS(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Wi(new Uint8Array(i.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qS(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,a=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Wi(new Uint8Array(l.authenticatorData)),clientDataJSON:Wi(new Uint8Array(l.clientDataJSON)),signature:Wi(new Uint8Array(l.signature)),userHandle:l.userHandle?Wi(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d0(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function zp(){var i,t;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function VS(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",t)}:{data:null,error:new fo("Empty credential response",t)}}catch(t){return{data:null,error:jS({error:t,options:i})}}}async function $S(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",t)}:{data:null,error:new fo("Empty credential response",t)}}catch(t){return{data:null,error:zS({error:t,options:i})}}}const PS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},IS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function go(...i){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of i)if(l)for(const o in l){const c=l[o];if(c!==void 0)if(Array.isArray(c))a[o]=c;else if(n(c))a[o]=c;else if(t(c)){const h=a[o];t(h)?a[o]=go(h,c):a[o]=go(c)}else a[o]=c}return a}function YS(i,t){return go(PS,i,t||{})}function GS(i,t){return go(IS,i,t||{})}class KS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:l},o){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!c)return{data:null,error:h};const d=l??US.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=YS(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:b}=await VS({publicKey:m,signal:d});return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}case"request":{const m=GS(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:b}=await $S(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:d}));return p?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}}}catch(c){return Z(c)?{data:null,error:c}:{data:null,error:new Ji("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!n)return{data:null,error:new br("rpId is required for WebAuthn authentication")};try{if(!zp())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:o});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:a,credential_response:d.credential_response}})}catch(c){return Z(c)?{data:null,error:c}:{data:null,error:new Ji("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!n)return{data:null,error:new br("rpId is required for WebAuthn registration")};try{if(!zp())return{data:null,error:new Ji("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:h};const{data:d,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:a,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Z(c)?{data:null,error:c}:{data:null,error:new Ji("Unexpected error in register",c)}}}}kS();const FS={url:Pw,storageKey:Iw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Np(i,t,n){return await n()}const Ys={};class vr{get jwks(){var t,n;return(n=(t=Ys[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ys[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},FS),t);if(this.storageKey=o.storageKey,this.instanceID=(n=vr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,vr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&de()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new OS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=c0(o.fetch),this.lock=o.lock||Np,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&de()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=RS:this.lock=Np,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:u0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jp(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=jp(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${r0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(de()&&(n=rS(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),de()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Jw(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Z(n)?this._returnResult({error:n}):this._returnResult({error:new Ji("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,l;try{const o=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:ln}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,a,l;try{let o;if("email"in t){const{email:p,password:b,options:v}=t;let w=null,x=null;this.flowType==="pkce"&&([w,x]=await $s(this.storage,this.storageKey)),o=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:b,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:x},xform:ln})}else if("phone"in t){const{phone:p,password:b,options:v}=t;o=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(a=v?.data)!==null&&a!==void 0?a:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ln})}else throw new Fl("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:c,options:h}=t;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Mp})}else if("phone"in t){const{phone:o,password:c,options:h}=t;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Mp})}else throw new Fl("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const o=new Vs;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,l,o,c,h,d,m,p,b,v;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:S,wallet:E,statement:R,options:z}=t;let C;if(de())if(typeof E=="object")C=E;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")C=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=E}const U=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href),Y=await C.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=f0(Y[0]);let P=(a=z?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!P){const W=await C.request({method:"eth_chainId"});P=CS(W)}const F={domain:U.host,address:I,statement:R,uri:U.href,version:"1",chainId:P,nonce:(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(o=z?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=z?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=z?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=z?.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=DS(F),x=await C.request({method:"personal_sign",params:[MS(w),I]})}try{const{data:S,error:E}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:x},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ln});if(E)throw E;if(!S||!S.session||!S.user){const R=new Vs;return this._returnResult({data:{user:null,session:null},error:R})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(Z(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,a,l,o,c,h,d,m,p,b,v,w;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:E,wallet:R,statement:z,options:C}=t;let U;if(de())if(typeof R=="object")U=R;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))U=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=R}const Y=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const I=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),z?{statement:z}:null));let P;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")P=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)P=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${Y.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(l=(a=C?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=C?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((b=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const I=await U.signMessage(new TextEncoder().encode(x),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:E,error:R}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Wi(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ln});if(R)throw R;if(!E||!E.session||!E.user){const z=new Vs;return this._returnResult({data:{user:null,session:null},error:z})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:R})}catch(E){if(Z(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await Pi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Ww;const{data:o,error:c}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ln});if(await fe(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new Vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:a,token:l,access_token:o,nonce:c}=t,h=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ln}),{data:d,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d||!d.session||!d.user){const p=new Vs;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:m})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,l,o,c;try{if("email"in t){const{email:h,options:d}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await $s(this.storage,this.storageKey));const{error:b}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:h,options:d}=t,{data:m,error:p}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=d?.data)!==null&&l!==void 0?l:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:p})}throw new Fl("You must provide either an email or phone number.")}catch(h){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,a;try{let l,o;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:h}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:ln});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,m=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(l){if(Z(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var n,a,l,o,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await $s(this.storage,this.storageKey));const m=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:xS});return!((o=m.data)===null||o===void 0)&&o.url&&de()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new He;const{error:l}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(Z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:o}=t,{error:c}=await it(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:l,options:o}=t,{data:c,error:h}=await it(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Fl("You must provide either an email or phone number and a type")}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ih:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await Pi(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=rh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=vS(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mi}):await this._useSession(async n=>{var a,l,o;const{data:c,error:h}=n;if(h)throw h;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:mi})})}catch(n){if(Z(n))return Qw(n)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:l,error:o}=a;if(o)throw o;if(!l.session)throw new He;const c=l.session;let h=null,d=null;this.flowType==="pkce"&&t.email!=null&&([h,d]=await $s(this.storage,this.storageKey));const{data:m,error:p}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:mi});if(p)throw p;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new He;const n=Date.now()/1e3;let a=n,l=!0,o=null;const{payload:c}=ah(t.access_token);if(c.exp&&(a=c.exp,l=a<=n),l){const{data:h,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:c,error:h}=n;if(h)throw h;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new He;const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!de())throw new Xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ep("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ep("No code detected.");const{data:z,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:h,expires_at:d,token_type:m}=t;if(!o||!h||!c||!m)throw new Xl("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(h);let v=p+b;d&&(v=parseInt(d));const w=v-p;w*1e3<=Fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const x=v-b;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,p);const{data:S,error:E}=await this._getUser(o);if(E)throw E;const R={provider_token:a,provider_refresh_token:l,access_token:o,expires_in:b,expires_at:v,refresh_token:c,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(a){if(Z(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Pi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({error:o});const c=(a=l.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(Xw(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=aS(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,l;try{const{data:{session:o},error:c}=n;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await $s(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:l}=await this._useSession(async o=>{var c,h,d,m,p;const{data:b,error:v}=o;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(l)throw l;return de()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(Z(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:o}}=n;if(l)throw l;const{options:c,provider:h,token:d,access_token:m,nonce:p}=t,b=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:d,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ln}),{data:v,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Vs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(l){if(await fe(this.storage,`${this.storageKey}-code-verifier`),Z(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,l;const{data:o,error:c}=n;if(c)throw c;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await uS(async l=>(l>0&&await oS(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ln})),(l,o)=>{const c=200*Math.pow(2,l);return o&&sh(o)&&Date.now()+c-a<Fs})}catch(a){if(this._debug(n,"error",a),Z(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),de()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Pi(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Xs(this.userStorage,this.storageKey+"-user",c)),l.user=(t=c?.user)!==null&&t!==void 0?t:rh()}else if(l&&!l.user&&!l.user){const c=await Pi(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await fe(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,l)):l.user=rh()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const o=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ih;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${ih}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),sh(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(l.access_token);!h&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Eo;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new He;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(l,"error",o),Z(o)){const c={data:null,error:o};return sh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const o=kp(l);await Xs(this.storage,this.storageKey,o)}else{const l=kp(n);await Xs(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&de()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Fs}ms, refresh threshold is ${Ah} ticks`),l<=Ah&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof h0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!de()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,c]=await $s(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(h.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);l.push(o.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;return o?this._returnResult({data:null,error:o}):await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,l;const{data:o,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:m}=await it(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&d.type==="totp"&&(!((l=d?.totp)===null||l===void 0)&&l.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HS(t.webauthn.credential_response):qS(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:d}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({data:null,error:o});const c=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:LS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:BS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ah(a.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new He})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new He});const c=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&de()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new He});const c=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&de()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new He})})}catch(t){if(Z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new He})})}catch(n){if(Z(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(h=>h.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(h=>h.kid===t),a&&this.jwks_cached_at+Kw>l)return a;const{data:o,error:c}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,a=o.keys.find(h=>h.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:w,error:x}=await this.getSession();if(x||!w.session)return this._returnResult({data:null,error:x});a=w.session.access_token}const{header:l,payload:o,signature:c,raw:{header:h,payload:d}}=ah(a);n?.allowExpired||pS(o.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:o,header:l,signature:c},error:null}}const p=yS(l.alg),b=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,c,iS(`${h}.${d}`)))throw new Ch("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(a){if(Z(a))return this._returnResult({data:null,error:a});throw a}}}vr.nextInstanceID={};const XS=vr,QS="2.89.0";let rr="";typeof Deno<"u"?rr="deno":typeof document<"u"?rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rr="react-native":rr="node";const JS={"X-Client-Info":`supabase-js-${rr}/${QS}`},WS={headers:JS},ZS={schema:"public"},tx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ex={};function _r(i){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(i)}function nx(i,t){if(_r(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(_r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function ix(i){var t=nx(i,"string");return _r(t)=="symbol"?t:t+""}function sx(i,t,n){return(t=ix(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function Up(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,a)}return n}function Yt(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Up(Object(n),!0).forEach(function(a){sx(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const ax=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),rx=()=>Headers,lx=(i,t,n)=>{const a=ax(n),l=rx();return async(o,c)=>{var h;const d=(h=await t())!==null&&h!==void 0?h:i;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(o,Yt(Yt({},c),{},{headers:m}))}};function ox(i){return i.endsWith("/")?i:i+"/"}function ux(i,t){var n,a;const{db:l,auth:o,realtime:c,global:h}=i,{db:d,auth:m,realtime:p,global:b}=t,v={db:Yt(Yt({},d),l),auth:Yt(Yt({},m),o),realtime:Yt(Yt({},p),c),storage:{},global:Yt(Yt(Yt({},b),h),{},{headers:Yt(Yt({},(n=b?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}function cx(i){const t=i?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ox(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hx=class extends XS{constructor(i){super(i)}},fx=class{constructor(i,t,n){var a,l;this.supabaseUrl=i,this.supabaseKey=t;const o=cx(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:ZS,realtime:ex,auth:Yt(Yt({},tx),{},{storageKey:c}),global:WS},d=ux(n??{},h);if(this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=d.global.headers)!==null&&l!==void 0?l:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=d.auth)!==null&&m!==void 0?m:{},this.headers,d.global.fetch)}this.fetch=lx(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new Y_(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new $w(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new q_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,n)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,n;if(i.accessToken)return await i.accessToken();const{data:a}=await i.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:o,flowType:c,lock:h,debug:d,throwOnError:m},p,b){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hx({url:this.authUrl.href,headers:Yt(Yt({},v),p),storageKey:o,autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:l,flowType:c,lock:h,debug:d,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new ow(this.realtimeUrl.href,Yt(Yt({},i),{},{params:Yt(Yt({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t?.access_token)})}_handleTokenChanged(i,t,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dx=(i,t,n)=>new fx(i,t,n);function gx(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const t=i.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}gx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mx="https://zhijysxahvwvtnhywkjb.supabase.co",px="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpoaWp5c3hhaHZ3dnRuaHl3a2piIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4OTkyODIsImV4cCI6MjA4MjQ3NTI4Mn0.C8hTflgunbLH-nprzyM3DNUJCdQe2y2iqESxz1WvuYc",$e=dx(mx,px);function yx(){const[i,t]=xt.useState(""),[n,a]=xt.useState(""),[l,o]=xt.useState(!1),[c,h]=xt.useState(null),d=async m=>{m.preventDefault(),o(!0),h(null);const{data:p,error:b}=await $e.auth.signInWithPassword({email:i,password:n});b?h(b.message):window.location.reload(),o(!1)};return N.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-100 to-blue-200",children:N.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-8 w-96",children:[N.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-purple-700",children:"Academy Login"}),N.jsxs("form",{onSubmit:d,className:"space-y-4",children:[N.jsx("input",{type:"email",placeholder:"Email",className:"w-full border p-2 rounded focus:outline-none focus:ring-2 focus:ring-purple-400",value:i,onChange:m=>t(m.target.value)}),N.jsx("input",{type:"password",placeholder:"Password",className:"w-full border p-2 rounded focus:outline-none focus:ring-2 focus:ring-purple-400",value:n,onChange:m=>a(m.target.value)}),N.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700",disabled:l,children:l?"Logging in...":"Log In"})]}),c&&N.jsx("p",{className:"text-red-500 text-sm mt-3 text-center",children:c})]})})}function bx({user:i,onLogout:t}){return N.jsxs("nav",{className:"bg-purple-700 text-white p-4 flex justify-between items-center shadow-lg",children:[N.jsx("h1",{className:"text-xl font-bold",children:"Library admission"}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"text-sm",children:i}),N.jsx("button",{onClick:t,className:"bg-white text-purple-700 px-3 py-1 rounded hover:bg-purple-100",children:"Logout"})]})]})}function Lp({title:i,value:t}){return N.jsxs("div",{className:"bg-white shadow-md p-6 rounded-lg hover:shadow-xl transition-all",children:[N.jsx("h3",{className:"text-gray-600 mb-2",children:i}),N.jsx("p",{className:"text-3xl font-semibold text-purple-700",children:t})]})}function Ar(i){return i+.5|0}const pi=(i,t,n)=>Math.max(Math.min(i,n),t);function lr(i){return pi(Ar(i*2.55),0,255)}function vi(i){return pi(Ar(i*255),0,255)}function Vn(i){return pi(Ar(i/2.55)/100,0,1)}function Bp(i){return pi(Ar(i*100),0,100)}const Ze={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mh=[..."0123456789ABCDEF"],vx=i=>Mh[i&15],_x=i=>Mh[(i&240)>>4]+Mh[i&15],Ql=i=>(i&240)>>4===(i&15),wx=i=>Ql(i.r)&&Ql(i.g)&&Ql(i.b)&&Ql(i.a);function Sx(i){var t=i.length,n;return i[0]==="#"&&(t===4||t===5?n={r:255&Ze[i[1]]*17,g:255&Ze[i[2]]*17,b:255&Ze[i[3]]*17,a:t===5?Ze[i[4]]*17:255}:(t===7||t===9)&&(n={r:Ze[i[1]]<<4|Ze[i[2]],g:Ze[i[3]]<<4|Ze[i[4]],b:Ze[i[5]]<<4|Ze[i[6]],a:t===9?Ze[i[7]]<<4|Ze[i[8]]:255})),n}const xx=(i,t)=>i<255?t(i):"";function Ex(i){var t=wx(i)?vx:_x;return i?"#"+t(i.r)+t(i.g)+t(i.b)+xx(i.a,t):void 0}const Tx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function g0(i,t,n){const a=t*Math.min(n,1-n),l=(o,c=(o+i/30)%12)=>n-a*Math.max(Math.min(c-3,9-c,1),-1);return[l(0),l(8),l(4)]}function Ox(i,t,n){const a=(l,o=(l+i/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[a(5),a(3),a(1)]}function Ax(i,t,n){const a=g0(i,1,.5);let l;for(t+n>1&&(l=1/(t+n),t*=l,n*=l),l=0;l<3;l++)a[l]*=1-t-n,a[l]+=t;return a}function Rx(i,t,n,a,l){return i===l?(t-n)/a+(t<n?6:0):t===l?(n-i)/a+2:(i-t)/a+4}function $h(i){const n=i.r/255,a=i.g/255,l=i.b/255,o=Math.max(n,a,l),c=Math.min(n,a,l),h=(o+c)/2;let d,m,p;return o!==c&&(p=o-c,m=h>.5?p/(2-o-c):p/(o+c),d=Rx(n,a,l,p,o),d=d*60+.5),[d|0,m||0,h]}function Ph(i,t,n,a){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,a)).map(vi)}function Ih(i,t,n){return Ph(g0,i,t,n)}function kx(i,t,n){return Ph(Ax,i,t,n)}function Cx(i,t,n){return Ph(Ox,i,t,n)}function m0(i){return(i%360+360)%360}function Mx(i){const t=Tx.exec(i);let n=255,a;if(!t)return;t[5]!==a&&(n=t[6]?lr(+t[5]):vi(+t[5]));const l=m0(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?a=kx(l,o,c):t[1]==="hsv"?a=Cx(l,o,c):a=Ih(l,o,c),{r:a[0],g:a[1],b:a[2],a:n}}function Dx(i,t){var n=$h(i);n[0]=m0(n[0]+t),n=Ih(n),i.r=n[0],i.g=n[1],i.b=n[2]}function jx(i){if(!i)return;const t=$h(i),n=t[0],a=Bp(t[1]),l=Bp(t[2]);return i.a<255?`hsla(${n}, ${a}%, ${l}%, ${Vn(i.a)})`:`hsl(${n}, ${a}%, ${l}%)`}const Hp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zx(){const i={},t=Object.keys(qp),n=Object.keys(Hp);let a,l,o,c,h;for(a=0;a<t.length;a++){for(c=h=t[a],l=0;l<n.length;l++)o=n[l],h=h.replace(o,Hp[o]);o=parseInt(qp[c],16),i[h]=[o>>16&255,o>>8&255,o&255]}return i}let Jl;function Nx(i){Jl||(Jl=zx(),Jl.transparent=[0,0,0,0]);const t=Jl[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ux=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Lx(i){const t=Ux.exec(i);let n=255,a,l,o;if(t){if(t[7]!==a){const c=+t[7];n=t[8]?lr(c):pi(c*255,0,255)}return a=+t[1],l=+t[3],o=+t[5],a=255&(t[2]?lr(a):pi(a,0,255)),l=255&(t[4]?lr(l):pi(l,0,255)),o=255&(t[6]?lr(o):pi(o,0,255)),{r:a,g:l,b:o,a:n}}}function Bx(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Vn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const oh=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Gs=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Hx(i,t,n){const a=Gs(Vn(i.r)),l=Gs(Vn(i.g)),o=Gs(Vn(i.b));return{r:vi(oh(a+n*(Gs(Vn(t.r))-a))),g:vi(oh(l+n*(Gs(Vn(t.g))-l))),b:vi(oh(o+n*(Gs(Vn(t.b))-o))),a:i.a+n*(t.a-i.a)}}function Wl(i,t,n){if(i){let a=$h(i);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,t===0?360:1)),a=Ih(a),i.r=a[0],i.g=a[1],i.b=a[2]}}function p0(i,t){return i&&Object.assign(t||{},i)}function Vp(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=vi(i[3]))):(t=p0(i,{r:0,g:0,b:0,a:1}),t.a=vi(t.a)),t}function qx(i){return i.charAt(0)==="r"?Lx(i):Mx(i)}class wr{constructor(t){if(t instanceof wr)return t;const n=typeof t;let a;n==="object"?a=Vp(t):n==="string"&&(a=Sx(t)||Nx(t)||qx(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=p0(this._rgb);return t&&(t.a=Vn(t.a)),t}set rgb(t){this._rgb=Vp(t)}rgbString(){return this._valid?Bx(this._rgb):void 0}hexString(){return this._valid?Ex(this._rgb):void 0}hslString(){return this._valid?jx(this._rgb):void 0}mix(t,n){if(t){const a=this.rgb,l=t.rgb;let o;const c=n===o?.5:n,h=2*c-1,d=a.a-l.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,a.r=255&m*a.r+o*l.r+.5,a.g=255&m*a.g+o*l.g+.5,a.b=255&m*a.b+o*l.b+.5,a.a=c*a.a+(1-c)*l.a,this.rgb=a}return this}interpolate(t,n){return t&&(this._rgb=Hx(this._rgb,t._rgb,n)),this}clone(){return new wr(this.rgb)}alpha(t){return this._rgb.a=vi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ar(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Wl(this._rgb,2,t),this}darken(t){return Wl(this._rgb,2,-t),this}saturate(t){return Wl(this._rgb,1,t),this}desaturate(t){return Wl(this._rgb,1,-t),this}rotate(t){return Dx(this._rgb,t),this}}function Ln(){}const Vx=(()=>{let i=0;return()=>i++})();function Nt(i){return i==null}function se(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Et(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function en(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function pn(i,t){return en(i)?i:t}function Ot(i,t){return typeof i>"u"?t:i}const $x=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Ht(i,t,n){if(i&&typeof i.call=="function")return i.apply(n,t)}function Ct(i,t,n,a){let l,o,c;if(se(i))for(o=i.length,l=0;l<o;l++)t.call(n,i[l],l);else if(Et(i))for(c=Object.keys(i),o=c.length,l=0;l<o;l++)t.call(n,i[c[l]],c[l])}function mo(i,t){let n,a,l,o;if(!i||!t||i.length!==t.length)return!1;for(n=0,a=i.length;n<a;++n)if(l=i[n],o=t[n],l.datasetIndex!==o.datasetIndex||l.index!==o.index)return!1;return!0}function po(i){if(se(i))return i.map(po);if(Et(i)){const t=Object.create(null),n=Object.keys(i),a=n.length;let l=0;for(;l<a;++l)t[n[l]]=po(i[n[l]]);return t}return i}function y0(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Px(i,t,n,a){if(!y0(i))return;const l=t[i],o=n[i];Et(l)&&Et(o)?Sr(l,o,a):t[i]=po(o)}function Sr(i,t,n){const a=se(t)?t:[t],l=a.length;if(!Et(i))return i;n=n||{};const o=n.merger||Px;let c;for(let h=0;h<l;++h){if(c=a[h],!Et(c))continue;const d=Object.keys(c);for(let m=0,p=d.length;m<p;++m)o(d[m],i,c,n)}return i}function fr(i,t){return Sr(i,t,{merger:Ix})}function Ix(i,t,n){if(!y0(i))return;const a=t[i],l=n[i];Et(a)&&Et(l)?fr(a,l):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=po(l))}const $p={"":i=>i,x:i=>i.x,y:i=>i.y};function Yx(i){const t=i.split("."),n=[];let a="";for(const l of t)a+=l,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function Gx(i){const t=Yx(i);return n=>{for(const a of t){if(a==="")break;n=n&&n[a]}return n}}function ea(i,t){return($p[t]||($p[t]=Gx(t)))(i)}function Yh(i){return i.charAt(0).toUpperCase()+i.slice(1)}const xr=i=>typeof i<"u",Si=i=>typeof i=="function",Pp=(i,t)=>{if(i.size!==t.size)return!1;for(const n of i)if(!t.has(n))return!1;return!0};function Kx(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const ye=Math.PI,_i=2*ye,yo=Number.POSITIVE_INFINITY,Fx=ye/180,cn=ye/2,Ii=ye/4,Ip=ye*2/3,b0=Math.log10,wi=Math.sign;function oo(i,t,n){return Math.abs(i-t)<n}function Yp(i){const t=Math.round(i);i=oo(i,t,i/1e3)?t:i;const n=Math.pow(10,Math.floor(b0(i))),a=i/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function Xx(i){const t=[],n=Math.sqrt(i);let a;for(a=1;a<n;a++)i%a===0&&(t.push(a),t.push(i/a));return n===(n|0)&&t.push(n),t.sort((l,o)=>l-o).pop(),t}function Qx(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function bo(i){return!Qx(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Jx(i,t){const n=Math.round(i);return n-t<=i&&n+t>=i}function Wx(i,t,n){let a,l,o;for(a=0,l=i.length;a<l;a++)o=i[a][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Zi(i){return i*(ye/180)}function Zx(i){return i*(180/ye)}function Gp(i){if(!en(i))return;let t=1,n=0;for(;Math.round(i*t)/t!==i;)t*=10,n++;return n}function t1(i,t){const n=t.x-i.x,a=t.y-i.y,l=Math.sqrt(n*n+a*a);let o=Math.atan2(a,n);return o<-.5*ye&&(o+=_i),{angle:o,distance:l}}function e1(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Yi(i){return(i%_i+_i)%_i}function n1(i,t,n,a){const l=Yi(i),o=Yi(t),c=Yi(n),h=Yi(o-l),d=Yi(c-l),m=Yi(l-o),p=Yi(l-c);return l===o||l===c||a||h>d&&m<p}function hn(i,t,n){return Math.max(t,Math.min(n,i))}function i1(i){return hn(i,-32768,32767)}function Js(i,t,n,a=1e-6){return i>=Math.min(t,n)-a&&i<=Math.max(t,n)+a}function Gh(i,t,n){n=n||(c=>i[c]<t);let a=i.length-1,l=0,o;for(;a-l>1;)o=l+a>>1,n(o)?l=o:a=o;return{lo:l,hi:a}}const Dh=(i,t,n,a)=>Gh(i,n,a?l=>{const o=i[l][t];return o<n||o===n&&i[l+1][t]===n}:l=>i[l][t]<n),s1=(i,t,n)=>Gh(i,n,a=>i[a][t]>=n);function a1(i,t,n){let a=0,l=i.length;for(;a<l&&i[a]<t;)a++;for(;l>a&&i[l-1]>n;)l--;return a>0||l<i.length?i.slice(a,l):i}const v0=["push","pop","shift","splice","unshift"];function r1(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),v0.forEach(n=>{const a="_onData"+Yh(n),l=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value(...o){const c=l.apply(this,o);return i._chartjs.listeners.forEach(h=>{typeof h[a]=="function"&&h[a](...o)}),c}})})}function Kp(i,t){const n=i._chartjs;if(!n)return;const a=n.listeners,l=a.indexOf(t);l!==-1&&a.splice(l,1),!(a.length>0)&&(v0.forEach(o=>{delete i[o]}),delete i._chartjs)}function _0(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const w0=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function S0(i,t){let n=[],a=!1;return function(...l){n=l,a||(a=!0,w0.call(window,()=>{a=!1,i.apply(t,n)}))}}function l1(i,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(i,t,a)):i.apply(this,a),t}}const Kh=i=>i==="start"?"left":i==="end"?"right":"center",me=(i,t,n)=>i==="start"?t:i==="end"?n:(t+n)/2,o1=(i,t,n,a)=>i===(a?"left":"right")?n:i==="center"?(t+n)/2:t,Zl=i=>i===0||i===1,Fp=(i,t,n)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*_i/n)),Xp=(i,t,n)=>Math.pow(2,-10*i)*Math.sin((i-t)*_i/n)+1,dr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*cn)+1,easeOutSine:i=>Math.sin(i*cn),easeInOutSine:i=>-.5*(Math.cos(ye*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Zl(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Zl(i)?i:Fp(i,.075,.3),easeOutElastic:i=>Zl(i)?i:Xp(i,.075,.3),easeInOutElastic(i){return Zl(i)?i:i<.5?.5*Fp(i*2,.1125,.45):.5+.5*Xp(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-dr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?dr.easeInBounce(i*2)*.5:dr.easeOutBounce(i*2-1)*.5+.5};function x0(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qp(i){return x0(i)?i:new wr(i)}function uh(i){return x0(i)?i:new wr(i).saturate(.5).darken(.1).hexString()}const u1=["x","y","borderWidth","radius","tension"],c1=["color","borderColor","backgroundColor"];function h1(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:c1},numbers:{type:"number",properties:u1}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function f1(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jp=new Map;function d1(i,t){t=t||{};const n=i+JSON.stringify(t);let a=Jp.get(n);return a||(a=new Intl.NumberFormat(i,t),Jp.set(n,a)),a}function E0(i,t,n){return d1(t,n).format(i)}const g1={values(i){return se(i)?i:""+i},numeric(i,t,n){if(i===0)return"0";const a=this.chart.options.locale;let l,o=i;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(l="scientific"),o=m1(i,n)}const c=b0(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),E0(i,a,d)}};function m1(i,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}var T0={formatters:g1};function p1(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:T0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const es=Object.create(null),jh=Object.create(null);function gr(i,t){if(!t)return i;const n=t.split(".");for(let a=0,l=n.length;a<l;++a){const o=n[a];i=i[o]||(i[o]=Object.create(null))}return i}function ch(i,t,n){return typeof t=="string"?Sr(gr(i,t),n):Sr(gr(i,""),t)}class y1{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,l)=>uh(l.backgroundColor),this.hoverBorderColor=(a,l)=>uh(l.borderColor),this.hoverColor=(a,l)=>uh(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ch(this,t,n)}get(t){return gr(this,t)}describe(t,n){return ch(jh,t,n)}override(t,n){return ch(es,t,n)}route(t,n,a,l){const o=gr(this,t),c=gr(this,a),h="_"+n;Object.defineProperties(o,{[h]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[h],m=c[l];return Et(d)?Object.assign({},m,d):Ot(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(n=>n(this))}}var Xt=new y1({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[h1,f1,p1]);function b1(i){return!i||Nt(i.size)||Nt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Wp(i,t,n,a,l){let o=t[l];return o||(o=t[l]=i.measureText(l).width,n.push(l)),o>a&&(a=o),a}function Gi(i,t,n){const a=i.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((t-l)*a)/a+l}function Zp(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function ty(i,t,n,a){O0(i,t,n,a,null)}function O0(i,t,n,a,l){let o,c,h,d,m,p,b,v;const w=t.pointStyle,x=t.rotation,S=t.radius;let E=(x||0)*Fx;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(n,a),i.rotate(E),i.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),i.restore();return}if(!(isNaN(S)||S<=0)){switch(i.beginPath(),w){default:l?i.ellipse(n,a,l/2,S,0,0,_i):i.arc(n,a,S,0,_i),i.closePath();break;case"triangle":p=l?l/2:S,i.moveTo(n+Math.sin(E)*p,a-Math.cos(E)*S),E+=Ip,i.lineTo(n+Math.sin(E)*p,a-Math.cos(E)*S),E+=Ip,i.lineTo(n+Math.sin(E)*p,a-Math.cos(E)*S),i.closePath();break;case"rectRounded":m=S*.516,d=S-m,c=Math.cos(E+Ii)*d,b=Math.cos(E+Ii)*(l?l/2-m:d),h=Math.sin(E+Ii)*d,v=Math.sin(E+Ii)*(l?l/2-m:d),i.arc(n-b,a-h,m,E-ye,E-cn),i.arc(n+v,a-c,m,E-cn,E),i.arc(n+b,a+h,m,E,E+cn),i.arc(n-v,a+c,m,E+cn,E+ye),i.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*S,p=l?l/2:d,i.rect(n-p,a-d,2*p,2*d);break}E+=Ii;case"rectRot":b=Math.cos(E)*(l?l/2:S),c=Math.cos(E)*S,h=Math.sin(E)*S,v=Math.sin(E)*(l?l/2:S),i.moveTo(n-b,a-h),i.lineTo(n+v,a-c),i.lineTo(n+b,a+h),i.lineTo(n-v,a+c),i.closePath();break;case"crossRot":E+=Ii;case"cross":b=Math.cos(E)*(l?l/2:S),c=Math.cos(E)*S,h=Math.sin(E)*S,v=Math.sin(E)*(l?l/2:S),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-c),i.lineTo(n-v,a+c);break;case"star":b=Math.cos(E)*(l?l/2:S),c=Math.cos(E)*S,h=Math.sin(E)*S,v=Math.sin(E)*(l?l/2:S),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-c),i.lineTo(n-v,a+c),E+=Ii,b=Math.cos(E)*(l?l/2:S),c=Math.cos(E)*S,h=Math.sin(E)*S,v=Math.sin(E)*(l?l/2:S),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-c),i.lineTo(n-v,a+c);break;case"line":c=l?l/2:Math.cos(E)*S,h=Math.sin(E)*S,i.moveTo(n-c,a-h),i.lineTo(n+c,a+h);break;case"dash":i.moveTo(n,a),i.lineTo(n+Math.cos(E)*(l?l/2:S),a+Math.sin(E)*S);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function A0(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function Fh(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Xh(i){i.restore()}function v1(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Nt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function _1(i,t,n,a,l){if(l.strikethrough||l.underline){const o=i.measureText(a),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,p=l.strikethrough?(d+m)/2:m;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=l.decorationWidth||2,i.moveTo(c,p),i.lineTo(h,p),i.stroke()}}function w1(i,t){const n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function Er(i,t,n,a,l,o={}){const c=se(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(i.save(),i.font=l.string,v1(i,o),d=0;d<c.length;++d)m=c[d],o.backdrop&&w1(i,o.backdrop),h&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Nt(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(m,n,a,o.maxWidth)),i.fillText(m,n,a,o.maxWidth),_1(i,n,a,m,o),a+=Number(l.lineHeight);i.restore()}function vo(i,t){const{x:n,y:a,w:l,h:o,radius:c}=t;i.arc(n+c.topLeft,a+c.topLeft,c.topLeft,1.5*ye,ye,!0),i.lineTo(n,a+o-c.bottomLeft),i.arc(n+c.bottomLeft,a+o-c.bottomLeft,c.bottomLeft,ye,cn,!0),i.lineTo(n+l-c.bottomRight,a+o),i.arc(n+l-c.bottomRight,a+o-c.bottomRight,c.bottomRight,cn,0,!0),i.lineTo(n+l,a+c.topRight),i.arc(n+l-c.topRight,a+c.topRight,c.topRight,0,-cn,!0),i.lineTo(n+c.topLeft,a)}const S1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,x1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function E1(i,t){const n=(""+i).match(S1);if(!n||n[1]==="normal")return t*1.2;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100;break}return t*i}const T1=i=>+i||0;function R0(i,t){const n={},a=Et(t),l=a?Object.keys(t):t,o=Et(i)?a?c=>Ot(i[c],i[t[c]]):c=>i[c]:()=>i;for(const c of l)n[c]=T1(o(c));return n}function k0(i){return R0(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Zs(i){return R0(i,["topLeft","topRight","bottomLeft","bottomRight"])}function nn(i){const t=k0(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pe(i,t){i=i||{},t=t||Xt.font;let n=Ot(i.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let a=Ot(i.style,t.style);a&&!(""+a).match(x1)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const l={family:Ot(i.family,t.family),lineHeight:E1(Ot(i.lineHeight,t.lineHeight),n),size:n,style:a,weight:Ot(i.weight,t.weight),string:""};return l.string=b1(l),l}function to(i,t,n,a){let l,o,c;for(l=0,o=i.length;l<o;++l)if(c=i[l],c!==void 0&&c!==void 0)return c}function O1(i,t,n){const{min:a,max:l}=i,o=$x(t,(l-a)/2),c=(h,d)=>n&&h===0?0:h+d;return{min:c(a,-Math.abs(o)),max:c(l,o)}}function ia(i,t){return Object.assign(Object.create(i),t)}function Qh(i,t=[""],n,a,l=()=>i[0]){const o=n||i;typeof a>"u"&&(a=j0("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:a,_getTarget:l,override:h=>Qh([h,...i],t,o,a)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return M0(h,d,()=>z1(d,t,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return ny(h).includes(d)},ownKeys(h){return ny(h)},set(h,d,m){const p=h._storage||(h._storage=l());return h[d]=p[d]=m,delete h._keys,!0}})}function na(i,t,n,a){const l={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:C0(i,a),setContext:o=>na(i,o,n,a),override:o=>na(i.override(o),t,n,a)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete i[c],!0},get(o,c,h){return M0(o,c,()=>R1(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(o,c,h){return i[c]=h,delete o[c],!0}})}function C0(i,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:l=t.allKeys}=i;return{allKeys:l,scriptable:n,indexable:a,isScriptable:Si(n)?n:()=>n,isIndexable:Si(a)?a:()=>a}}const A1=(i,t)=>i?i+Yh(t):t,Jh=(i,t)=>Et(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function M0(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const a=n();return i[t]=a,a}function R1(i,t,n){const{_proxy:a,_context:l,_subProxy:o,_descriptors:c}=i;let h=a[t];return Si(h)&&c.isScriptable(t)&&(h=k1(t,h,i,n)),se(h)&&h.length&&(h=C1(t,h,i,c.isIndexable)),Jh(t,h)&&(h=na(h,l,o&&o[t],c)),h}function k1(i,t,n,a){const{_proxy:l,_context:o,_subProxy:c,_stack:h}=n;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=t(o,c||a);return h.delete(i),Jh(i,d)&&(d=Wh(l._scopes,l,i,d)),d}function C1(i,t,n,a){const{_proxy:l,_context:o,_subProxy:c,_descriptors:h}=n;if(typeof o.index<"u"&&a(i))return t[o.index%t.length];if(Et(t[0])){const d=t,m=l._scopes.filter(p=>p!==d);t=[];for(const p of d){const b=Wh(m,l,i,p);t.push(na(b,o,c&&c[i],h))}}return t}function D0(i,t,n){return Si(i)?i(t,n):i}const M1=(i,t)=>i===!0?t:typeof i=="string"?ea(t,i):void 0;function D1(i,t,n,a,l){for(const o of t){const c=M1(n,o);if(c){i.add(c);const h=D0(c._fallback,n,l);if(typeof h<"u"&&h!==n&&h!==a)return h}else if(c===!1&&typeof a<"u"&&n!==a)return null}return!1}function Wh(i,t,n,a){const l=t._rootScopes,o=D0(t._fallback,n,a),c=[...i,...l],h=new Set;h.add(a);let d=ey(h,c,n,o||n,a);return d===null||typeof o<"u"&&o!==n&&(d=ey(h,c,o,d,a),d===null)?!1:Qh(Array.from(h),[""],l,o,()=>j1(t,n,a))}function ey(i,t,n,a,l){for(;n;)n=D1(i,t,n,a,l);return n}function j1(i,t,n){const a=i._getTarget();t in a||(a[t]={});const l=a[t];return se(l)&&Et(n)?n:l||{}}function z1(i,t,n,a){let l;for(const o of t)if(l=j0(A1(o,i),n),typeof l<"u")return Jh(i,l)?Wh(n,a,i,l):l}function j0(i,t){for(const n of t){if(!n)continue;const a=n[i];if(typeof a<"u")return a}}function ny(i){let t=i._keys;return t||(t=i._keys=N1(i._scopes)),t}function N1(i){const t=new Set;for(const n of i)for(const a of Object.keys(n).filter(l=>!l.startsWith("_")))t.add(a);return Array.from(t)}function Zh(){return typeof window<"u"&&typeof document<"u"}function tf(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function _o(i,t,n){let a;return typeof i=="string"?(a=parseInt(i,10),i.indexOf("%")!==-1&&(a=a/100*t.parentNode[n])):a=i,a}const To=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function U1(i,t){return To(i).getPropertyValue(t)}const L1=["top","right","bottom","left"];function ts(i,t,n){const a={};n=n?"-"+n:"";for(let l=0;l<4;l++){const o=L1[l];a[o]=parseFloat(i[t+"-"+o+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const B1=(i,t,n)=>(i>0||t>0)&&(!n||!n.shadowRoot);function H1(i,t){const n=i.touches,a=n&&n.length?n[0]:i,{offsetX:l,offsetY:o}=a;let c=!1,h,d;if(B1(l,o,i.target))h=l,d=o;else{const m=t.getBoundingClientRect();h=a.clientX-m.left,d=a.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function Xi(i,t){if("native"in i)return i;const{canvas:n,currentDevicePixelRatio:a}=t,l=To(n),o=l.boxSizing==="border-box",c=ts(l,"padding"),h=ts(l,"border","width"),{x:d,y:m,box:p}=H1(i,n),b=c.left+(p&&h.left),v=c.top+(p&&h.top);let{width:w,height:x}=t;return o&&(w-=c.width+h.width,x-=c.height+h.height),{x:Math.round((d-b)/w*n.width/a),y:Math.round((m-v)/x*n.height/a)}}function q1(i,t,n){let a,l;if(t===void 0||n===void 0){const o=i&&tf(i);if(!o)t=i.clientWidth,n=i.clientHeight;else{const c=o.getBoundingClientRect(),h=To(o),d=ts(h,"border","width"),m=ts(h,"padding");t=c.width-m.width-d.width,n=c.height-m.height-d.height,a=_o(h.maxWidth,o,"clientWidth"),l=_o(h.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:a||yo,maxHeight:l||yo}}const yi=i=>Math.round(i*10)/10;function V1(i,t,n,a){const l=To(i),o=ts(l,"margin"),c=_o(l.maxWidth,i,"clientWidth")||yo,h=_o(l.maxHeight,i,"clientHeight")||yo,d=q1(i,t,n);let{width:m,height:p}=d;if(l.boxSizing==="content-box"){const v=ts(l,"border","width"),w=ts(l,"padding");m-=w.width+v.width,p-=w.height+v.height}return m=Math.max(0,m-o.width),p=Math.max(0,a?m/a:p-o.height),m=yi(Math.min(m,c,d.maxWidth)),p=yi(Math.min(p,h,d.maxHeight)),m&&!p&&(p=yi(m/2)),(t!==void 0||n!==void 0)&&a&&d.height&&p>d.height&&(p=d.height,m=yi(Math.floor(p*a))),{width:m,height:p}}function iy(i,t,n){const a=t||1,l=yi(i.height*a),o=yi(i.width*a);i.height=yi(i.height),i.width=yi(i.width);const c=i.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==a||c.height!==l||c.width!==o?(i.currentDevicePixelRatio=a,c.height=l,c.width=o,i.ctx.setTransform(a,0,0,a,0,0),!0):!1}const $1=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};Zh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function sy(i,t){const n=U1(i,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}const P1=function(i,t){return{x(n){return i+i+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},I1=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function ta(i,t,n){return i?P1(t,n):I1()}function z0(i,t){let n,a;(t==="ltr"||t==="rtl")&&(n=i.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=a)}function N0(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function eo(i,t,n){return i.options.clip?i[n]:t[n]}function Y1(i,t){const{xScale:n,yScale:a}=i;return n&&a?{left:eo(n,t,"left"),right:eo(n,t,"right"),top:eo(a,t,"top"),bottom:eo(a,t,"bottom")}:t}function G1(i,t){const n=t._clip;if(n.disabled)return!1;const a=Y1(t,i.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?i.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?i.height:a.bottom+(n.bottom===!0?0:n.bottom)}}class K1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,a,l){const o=n.listeners[l],c=n.duration;o.forEach(h=>h({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(a-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=w0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((a,l)=>{if(!a.running||!a.items.length)return;const o=a.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>a.duration&&(a.duration=d._total),d.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(l.draw(),this._notify(l,a,t,"progress")),o.length||(a.running=!1,this._notify(l,a,t,"complete"),a.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let a=n.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,a)),a}listen(t,n,a){this._getAnims(t).listeners[n].push(a)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,l)=>Math.max(a,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const a=n.items;let l=a.length-1;for(;l>=0;--l)a[l].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Bn=new K1;const ay="transparent",F1={boolean(i,t,n){return n>.5?t:i},color(i,t,n){const a=Qp(i||ay),l=a.valid&&Qp(t||ay);return l&&l.valid?l.mix(a,n).hexString():t},number(i,t,n){return i+(t-i)*n}};class X1{constructor(t,n,a,l){const o=n[a];l=to([t.to,l,o,t.from]);const c=to([t.from,o,l]);this._active=!0,this._fn=t.fn||F1[t.type||typeof c],this._easing=dr[t.easing]||dr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=a,this._from=c,this._to=l,this._promises=void 0}active(){return this._active}update(t,n,a){if(this._active){this._notify(!1);const l=this._target[this._prop],o=a-this._start,c=this._duration-o;this._start=a,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=to([t.to,n,l,t.from]),this._from=to([t.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,a=this._duration,l=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||n<a),!this._active){this._target[l]=h,this._notify(!0);return}if(n<0){this._target[l]=o;return}d=n/a%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,a)=>{t.push({res:n,rej:a})})}_notify(t){const n=t?"res":"rej",a=this._promises||[];for(let l=0;l<a.length;l++)a[l][n]()}}class U0{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Et(t))return;const n=Object.keys(Xt.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const o=t[l];if(!Et(o))return;const c={};for(const h of n)c[h]=o[h];(se(o.properties)&&o.properties||[l]).forEach(h=>{(h===l||!a.has(h))&&a.set(h,c)})})}_animateOptions(t,n){const a=n.options,l=J1(t,a);if(!l)return[];const o=this._createAnimations(l,a);return a.$shared&&Q1(t.options.$animations,a).then(()=>{t.options=a},()=>{}),o}_createAnimations(t,n){const a=this._properties,l=[],o=t.$animations||(t.$animations={}),c=Object.keys(n),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){l.push(...this._animateOptions(t,n));continue}const p=n[m];let b=o[m];const v=a.get(m);if(b)if(v&&b.active()){b.update(v,p,h);continue}else b.cancel();if(!v||!v.duration){t[m]=p;continue}o[m]=b=new X1(v,t,m,p),l.push(b)}return l}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const a=this._createAnimations(t,n);if(a.length)return Bn.add(this._chart,a),!0}}function Q1(i,t){const n=[],a=Object.keys(t);for(let l=0;l<a.length;l++){const o=i[a[l]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function J1(i,t){if(!t)return;let n=i.options;if(!n){i.options=t;return}return n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ry(i,t){const n=i&&i.options||{},a=n.reverse,l=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:a?o:l,end:a?l:o}}function W1(i,t,n){if(n===!1)return!1;const a=ry(i,n),l=ry(t,n);return{top:l.end,right:a.end,bottom:l.start,left:a.start}}function Z1(i){let t,n,a,l;return Et(i)?(t=i.top,n=i.right,a=i.bottom,l=i.left):t=n=a=l=i,{top:t,right:n,bottom:a,left:l,disabled:i===!1}}function L0(i,t){const n=[],a=i._getSortedDatasetMetas(t);let l,o;for(l=0,o=a.length;l<o;++l)n.push(a[l].index);return n}function ly(i,t,n,a={}){const l=i.keys,o=a.mode==="single";let c,h,d,m;if(t===null)return;let p=!1;for(c=0,h=l.length;c<h;++c){if(d=+l[c],d===n){if(p=!0,a.all)continue;break}m=i.values[d],en(m)&&(o||t===0||wi(t)===wi(m))&&(t+=m)}return!p&&!a.all?0:t}function tE(i,t){const{iScale:n,vScale:a}=t,l=n.axis==="x"?"x":"y",o=a.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let d,m,p;for(d=0,m=c.length;d<m;++d)p=c[d],h[d]={[l]:p,[o]:i[p]};return h}function hh(i,t){const n=i&&i.options.stacked;return n||n===void 0&&t.stack!==void 0}function eE(i,t,n){return`${i.id}.${t.id}.${n.stack||n.type}`}function nE(i){const{min:t,max:n,minDefined:a,maxDefined:l}=i.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function iE(i,t,n){const a=i[t]||(i[t]={});return a[n]||(a[n]={})}function oy(i,t,n,a){for(const l of t.getMatchingVisibleMetas(a).reverse()){const o=i[l.index];if(n&&o>0||!n&&o<0)return l.index}return null}function uy(i,t){const{chart:n,_cachedMeta:a}=i,l=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:h}=a,d=o.axis,m=c.axis,p=eE(o,c,a),b=t.length;let v;for(let w=0;w<b;++w){const x=t[w],{[d]:S,[m]:E}=x,R=x._stacks||(x._stacks={});v=R[m]=iE(l,p,S),v[h]=E,v._top=oy(v,c,!0,a.type),v._bottom=oy(v,c,!1,a.type);const z=v._visualValues||(v._visualValues={});z[h]=E}}function fh(i,t){const n=i.scales;return Object.keys(n).filter(a=>n[a].axis===t).shift()}function sE(i,t){return ia(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function aE(i,t,n){return ia(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function er(i,t){const n=i.controller.index,a=i.vScale&&i.vScale.axis;if(a){t=t||i._parsed;for(const l of t){const o=l._stacks;if(!o||o[a]===void 0||o[a][n]===void 0)return;delete o[a][n],o[a]._visualValues!==void 0&&o[a]._visualValues[n]!==void 0&&delete o[a]._visualValues[n]}}}const dh=i=>i==="reset"||i==="none",cy=(i,t)=>t?i:Object.assign({},i),rE=(i,t,n)=>i&&!t.hidden&&t._stacked&&{keys:L0(n,!0),values:null};class B0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&er(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,a=this.getDataset(),l=(b,v,w,x)=>b==="x"?v:b==="r"?x:w,o=n.xAxisID=Ot(a.xAxisID,fh(t,"x")),c=n.yAxisID=Ot(a.yAxisID,fh(t,"y")),h=n.rAxisID=Ot(a.rAxisID,fh(t,"r")),d=n.indexAxis,m=n.iAxisID=l(d,o,c,h),p=n.vAxisID=l(d,c,o,h);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Kp(this._data,this),t._stacked&&er(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(Et(n)){const l=this._cachedMeta;this._data=tE(n,l)}else if(a!==n){if(a){Kp(a,this);const l=this._cachedMeta;er(l),l._parsed=[]}n&&Object.isExtensible(n)&&r1(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const o=n._stacked;n._stacked=hh(n.vScale,n),n.stack!==a.stack&&(l=!0,er(n),n.stack=a.stack),this._resyncElements(t),(l||o!==n._stacked)&&(uy(this,n._parsed),n._stacked=hh(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:a,_data:l}=this,{iScale:o,_stacked:c}=a,h=o.axis;let d=t===0&&n===l.length?!0:a._sorted,m=t>0&&a._parsed[t-1],p,b,v;if(this._parsing===!1)a._parsed=l,a._sorted=!0,v=l;else{se(l[t])?v=this.parseArrayData(a,l,t,n):Et(l[t])?v=this.parseObjectData(a,l,t,n):v=this.parsePrimitiveData(a,l,t,n);const w=()=>b[h]===null||m&&b[h]<m[h];for(p=0;p<n;++p)a._parsed[p+t]=b=v[p],d&&(w()&&(d=!1),m=b);a._sorted=d}c&&uy(this,v)}parsePrimitiveData(t,n,a,l){const{iScale:o,vScale:c}=t,h=o.axis,d=c.axis,m=o.getLabels(),p=o===c,b=new Array(l);let v,w,x;for(v=0,w=l;v<w;++v)x=v+a,b[v]={[h]:p||o.parse(m[x],x),[d]:c.parse(n[x],x)};return b}parseArrayData(t,n,a,l){const{xScale:o,yScale:c}=t,h=new Array(l);let d,m,p,b;for(d=0,m=l;d<m;++d)p=d+a,b=n[p],h[d]={x:o.parse(b[0],p),y:c.parse(b[1],p)};return h}parseObjectData(t,n,a,l){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(l);let p,b,v,w;for(p=0,b=l;p<b;++p)v=p+a,w=n[v],m[p]={x:o.parse(ea(w,h),v),y:c.parse(ea(w,d),v)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){const l=this.chart,o=this._cachedMeta,c=n[t.axis],h={keys:L0(l,!0),values:n._stacks[t.axis]._visualValues};return ly(h,c,o.index,{mode:a})}updateRangeFromParsed(t,n,a,l){const o=a[n.axis];let c=o===null?NaN:o;const h=l&&a._stacks[n.axis];l&&h&&(l.values=h,c=ly(l,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const a=this._cachedMeta,l=a._parsed,o=a._sorted&&t===a.iScale,c=l.length,h=this._getOtherScale(t),d=rE(n,a,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:b}=nE(h);let v,w;function x(){w=l[v];const S=w[h.axis];return!en(w[t.axis])||p>S||b<S}for(v=0;v<c&&!(!x()&&(this.updateRangeFromParsed(m,t,w,d),o));++v);if(o){for(v=c-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(m,t,w,d);break}}return m}getAllParsedValues(t){const n=this._cachedMeta._parsed,a=[];let l,o,c;for(l=0,o=n.length;l<o;++l)c=n[l][t.axis],en(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,a=n.iScale,l=n.vScale,o=this.getParsed(t);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:l?""+l.getLabelForValue(o[l.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Z1(Ot(this.options.clip,W1(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,a=this._cachedMeta,l=a.data||[],o=n.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||l.length-h,m=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(t,o,h,d),p=h;p<h+d;++p){const b=l[p];b.hidden||(b.active&&m?c.push(b):b.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,n){const a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){const l=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=aE(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=l.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=sE(this.chart.getContext(),this.index)),o.dataset=l,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=a,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){const l=n==="active",o=this._cachedDataOpts,c=t+"-"+n,h=o[c],d=this.enableOptionSharing&&xr(a);if(h)return cy(h,d);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,t),b=l?[`${t}Hover`,"hover",t,""]:[t,""],v=m.getOptionScopes(this.getDataset(),p),w=Object.keys(Xt.elements[t]),x=()=>this.getContext(a,l,n),S=m.resolveNamedOptions(v,w,x,b);return S.$shared&&(S.$shared=d,o[c]=Object.freeze(cy(S,d))),S}_resolveAnimations(t,n,a){const l=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,h=o[c];if(h)return h;let d;if(l.options.animation!==!1){const p=this.chart.config,b=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),b);d=p.createResolver(v,this.getContext(t,a,n))}const m=new U0(l,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||dh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const a=this.resolveDataElementOptions(t,n),l=this._sharedOptions,o=this.getSharedOptions(a),c=this.includeOptions(n,o)||o!==l;return this.updateSharedOptions(o,n,a),{sharedOptions:o,includeOptions:c}}updateElement(t,n,a,l){dh(l)?Object.assign(t,a):this._resolveAnimations(n,l).update(t,a)}updateSharedOptions(t,n,a){t&&!dh(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,l){t.active=l;const o=this.getStyle(n,l);this._resolveAnimations(n,a,l).update(t,{options:!l&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,a=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const l=a.length,o=n.length,c=Math.min(o,l);c&&this.parse(0,c),o>l?this._insertElements(l,o-l,t):o<l&&this._removeElements(o,l-o)}_insertElements(t,n,a=!0){const l=this._cachedMeta,o=l.data,c=t+n;let h;const d=m=>{for(m.length+=n,h=m.length-1;h>=c;h--)m[h]=m[h-n]};for(d(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(t,n),a&&this.updateElements(o,t,n,"reset")}updateElements(t,n,a,l){}_removeElements(t,n){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(t,n);a._stacked&&er(a,l)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,a,l]=t;this[n](a,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lE(i,t){if(!i._cache.$bar){const n=i.getMatchingVisibleMetas(t);let a=[];for(let l=0,o=n.length;l<o;l++)a=a.concat(n[l].controller.getAllParsedValues(i));i._cache.$bar=_0(a.sort((l,o)=>l-o))}return i._cache.$bar}function oE(i){const t=i.iScale,n=lE(t,i.type);let a=t._length,l,o,c,h;const d=()=>{c===32767||c===-32768||(xr(h)&&(a=Math.min(a,Math.abs(c-h)||a)),h=c)};for(l=0,o=n.length;l<o;++l)c=t.getPixelForValue(n[l]),d();for(h=void 0,l=0,o=t.ticks.length;l<o;++l)c=t.getPixelForTick(l),d();return a}function uE(i,t,n,a){const l=n.barThickness;let o,c;return Nt(l)?(o=t.min*n.categoryPercentage,c=n.barPercentage):(o=l*a,c=1),{chunk:o/a,ratio:c,start:t.pixels[i]-o/2}}function cE(i,t,n,a){const l=t.pixels,o=l[i];let c=i>0?l[i-1]:null,h=i<l.length-1?l[i+1]:null;const d=n.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/a,ratio:n.barPercentage,start:m}}function hE(i,t,n,a){const l=n.parse(i[0],a),o=n.parse(i[1],a),c=Math.min(l,o),h=Math.max(l,o);let d=c,m=h;Math.abs(c)>Math.abs(h)&&(d=h,m=c),t[n.axis]=m,t._custom={barStart:d,barEnd:m,start:l,end:o,min:c,max:h}}function H0(i,t,n,a){return se(i)?hE(i,t,n,a):t[n.axis]=n.parse(i,a),t}function hy(i,t,n,a){const l=i.iScale,o=i.vScale,c=l.getLabels(),h=l===o,d=[];let m,p,b,v;for(m=n,p=n+a;m<p;++m)v=t[m],b={},b[l.axis]=h||l.parse(c[m],m),d.push(H0(v,b,o,m));return d}function gh(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function fE(i,t,n){return i!==0?wi(i):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function dE(i){let t,n,a,l,o;return i.horizontal?(t=i.base>i.x,n="left",a="right"):(t=i.base<i.y,n="bottom",a="top"),t?(l="end",o="start"):(l="start",o="end"),{start:n,end:a,reverse:t,top:l,bottom:o}}function gE(i,t,n,a){let l=t.borderSkipped;const o={};if(!l){i.borderSkipped=o;return}if(l===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:m,bottom:p}=dE(i);l==="middle"&&n&&(i.enableBorderRadius=!0,(n._top||0)===a?l=m:(n._bottom||0)===a?l=p:(o[fy(p,c,h,d)]=!0,l=m)),o[fy(l,c,h,d)]=!0,i.borderSkipped=o}function fy(i,t,n,a){return a?(i=mE(i,t,n),i=dy(i,n,t)):i=dy(i,t,n),i}function mE(i,t,n){return i===t?n:i===n?t:i}function dy(i,t,n){return i==="start"?t:i==="end"?n:i}function pE(i,{inflateAmount:t},n){i.inflateAmount=t==="auto"?n===1?.33:0:t}class yE extends B0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,a,l){return hy(t,n,a,l)}parseArrayData(t,n,a,l){return hy(t,n,a,l)}parseObjectData(t,n,a,l){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=o.axis==="x"?h:d,p=c.axis==="x"?h:d,b=[];let v,w,x,S;for(v=a,w=a+l;v<w;++v)S=n[v],x={},x[o.axis]=o.parse(ea(S,m),v),b.push(H0(ea(S,p),x,c,v));return b}updateRangeFromParsed(t,n,a,l){super.updateRangeFromParsed(t,n,a,l);const o=a._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:a,vScale:l}=n,o=this.getParsed(t),c=o._custom,h=gh(c)?"["+c.start+", "+c.end+"]":""+l.getLabelForValue(o[l.axis]);return{label:""+a.getLabelForValue(o[a.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,a,l){const o=l==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),m=h.isHorizontal(),p=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(n,l);for(let w=n;w<n+a;w++){const x=this.getParsed(w),S=o||Nt(x[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(w),E=this._calculateBarIndexPixels(w,p),R=(x._stacks||{})[h.axis],z={horizontal:m,base:S.base,enableBorderRadius:!R||gh(x._custom)||c===R._top||c===R._bottom,x:m?S.head:E.center,y:m?E.center:S.head,height:m?E.size:Math.abs(S.size),width:m?Math.abs(S.size):E.size};v&&(z.options=b||this.resolveDataElementOptions(w,t[w].active?"active":l));const C=z.options||t[w].options;gE(z,C,R,c),pE(z,C,p.ratio),this.updateElement(t[w],w,z,l)}}_getStacks(t,n){const{iScale:a}=this._cachedMeta,l=a.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=a.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(n),d=h&&h[a.axis],m=p=>{const b=p._parsed.find(w=>w[a.axis]===d),v=b&&b[p.vScale.axis];if(Nt(v)||isNaN(v))return!0};for(const p of l)if(!(n!==void 0&&m(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(a=>t[a].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,a){const l=this._getStacks(t,a),o=n!==void 0?l.indexOf(n):-1;return o===-1?l.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,a=n.iScale,l=[];let o,c;for(o=0,c=n.data.length;o<c;++o)l.push(a.getPixelForValue(this.getParsed(o)[a.axis],o));const h=t.barThickness;return{min:h||oE(n),pixels:l,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:a,index:l},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(t),m=d._custom,p=gh(m);let b=d[n.axis],v=0,w=a?this.applyStack(n,d,a):b,x,S;w!==b&&(v=w-b,w=b),p&&(b=m.barStart,w=m.barEnd-m.barStart,b!==0&&wi(b)!==wi(m.barEnd)&&(v=0),v+=b);const E=!Nt(o)&&!p?o:v;let R=n.getPixelForValue(E);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(v+w):x=R,S=x-R,Math.abs(S)<c){S=fE(S,n,h)*c,b===h&&(R-=S/2);const z=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),U=Math.min(z,C),Y=Math.max(z,C);R=Math.max(Math.min(R,Y),U),x=R+S,a&&!p&&(d._stacks[n.axis]._visualValues[l]=n.getValueForPixel(x)-n.getValueForPixel(R))}if(R===n.getPixelForValue(h)){const z=wi(S)*n.getLineWidthForValue(h)/2;R+=z,S-=z}return{size:S,base:R,head:x,center:x+S/2}}_calculateBarIndexPixels(t,n){const a=n.scale,l=this.options,o=l.skipNull,c=Ot(l.maxBarThickness,1/0);let h,d;const m=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(t):n.stackCount,b=l.barThickness==="flex"?cE(t,n,l,p*m):uE(t,n,l,p*m),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Ot(v,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+w;h=b.start+b.chunk*x+b.chunk/2,d=Math.min(c,b.chunk*b.ratio)}else h=a.getPixelForValue(this.getParsed(t)[a.axis],t),d=Math.min(c,n.min*n.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,n=t.vScale,a=t.data,l=a.length;let o=0;for(;o<l;++o)this.getParsed(o)[n.axis]!==null&&!a[o].hidden&&a[o].draw(this._ctx)}}function Ki(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ef{static override(t){Object.assign(ef.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ki()}parse(){return Ki()}format(){return Ki()}add(){return Ki()}diff(){return Ki()}startOf(){return Ki()}endOf(){return Ki()}}var bE={_date:ef};function vE(i,t,n,a){const{controller:l,data:o,_sorted:c}=i,h=l._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?s1:Dh;if(a){if(l._sharedOptions){const p=o[0],b=typeof p.getRange=="function"&&p.getRange(t);if(b){const v=m(o,t,n-b),w=m(o,t,n+b);return{lo:v.lo,hi:w.hi}}}}else{const p=m(o,t,n);if(d){const{vScale:b}=l._cachedMeta,{_parsed:v}=i,w=v.slice(0,p.lo+1).reverse().findIndex(S=>!Nt(S[b.axis]));p.lo-=Math.max(0,w);const x=v.slice(p.hi).findIndex(S=>!Nt(S[b.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:o.length-1}}function Oo(i,t,n,a,l){const o=i.getSortedVisibleDatasetMetas(),c=n[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:p}=o[h],{lo:b,hi:v}=vE(o[h],t,c,l);for(let w=b;w<=v;++w){const x=p[w];x.skip||a(x,m,w)}}}function _E(i){const t=i.indexOf("x")!==-1,n=i.indexOf("y")!==-1;return function(a,l){const o=t?Math.abs(a.x-l.x):0,c=n?Math.abs(a.y-l.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function mh(i,t,n,a,l){const o=[];return!l&&!i.isPointInArea(t)||Oo(i,n,t,function(h,d,m){!l&&!A0(h,i.chartArea,0)||h.inRange(t.x,t.y,a)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function wE(i,t,n,a){let l=[];function o(c,h,d){const{startAngle:m,endAngle:p}=c.getProps(["startAngle","endAngle"],a),{angle:b}=t1(c,{x:t.x,y:t.y});n1(b,m,p)&&l.push({element:c,datasetIndex:h,index:d})}return Oo(i,n,t,o),l}function SE(i,t,n,a,l,o){let c=[];const h=_E(n);let d=Number.POSITIVE_INFINITY;function m(p,b,v){const w=p.inRange(t.x,t.y,l);if(a&&!w)return;const x=p.getCenterPoint(l);if(!(!!o||i.isPointInArea(x))&&!w)return;const E=h(t,x);E<d?(c=[{element:p,datasetIndex:b,index:v}],d=E):E===d&&c.push({element:p,datasetIndex:b,index:v})}return Oo(i,n,t,m),c}function ph(i,t,n,a,l,o){return!o&&!i.isPointInArea(t)?[]:n==="r"&&!a?wE(i,t,n,l):SE(i,t,n,a,l,o)}function gy(i,t,n,a,l){const o=[],c=n==="x"?"inXRange":"inYRange";let h=!1;return Oo(i,n,t,(d,m,p)=>{d[c]&&d[c](t[n],l)&&(o.push({element:d,datasetIndex:m,index:p}),h=h||d.inRange(t.x,t.y,l))}),a&&!h?[]:o}var xE={modes:{index(i,t,n,a){const l=Xi(t,i),o=n.axis||"x",c=n.includeInvisible||!1,h=n.intersect?mh(i,l,o,a,c):ph(i,l,o,!1,a,c),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(m=>{const p=h[0].index,b=m.data[p];b&&!b.skip&&d.push({element:b,datasetIndex:m.index,index:p})}),d):[]},dataset(i,t,n,a){const l=Xi(t,i),o=n.axis||"xy",c=n.includeInvisible||!1;let h=n.intersect?mh(i,l,o,a,c):ph(i,l,o,!1,a,c);if(h.length>0){const d=h[0].datasetIndex,m=i.getDatasetMeta(d).data;h=[];for(let p=0;p<m.length;++p)h.push({element:m[p],datasetIndex:d,index:p})}return h},point(i,t,n,a){const l=Xi(t,i),o=n.axis||"xy",c=n.includeInvisible||!1;return mh(i,l,o,a,c)},nearest(i,t,n,a){const l=Xi(t,i),o=n.axis||"xy",c=n.includeInvisible||!1;return ph(i,l,o,n.intersect,a,c)},x(i,t,n,a){const l=Xi(t,i);return gy(i,l,"x",n.intersect,a)},y(i,t,n,a){const l=Xi(t,i);return gy(i,l,"y",n.intersect,a)}}};const q0=["left","top","right","bottom"];function nr(i,t){return i.filter(n=>n.pos===t)}function my(i,t){return i.filter(n=>q0.indexOf(n.pos)===-1&&n.box.axis===t)}function ir(i,t){return i.sort((n,a)=>{const l=t?a:n,o=t?n:a;return l.weight===o.weight?l.index-o.index:l.weight-o.weight})}function EE(i){const t=[];let n,a,l,o,c,h;for(n=0,a=(i||[]).length;n<a;++n)l=i[n],{position:o,options:{stack:c,stackWeight:h=1}}=l,t.push({index:n,box:l,pos:o,horizontal:l.isHorizontal(),weight:l.weight,stack:c&&o+c,stackWeight:h});return t}function TE(i){const t={};for(const n of i){const{stack:a,pos:l,stackWeight:o}=n;if(!a||!q0.includes(l))continue;const c=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function OE(i,t){const n=TE(i),{vBoxMaxWidth:a,hBoxMaxHeight:l}=t;let o,c,h;for(o=0,c=i.length;o<c;++o){h=i[o];const{fullSize:d}=h.box,m=n[h.stack],p=m&&h.stackWeight/m.weight;h.horizontal?(h.width=p?p*a:d&&t.availableWidth,h.height=l):(h.width=a,h.height=p?p*l:d&&t.availableHeight)}return n}function AE(i){const t=EE(i),n=ir(t.filter(m=>m.box.fullSize),!0),a=ir(nr(t,"left"),!0),l=ir(nr(t,"right")),o=ir(nr(t,"top"),!0),c=ir(nr(t,"bottom")),h=my(t,"x"),d=my(t,"y");return{fullSize:n,leftAndTop:a.concat(o),rightAndBottom:l.concat(d).concat(c).concat(h),chartArea:nr(t,"chartArea"),vertical:a.concat(l).concat(d),horizontal:o.concat(c).concat(h)}}function py(i,t,n,a){return Math.max(i[n],t[n])+Math.max(i[a],t[a])}function V0(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function RE(i,t,n,a){const{pos:l,box:o}=n,c=i.maxPadding;if(!Et(l)){n.size&&(i[l]-=n.size);const b=a[n.stack]||{size:0,count:1};b.size=Math.max(b.size,n.horizontal?o.height:o.width),n.size=b.size/b.count,i[l]+=n.size}o.getPadding&&V0(c,o.getPadding());const h=Math.max(0,t.outerWidth-py(c,i,"left","right")),d=Math.max(0,t.outerHeight-py(c,i,"top","bottom")),m=h!==i.w,p=d!==i.h;return i.w=h,i.h=d,n.horizontal?{same:m,other:p}:{same:p,other:m}}function kE(i){const t=i.maxPadding;function n(a){const l=Math.max(t[a]-i[a],0);return i[a]+=l,l}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}function CE(i,t){const n=t.maxPadding;function a(l){const o={left:0,top:0,right:0,bottom:0};return l.forEach(c=>{o[c]=Math.max(t[c],n[c])}),o}return a(i?["left","right"]:["top","bottom"])}function or(i,t,n,a){const l=[];let o,c,h,d,m,p;for(o=0,c=i.length,m=0;o<c;++o){h=i[o],d=h.box,d.update(h.width||t.w,h.height||t.h,CE(h.horizontal,t));const{same:b,other:v}=RE(t,n,h,a);m|=b&&l.length,p=p||v,d.fullSize||l.push(h)}return m&&or(l,t,n,a)||p}function no(i,t,n,a,l){i.top=n,i.left=t,i.right=t+a,i.bottom=n+l,i.width=a,i.height=l}function yy(i,t,n,a){const l=n.padding;let{x:o,y:c}=t;for(const h of i){const d=h.box,m=a[h.stack]||{placed:0,weight:1},p=h.stackWeight/m.weight||1;if(h.horizontal){const b=t.w*p,v=m.size||d.height;xr(m.start)&&(c=m.start),d.fullSize?no(d,l.left,c,n.outerWidth-l.right-l.left,v):no(d,t.left+m.placed,c,b,v),m.start=c,m.placed+=b,c=d.bottom}else{const b=t.h*p,v=m.size||d.width;xr(m.start)&&(o=m.start),d.fullSize?no(d,o,l.top,v,n.outerHeight-l.bottom-l.top):no(d,o,t.top+m.placed,v,b),m.start=o,m.placed+=b,o=d.right}}t.x=o,t.y=c}var tn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},i.boxes.push(t)},removeBox(i,t){const n=i.boxes?i.boxes.indexOf(t):-1;n!==-1&&i.boxes.splice(n,1)},configure(i,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(i,t,n,a){if(!i)return;const l=nn(i.options.layout.padding),o=Math.max(t-l.width,0),c=Math.max(n-l.height,0),h=AE(i.boxes),d=h.vertical,m=h.horizontal;Ct(i.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=d.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:n,padding:l,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),v=Object.assign({},l);V0(v,nn(a));const w=Object.assign({maxPadding:v,w:o,h:c,x:l.left,y:l.top},l),x=OE(d.concat(m),b);or(h.fullSize,w,b,x),or(d,w,b,x),or(m,w,b,x)&&or(d,w,b,x),kE(w),yy(h.leftAndTop,w,b,x),w.x+=w.w,w.y+=w.h,yy(h.rightAndBottom,w,b,x),i.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Ct(h.chartArea,S=>{const E=S.box;Object.assign(E,i.chartArea),E.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class $0{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,a){}removeEventListener(t,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,a,l){return n=Math.max(0,n||t.width),a=a||t.height,{width:n,height:Math.max(0,l?Math.floor(n/l):a)}}isAttached(t){return!0}updateConfig(t){}}class ME extends $0{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const uo="$chartjs",DE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},by=i=>i===null||i==="";function jE(i,t){const n=i.style,a=i.getAttribute("height"),l=i.getAttribute("width");if(i[uo]={initial:{height:a,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",by(l)){const o=sy(i,"width");o!==void 0&&(i.width=o)}if(by(a))if(i.style.height==="")i.height=i.width/(t||2);else{const o=sy(i,"height");o!==void 0&&(i.height=o)}return i}const P0=$1?{passive:!0}:!1;function zE(i,t,n){i&&i.addEventListener(t,n,P0)}function NE(i,t,n){i&&i.canvas&&i.canvas.removeEventListener(t,n,P0)}function UE(i,t){const n=DE[i.type]||i.type,{x:a,y:l}=Xi(i,t);return{type:n,chart:t,native:i,x:a!==void 0?a:null,y:l!==void 0?l:null}}function wo(i,t){for(const n of i)if(n===t||n.contains(t))return!0}function LE(i,t,n){const a=i.canvas,l=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||wo(h.addedNodes,a),c=c&&!wo(h.removedNodes,a);c&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function BE(i,t,n){const a=i.canvas,l=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||wo(h.removedNodes,a),c=c&&!wo(h.addedNodes,a);c&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const Tr=new Map;let vy=0;function I0(){const i=window.devicePixelRatio;i!==vy&&(vy=i,Tr.forEach((t,n)=>{n.currentDevicePixelRatio!==i&&t()}))}function HE(i,t){Tr.size||window.addEventListener("resize",I0),Tr.set(i,t)}function qE(i){Tr.delete(i),Tr.size||window.removeEventListener("resize",I0)}function VE(i,t,n){const a=i.canvas,l=a&&tf(a);if(!l)return;const o=S0((h,d)=>{const m=l.clientWidth;n(h,d),m<l.clientWidth&&n()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,p=d.contentRect.height;m===0&&p===0||o(m,p)});return c.observe(l),HE(i,o),c}function yh(i,t,n){n&&n.disconnect(),t==="resize"&&qE(i)}function $E(i,t,n){const a=i.canvas,l=S0(o=>{i.ctx!==null&&n(UE(o,i))},i);return zE(a,t,l),l}class PE extends $0{acquireContext(t,n){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(jE(t,n),a):null}releaseContext(t){const n=t.canvas;if(!n[uo])return!1;const a=n[uo].initial;["height","width"].forEach(o=>{const c=a[o];Nt(c)?n.removeAttribute(o):n.setAttribute(o,c)});const l=a.style||{};return Object.keys(l).forEach(o=>{n.style[o]=l[o]}),n.width=n.width,delete n[uo],!0}addEventListener(t,n,a){this.removeEventListener(t,n);const l=t.$proxies||(t.$proxies={}),c={attach:LE,detach:BE,resize:VE}[n]||$E;l[n]=c(t,n,a)}removeEventListener(t,n){const a=t.$proxies||(t.$proxies={}),l=a[n];if(!l)return;({attach:yh,detach:yh,resize:yh}[n]||NE)(t,n,l),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,a,l){return V1(t,n,a,l)}isAttached(t){const n=t&&tf(t);return!!(n&&n.isConnected)}}function IE(i){return!Zh()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?ME:PE}class sa{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}hasValue(){return bo(this.x)&&bo(this.y)}getProps(t,n){const a=this.$animations;if(!n||!a)return this;const l={};return t.forEach(o=>{l[o]=a[o]&&a[o].active()?a[o]._to:this[o]}),l}}function YE(i,t){const n=i.options.ticks,a=GE(i),l=Math.min(n.maxTicksLimit||a,a),o=n.major.enabled?FE(t):[],c=o.length,h=o[0],d=o[c-1],m=[];if(c>l)return XE(t,m,o,c/l),m;const p=KE(o,t,l);if(c>0){let b,v;const w=c>1?Math.round((d-h)/(c-1)):null;for(io(t,m,p,Nt(w)?0:h-w,h),b=0,v=c-1;b<v;b++)io(t,m,p,o[b],o[b+1]);return io(t,m,p,d,Nt(w)?t.length:d+w),m}return io(t,m,p),m}function GE(i){const t=i.options.offset,n=i._tickSize(),a=i._length/n+(t?0:1),l=i._maxLength/n;return Math.floor(Math.min(a,l))}function KE(i,t,n){const a=QE(i),l=t.length/n;if(!a)return Math.max(l,1);const o=Xx(a);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>l)return d}return Math.max(l,1)}function FE(i){const t=[];let n,a;for(n=0,a=i.length;n<a;n++)i[n].major&&t.push(n);return t}function XE(i,t,n,a){let l=0,o=n[0],c;for(a=Math.ceil(a),c=0;c<i.length;c++)c===o&&(t.push(i[c]),l++,o=n[l*a])}function io(i,t,n,a,l){const o=Ot(a,0),c=Math.min(Ot(l,i.length),i.length);let h=0,d,m,p;for(n=Math.ceil(n),l&&(d=l-a,n=d/Math.floor(d/n)),p=o;p<0;)h++,p=Math.round(o+h*n);for(m=Math.max(o,0);m<c;m++)m===p&&(t.push(i[m]),h++,p=Math.round(o+h*n))}function QE(i){const t=i.length;let n,a;if(t<2)return!1;for(a=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==a)return!1;return a}const JE=i=>i==="left"?"right":i==="right"?"left":i,_y=(i,t,n)=>t==="top"||t==="left"?i[t]+n:i[t]-n,wy=(i,t)=>Math.min(t||i,i);function Sy(i,t){const n=[],a=i.length/t,l=i.length;let o=0;for(;o<l;o+=a)n.push(i[Math.floor(o)]);return n}function WE(i,t,n){const a=i.ticks.length,l=Math.min(t,a-1),o=i._startPixel,c=i._endPixel,h=1e-6;let d=i.getPixelForTick(l),m;if(!(n&&(a===1?m=Math.max(d-o,c-d):t===0?m=(i.getPixelForTick(1)-d)/2:m=(d-i.getPixelForTick(l-1))/2,d+=l<t?m:-m,d<o-h||d>c+h)))return d}function ZE(i,t){Ct(i,n=>{const a=n.gc,l=a.length/2;let o;if(l>t){for(o=0;o<l;++o)delete n.data[a[o]];a.splice(0,l)}})}function sr(i){return i.drawTicks?i.tickLength:0}function xy(i,t){if(!i.display)return 0;const n=pe(i.font,t),a=nn(i.padding);return(se(i.text)?i.text.length:1)*n.lineHeight+a.height}function tT(i,t){return ia(i,{scale:t,type:"scale"})}function eT(i,t,n){return ia(i,{tick:n,index:t,type:"tick"})}function nT(i,t,n){let a=Kh(i);return(n&&t!=="right"||!n&&t==="right")&&(a=JE(a)),a}function iT(i,t,n,a){const{top:l,left:o,bottom:c,right:h,chart:d}=i,{chartArea:m,scales:p}=d;let b=0,v,w,x;const S=c-l,E=h-o;if(i.isHorizontal()){if(w=me(a,o,h),Et(n)){const R=Object.keys(n)[0],z=n[R];x=p[R].getPixelForValue(z)+S-t}else n==="center"?x=(m.bottom+m.top)/2+S-t:x=_y(i,n,t);v=h-o}else{if(Et(n)){const R=Object.keys(n)[0],z=n[R];w=p[R].getPixelForValue(z)-E+t}else n==="center"?w=(m.left+m.right)/2-E+t:w=_y(i,n,t);x=me(a,c,l),b=n==="left"?-cn:cn}return{titleX:w,titleY:x,maxWidth:v,rotation:b}}class aa extends sa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:a,_suggestedMax:l}=this;return t=pn(t,Number.POSITIVE_INFINITY),n=pn(n,Number.NEGATIVE_INFINITY),a=pn(a,Number.POSITIVE_INFINITY),l=pn(l,Number.NEGATIVE_INFINITY),{min:pn(t,a),max:pn(n,l),minDefined:en(t),maxDefined:en(n)}}getMinMax(t){let{min:n,max:a,minDefined:l,maxDefined:o}=this.getUserBounds(),c;if(l&&o)return{min:n,max:a};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,t),l||(n=Math.min(n,c.min)),o||(a=Math.max(a,c.max));return n=o&&n>a?a:n,a=l&&n>a?n:a,{min:pn(n,pn(a,n)),max:pn(a,pn(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ht(this.options.beforeUpdate,[this])}update(t,n,a){const{beginAtZero:l,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O1(this,o,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Sy(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=YE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,t=!t),this._startPixel=n,this._endPixel=a,this._reversePixels=t,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ht(this.options.afterUpdate,[this])}beforeSetDimensions(){Ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ht(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ht(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let a,l,o;for(a=0,l=t.length;a<l;a++)o=t[a],o.label=Ht(n.callback,[o.value,a,t],this)}afterTickToLabelConversion(){Ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,a=wy(this.ticks.length,t.ticks.maxTicksLimit),l=n.minRotation||0,o=n.maxRotation;let c=l,h,d,m;if(!this._isVisible()||!n.display||l>=o||a<=1||!this.isHorizontal()){this.labelRotation=l;return}const p=this._getLabelSizes(),b=p.widest.width,v=p.highest.height,w=hn(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/a:w/(a-1),b+6>h&&(h=w/(a-(t.offset?.5:1)),d=this.maxHeight-sr(t.grid)-n.padding-xy(t.title,this.chart.options.font),m=Math.sqrt(b*b+v*v),c=Zx(Math.min(Math.asin(hn((p.highest.height+6)/h,-1,1)),Math.asin(hn(d/m,-1,1))-Math.asin(hn(v/m,-1,1)))),c=Math.max(l,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ht(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:a,title:l,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=xy(l,n.options.font);if(h?(t.width=this.maxWidth,t.height=sr(o)+d):(t.height=this.maxHeight,t.width=sr(o)+d),a.display&&this.ticks.length){const{first:m,last:p,widest:b,highest:v}=this._getLabelSizes(),w=a.padding*2,x=Zi(this.labelRotation),S=Math.cos(x),E=Math.sin(x);if(h){const R=a.mirror?0:E*b.width+S*v.height;t.height=Math.min(this.maxHeight,t.height+R+w)}else{const R=a.mirror?0:S*b.width+E*v.height;t.width=Math.min(this.maxWidth,t.width+R+w)}this._calculatePadding(m,p,E,S)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,a,l){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,w=0;d?m?(v=l*t.width,w=a*n.height):(v=a*t.height,w=l*n.width):o==="start"?w=n.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,w=n.width/2),this.paddingLeft=Math.max((v-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-b+c)*this.width/(this.width-b),0)}else{let p=n.height/2,b=t.height/2;o==="start"?(p=0,b=t.height):o==="end"&&(p=n.height,b=0),this.paddingTop=p+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ht(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,a;for(n=0,a=t.length;n<a;n++)Nt(t[n].label)&&(t.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=Sy(a,n)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,a){const{ctx:l,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(n/wy(n,a));let m=0,p=0,b,v,w,x,S,E,R,z,C,U,Y;for(b=0;b<n;b+=d){if(x=t[b].label,S=this._resolveTickFontOptions(b),l.font=E=S.string,R=o[E]=o[E]||{data:{},gc:[]},z=S.lineHeight,C=U=0,!Nt(x)&&!se(x))C=Wp(l,R.data,R.gc,C,x),U=z;else if(se(x))for(v=0,w=x.length;v<w;++v)Y=x[v],!Nt(Y)&&!se(Y)&&(C=Wp(l,R.data,R.gc,C,Y),U+=z);c.push(C),h.push(U),m=Math.max(C,m),p=Math.max(U,p)}ZE(o,n);const I=c.indexOf(m),P=h.indexOf(p),F=W=>({width:c[W]||0,height:h[W]||0});return{first:F(0),last:F(n-1),widest:F(I),highest:F(P),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return i1(this._alignToPixels?Gi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const a=n[t];return a.$context||(a.$context=eT(this.getContext(),t,a))}return this.$context||(this.$context=tT(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Zi(this.labelRotation),a=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*a>h*l?h/a:d/l:d*l<h*a?d/a:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,a=this.chart,l=this.options,{grid:o,position:c,border:h}=l,d=o.offset,m=this.isHorizontal(),b=this.ticks.length+(d?1:0),v=sr(o),w=[],x=h.setContext(this.getContext()),S=x.display?x.width:0,E=S/2,R=function(L){return Gi(a,L,S)};let z,C,U,Y,I,P,F,W,ft,rt,lt,$t;if(c==="top")z=R(this.bottom),P=this.bottom-v,W=z-E,rt=R(t.top)+E,$t=t.bottom;else if(c==="bottom")z=R(this.top),rt=t.top,$t=R(t.bottom)-E,P=z+E,W=this.top+v;else if(c==="left")z=R(this.right),I=this.right-v,F=z-E,ft=R(t.left)+E,lt=t.right;else if(c==="right")z=R(this.left),ft=t.left,lt=R(t.right)-E,I=z+E,F=this.left+v;else if(n==="x"){if(c==="center")z=R((t.top+t.bottom)/2+.5);else if(Et(c)){const L=Object.keys(c)[0],G=c[L];z=R(this.chart.scales[L].getPixelForValue(G))}rt=t.top,$t=t.bottom,P=z+E,W=P+v}else if(n==="y"){if(c==="center")z=R((t.left+t.right)/2);else if(Et(c)){const L=Object.keys(c)[0],G=c[L];z=R(this.chart.scales[L].getPixelForValue(G))}I=z-E,F=I-v,ft=t.left,lt=t.right}const Qt=Ot(l.ticks.maxTicksLimit,b),vt=Math.max(1,Math.ceil(b/Qt));for(C=0;C<b;C+=vt){const L=this.getContext(C),G=o.setContext(L),et=h.setContext(L),_t=G.lineWidth,bt=G.color,A=et.dash||[],V=et.dashOffset,K=G.tickWidth,X=G.tickColor,at=G.tickBorderDash||[],ot=G.tickBorderDashOffset;U=WE(this,C,d),U!==void 0&&(Y=Gi(a,U,_t),m?I=F=ft=lt=Y:P=W=rt=$t=Y,w.push({tx1:I,ty1:P,tx2:F,ty2:W,x1:ft,y1:rt,x2:lt,y2:$t,width:_t,color:bt,borderDash:A,borderDashOffset:V,tickWidth:K,tickColor:X,tickBorderDash:at,tickBorderDashOffset:ot}))}return this._ticksLength=b,this._borderValue=z,w}_computeLabelItems(t){const n=this.axis,a=this.options,{position:l,ticks:o}=a,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:p,mirror:b}=o,v=sr(a.grid),w=v+p,x=b?-p:w,S=-Zi(this.labelRotation),E=[];let R,z,C,U,Y,I,P,F,W,ft,rt,lt,$t="middle";if(l==="top")I=this.bottom-x,P=this._getXAxisLabelAlignment();else if(l==="bottom")I=this.top+x,P=this._getXAxisLabelAlignment();else if(l==="left"){const vt=this._getYAxisLabelAlignment(v);P=vt.textAlign,Y=vt.x}else if(l==="right"){const vt=this._getYAxisLabelAlignment(v);P=vt.textAlign,Y=vt.x}else if(n==="x"){if(l==="center")I=(t.top+t.bottom)/2+w;else if(Et(l)){const vt=Object.keys(l)[0],L=l[vt];I=this.chart.scales[vt].getPixelForValue(L)+w}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")Y=(t.left+t.right)/2-w;else if(Et(l)){const vt=Object.keys(l)[0],L=l[vt];Y=this.chart.scales[vt].getPixelForValue(L)}P=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(d==="start"?$t="top":d==="end"&&($t="bottom"));const Qt=this._getLabelSizes();for(R=0,z=h.length;R<z;++R){C=h[R],U=C.label;const vt=o.setContext(this.getContext(R));F=this.getPixelForTick(R)+o.labelOffset,W=this._resolveTickFontOptions(R),ft=W.lineHeight,rt=se(U)?U.length:1;const L=rt/2,G=vt.color,et=vt.textStrokeColor,_t=vt.textStrokeWidth;let bt=P;c?(Y=F,P==="inner"&&(R===z-1?bt=this.options.reverse?"left":"right":R===0?bt=this.options.reverse?"right":"left":bt="center"),l==="top"?m==="near"||S!==0?lt=-rt*ft+ft/2:m==="center"?lt=-Qt.highest.height/2-L*ft+ft:lt=-Qt.highest.height+ft/2:m==="near"||S!==0?lt=ft/2:m==="center"?lt=Qt.highest.height/2-L*ft:lt=Qt.highest.height-rt*ft,b&&(lt*=-1),S!==0&&!vt.showLabelBackdrop&&(Y+=ft/2*Math.sin(S))):(I=F,lt=(1-rt)*ft/2);let A;if(vt.showLabelBackdrop){const V=nn(vt.backdropPadding),K=Qt.heights[R],X=Qt.widths[R];let at=lt-V.top,ot=0-V.left;switch($t){case"middle":at-=K/2;break;case"bottom":at-=K;break}switch(P){case"center":ot-=X/2;break;case"right":ot-=X;break;case"inner":R===z-1?ot-=X:R>0&&(ot-=X/2);break}A={left:ot,top:at,width:X+V.width,height:K+V.height,color:vt.backdropColor}}E.push({label:U,font:W,textOffset:lt,options:{rotation:S,color:G,strokeColor:et,strokeWidth:_t,textAlign:bt,textBaseline:$t,translation:[Y,I],backdrop:A}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Zi(this.labelRotation))return t==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:a,mirror:l,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,d=c.widest.width;let m,p;return n==="left"?l?(p=this.right+o,a==="near"?m="left":a==="center"?(m="center",p+=d/2):(m="right",p+=d)):(p=this.right-h,a==="near"?m="right":a==="center"?(m="center",p-=d/2):(m="left",p=this.left)):n==="right"?l?(p=this.left+o,a==="near"?m="right":a==="center"?(m="center",p-=d/2):(m="left",p-=d)):(p=this.left+h,a==="near"?m="left":a==="center"?(m="center",p+=d/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:a,top:l,width:o,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(a,l,o,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(o=>o.value===t);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const n=this.options.grid,a=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(d,m,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(d.x,d.y),a.lineTo(m.x,m.y),a.stroke(),a.restore())};if(n.display)for(o=0,c=l.length;o<c;++o){const d=l[o];n.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:a,grid:l}}=this,o=a.setContext(this.getContext()),c=a.display?o.width:0;if(!c)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,p,b,v;this.isHorizontal()?(m=Gi(t,this.left,c)-c/2,p=Gi(t,this.right,h)+h/2,b=v=d):(b=Gi(t,this.top,c)-c/2,v=Gi(t,this.bottom,h)+h/2,m=p=d),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,b),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,l=this._computeLabelArea();l&&Fh(a,l);const o=this.getLabelItems(t);for(const c of o){const h=c.options,d=c.font,m=c.label,p=c.textOffset;Er(a,m,0,p,d,h)}l&&Xh(a)}drawTitle(){const{ctx:t,options:{position:n,title:a,reverse:l}}=this;if(!a.display)return;const o=pe(a.font),c=nn(a.padding),h=a.align;let d=o.lineHeight/2;n==="bottom"||n==="center"||Et(n)?(d+=c.bottom,se(a.text)&&(d+=o.lineHeight*(a.text.length-1))):d+=c.top;const{titleX:m,titleY:p,maxWidth:b,rotation:v}=iT(this,d,n,h);Er(t,a.text,0,0,o,{color:a.color,maxWidth:b,rotation:v,textAlign:nT(h,n,l),textBaseline:"middle",translation:[m,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,a=Ot(t.grid&&t.grid.z,-1),l=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==aa.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:a,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",l=[];let o,c;for(o=0,c=n.length;o<c;++o){const h=n[o];h[a]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return pe(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class so{constructor(t,n,a){this.type=t,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let a;rT(n)&&(a=this.register(n));const l=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in l||(l[o]=t,sT(t,c,a),this.override&&Xt.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,a=t.id,l=this.scope;a in n&&delete n[a],l&&a in Xt[l]&&(delete Xt[l][a],this.override&&delete es[a])}}function sT(i,t,n){const a=Sr(Object.create(null),[n?Xt.get(n):{},Xt.get(t),i.defaults]);Xt.set(t,a),i.defaultRoutes&&aT(t,i.defaultRoutes),i.descriptors&&Xt.describe(t,i.descriptors)}function aT(i,t){Object.keys(t).forEach(n=>{const a=n.split("."),l=a.pop(),o=[i].concat(a).join("."),c=t[n].split("."),h=c.pop(),d=c.join(".");Xt.route(o,l,d,h)})}function rT(i){return"id"in i&&"defaults"in i}class lT{constructor(){this.controllers=new so(B0,"datasets",!0),this.elements=new so(sa,"elements"),this.plugins=new so(Object,"plugins"),this.scales=new so(aa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,a){[...n].forEach(l=>{const o=a||this._getRegistryForType(l);a||o.isForType(l)||o===this.plugins&&l.id?this._exec(t,o,l):Ct(l,c=>{const h=a||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,n,a){const l=Yh(t);Ht(a["before"+l],[],a),n[t](a),Ht(a["after"+l],[],a)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(t))return a}return this.plugins}_get(t,n,a){const l=n.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return l}}var bn=new lT;class oT{constructor(){this._init=void 0}notify(t,n,a,l){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=l?this._descriptors(t).filter(l):this._descriptors(t),c=this._notify(o,t,n,a);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,n,a,l){l=l||{};for(const o of t){const c=o.plugin,h=c[a],d=[n,l,o.options];if(Ht(h,d,c)===!1&&l.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const a=t&&t.config,l=Ot(a.options&&a.options.plugins,{}),o=uT(a);return l===!1&&!n?[]:hT(t,o,l,n)}_notifyStateChanges(t){const n=this._oldCache||[],a=this._cache,l=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(l(n,a),t,"stop"),this._notify(l(a,n),t,"start")}}function uT(i){const t={},n=[],a=Object.keys(bn.plugins.items);for(let o=0;o<a.length;o++)n.push(bn.getPlugin(a[o]));const l=i.plugins||[];for(let o=0;o<l.length;o++){const c=l[o];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function cT(i,t){return!t&&i===!1?null:i===!0?{}:i}function hT(i,{plugins:t,localIds:n},a,l){const o=[],c=i.getContext();for(const h of t){const d=h.id,m=cT(a[d],l);m!==null&&o.push({plugin:h,options:fT(i.config,{plugin:h,local:n[d]},m,c)})}return o}function fT(i,{plugin:t,local:n},a,l){const o=i.pluginScopeKeys(t),c=i.getOptionScopes(a,o);return n&&t.defaults&&c.push(t.defaults),i.createResolver(c,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zh(i,t){const n=Xt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function dT(i,t){let n=i;return i==="_index_"?n=t:i==="_value_"&&(n=t==="x"?"y":"x"),n}function gT(i,t){return i===t?"_index_":"_value_"}function Ey(i){if(i==="x"||i==="y"||i==="r")return i}function mT(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Nh(i,...t){if(Ey(i))return i;for(const n of t){const a=n.axis||mT(n.position)||i.length>1&&Ey(i[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Ty(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function pT(i,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(a=>a.xAxisID===i||a.yAxisID===i);if(n.length)return Ty(i,"x",n[0])||Ty(i,"y",n[0])}return{}}function yT(i,t){const n=es[i.type]||{scales:{}},a=t.scales||{},l=zh(i.type,t),o=Object.create(null);return Object.keys(a).forEach(c=>{const h=a[c];if(!Et(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Nh(c,h,pT(c,i),Xt.scales[h.type]),m=gT(d,l),p=n.scales||{};o[c]=fr(Object.create(null),[{axis:d},h,p[d],p[m]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,d=c.indexAxis||zh(h,t),p=(es[h]||{}).scales||{};Object.keys(p).forEach(b=>{const v=dT(b,d),w=c[v+"AxisID"]||v;o[w]=o[w]||Object.create(null),fr(o[w],[{axis:v},a[w],p[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];fr(h,[Xt.scales[h.type],Xt.scale])}),o}function Y0(i){const t=i.options||(i.options={});t.plugins=Ot(t.plugins,{}),t.scales=yT(i,t)}function G0(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function bT(i){return i=i||{},i.data=G0(i.data),Y0(i),i}const Oy=new Map,K0=new Set;function ao(i,t){let n=Oy.get(i);return n||(n=t(),Oy.set(i,n),K0.add(n)),n}const ar=(i,t,n)=>{const a=ea(t,n);a!==void 0&&i.add(a)};class vT{constructor(t){this._config=bT(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=G0(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Y0(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ao(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ao(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ao(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,a=this.type;return ao(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const a=this._scopeCache;let l=a.get(t);return(!l||n)&&(l=new Map,a.set(t,l)),l}getOptionScopes(t,n,a){const{options:l,type:o}=this,c=this._cachedScopes(t,a),h=c.get(n);if(h)return h;const d=new Set;n.forEach(p=>{t&&(d.add(t),p.forEach(b=>ar(d,t,b))),p.forEach(b=>ar(d,l,b)),p.forEach(b=>ar(d,es[o]||{},b)),p.forEach(b=>ar(d,Xt,b)),p.forEach(b=>ar(d,jh,b))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),K0.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:t,type:n}=this;return[t,es[n]||{},Xt.datasets[n]||{},{type:n},Xt,jh]}resolveNamedOptions(t,n,a,l=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Ay(this._resolverCache,t,l);let d=c;if(wT(c,n)){o.$shared=!1,a=Si(a)?a():a;const m=this.createResolver(t,a,h);d=na(c,a,m)}for(const m of n)o[m]=d[m];return o}createResolver(t,n,a=[""],l){const{resolver:o}=Ay(this._resolverCache,t,a);return Et(n)?na(o,n,void 0,l):o}}function Ay(i,t,n){let a=i.get(t);a||(a=new Map,i.set(t,a));const l=n.join();let o=a.get(l);return o||(o={resolver:Qh(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},a.set(l,o)),o}const _T=i=>Et(i)&&Object.getOwnPropertyNames(i).some(t=>Si(i[t]));function wT(i,t){const{isScriptable:n,isIndexable:a}=C0(i);for(const l of t){const o=n(l),c=a(l),h=(c||o)&&i[l];if(o&&(Si(h)||_T(h))||c&&se(h))return!0}return!1}var ST="4.5.1";const xT=["top","bottom","left","right","chartArea"];function Ry(i,t){return i==="top"||i==="bottom"||xT.indexOf(i)===-1&&t==="x"}function ky(i,t){return function(n,a){return n[i]===a[i]?n[t]-a[t]:n[i]-a[i]}}function Cy(i){const t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ht(n&&n.onComplete,[i],t)}function ET(i){const t=i.chart,n=t.options.animation;Ht(n&&n.onProgress,[i],t)}function F0(i){return Zh()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const co={},My=i=>{const t=F0(i);return Object.values(co).filter(n=>n.canvas===t).pop()};function TT(i,t,n){const a=Object.keys(i);for(const l of a){const o=+l;if(o>=t){const c=i[l];delete i[l],(n>0||o>t)&&(i[o+n]=c)}}}function OT(i,t,n,a){return!n||i.type==="mouseout"?null:a?t:i}let Ao=class{static defaults=Xt;static instances=co;static overrides=es;static registry=bn;static version=ST;static getChart=My;static register(...t){bn.add(...t),Dy()}static unregister(...t){bn.remove(...t),Dy()}constructor(t,n){const a=this.config=new vT(n),l=F0(t),o=My(l);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||IE(l)),this.platform.updateConfig(a);const h=this.platform.acquireContext(l,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,p=d&&d.width;if(this.id=Vx(),this.ctx=h,this.canvas=d,this.width=p,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=l1(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],co[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Bn.listen(this,"complete",Cy),Bn.listen(this,"progress",ET),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:l,_aspectRatio:o}=this;return Nt(t)?n&&o?o:l?a/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zp(this.canvas,this.ctx),this}stop(){return Bn.stop(this),this}resize(t,n){Bn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const a=this.options,l=this.canvas,o=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(l,t,n,o),h=a.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,iy(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ht(a.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ct(n,(a,l)=>{a.id=l})}buildOrUpdateScales(){const t=this.options,n=t.scales,a=this.scales,l=Object.keys(a).reduce((c,h)=>(c[h]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const h=n[c],d=Nh(c,h),m=d==="r",p=d==="x";return{options:h,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),Ct(o,c=>{const h=c.options,d=h.id,m=Nh(d,h),p=Ot(h.type,c.dtype);(h.position===void 0||Ry(h.position,m)!==Ry(c.dposition))&&(h.position=c.dposition),l[d]=!0;let b=null;if(d in a&&a[d].type===p)b=a[d];else{const v=bn.getScale(p);b=new v({id:d,type:p,ctx:this.ctx,chart:this}),a[b.id]=b}b.init(h,t)}),Ct(l,(c,h)=>{c||delete a[h]}),Ct(a,c=>{tn.configure(this,c,c.options),tn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((l,o)=>l.index-o.index),a>n){for(let l=n;l<a;++l)this._destroyDatasetMeta(l);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(ky("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,l)=>{n.filter(o=>o===a._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let a,l;for(this._removeUnreferencedMetasets(),a=0,l=n.length;a<l;a++){const o=n[a];let c=this.getDatasetMeta(a);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=h,c.indexAxis=o.indexAxis||zh(h,this.options),c.order=o.order||0,c.index=a,c.label=""+o.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const d=bn.getController(h),{datasetElementType:m,dataElementType:p}=Xt.datasets[h];Object.assign(d,{dataElementType:bn.getElement(p),datasetElementType:m&&bn.getElement(m)}),c.controller=new d(this,a),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ct(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:b}=this.getDatasetMeta(m),v=!l&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),l||Ct(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ky("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ct(this.scales,t=>{tn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!Pp(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:l,count:o}of n){const c=a==="_removeElements"?-o:o;TT(t,l,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),l=a(0);for(let o=1;o<n;o++)if(!Pp(l,a(o)))return;return Array.from(l).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;tn.update(this,this.width,this.height,t);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],Ct(this.boxes,l=>{a&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,o)=>{l._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Si(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const a=this.getDatasetMeta(t),l={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(a.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bn.has(this)?this.attached&&!Bn.running(this)&&Bn.start(this):(this.draw(),Cy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,a=[];let l,o;for(l=0,o=n.length;l<o;++l){const c=n[l];(!t||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,a={meta:t,index:t.index,cancelable:!0},l=G1(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(l&&Fh(n,l),t.controller.draw(),l&&Xh(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return A0(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,l){const o=xE.modes[n];return typeof o=="function"?o(this,t,a,l):[]}getDatasetMeta(t){const n=this.data.datasets[t],a=this._metasets;let l=a.filter(o=>o&&o._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(l)),l}getContext(){return this.$context||(this.$context=ia(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){const a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){const l=a?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,l);xr(n)?(o.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),c.update(o,{visible:a}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Bn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Zp(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete co[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,a=(o,c)=>{n.addEventListener(this,o,c),t[o]=c},l=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ct(this.options.events,o=>a(o,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,a=(d,m)=>{n.addEventListener(this,d,m),t[d]=m},l=(d,m)=>{t[d]&&(n.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{l("attach",h),this.attached=!0,this.resize(),a("resize",o),a("detach",c)};c=()=>{this.attached=!1,l("resize",o),this._stop(),this._resize(0,0),a("attach",h)},n.isAttached(this.canvas)?h():c()}unbindEvents(){Ct(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ct(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){const l=a?"set":"remove";let o,c,h,d;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[l+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],a=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!mo(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){const l=this.options.hover,o=(d,m)=>d.filter(p=>!m.some(b=>p.datasetIndex===b.datasetIndex&&p.index===b.index)),c=o(n,t),h=a?t:o(t,n);c.length&&this.updateHoverStyle(c,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,n){const a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},l=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,l)===!1)return;const o=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,l),(o||a.changed)&&this.render(),this}_handleEvent(t,n,a){const{_active:l=[],options:o}=this,c=n,h=this._getActiveElements(t,l,a,c),d=Kx(t),m=OT(t,this._lastEvent,a,d);a&&(this._lastEvent=null,Ht(o.onHover,[t,h,this],this),d&&Ht(o.onClick,[t,h,this],this));const p=!mo(h,l);return(p||n)&&(this._active=h,this._updateHoverStyles(h,l,n)),this._lastEvent=m,p}_getActiveElements(t,n,a,l){if(t.type==="mouseout")return[];if(!a)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,l)}};function Dy(){return Ct(Ao.instances,i=>i._plugins.invalidate())}function X0(i,t){const{x:n,y:a,base:l,width:o,height:c}=i.getProps(["x","y","base","width","height"],t);let h,d,m,p,b;return i.horizontal?(b=c/2,h=Math.min(n,l),d=Math.max(n,l),m=a-b,p=a+b):(b=o/2,h=n-b,d=n+b,m=Math.min(a,l),p=Math.max(a,l)),{left:h,top:m,right:d,bottom:p}}function bi(i,t,n,a){return i?0:hn(t,n,a)}function AT(i,t,n){const a=i.options.borderWidth,l=i.borderSkipped,o=k0(a);return{t:bi(l.top,o.top,0,n),r:bi(l.right,o.right,0,t),b:bi(l.bottom,o.bottom,0,n),l:bi(l.left,o.left,0,t)}}function RT(i,t,n){const{enableBorderRadius:a}=i.getProps(["enableBorderRadius"]),l=i.options.borderRadius,o=Zs(l),c=Math.min(t,n),h=i.borderSkipped,d=a||Et(l);return{topLeft:bi(!d||h.top||h.left,o.topLeft,0,c),topRight:bi(!d||h.top||h.right,o.topRight,0,c),bottomLeft:bi(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:bi(!d||h.bottom||h.right,o.bottomRight,0,c)}}function kT(i){const t=X0(i),n=t.right-t.left,a=t.bottom-t.top,l=AT(i,n/2,a/2),o=RT(i,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a,radius:o},inner:{x:t.left+l.l,y:t.top+l.t,w:n-l.l-l.r,h:a-l.t-l.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,o.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(l.b,l.r))}}}}function bh(i,t,n,a){const l=t===null,o=n===null,h=i&&!(l&&o)&&X0(i,a);return h&&(l||Js(t,h.left,h.right))&&(o||Js(n,h.top,h.bottom))}function CT(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function MT(i,t){i.rect(t.x,t.y,t.w,t.h)}function vh(i,t,n={}){const a=i.x!==n.x?-t:0,l=i.y!==n.y?-t:0,o=(i.x+i.w!==n.x+n.w?t:0)-a,c=(i.y+i.h!==n.y+n.h?t:0)-l;return{x:i.x+a,y:i.y+l,w:i.w+o,h:i.h+c,radius:i.radius}}class DT extends sa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:a,backgroundColor:l}}=this,{inner:o,outer:c}=kT(this),h=CT(c.radius)?vo:MT;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,vh(c,n,o)),t.clip(),h(t,vh(o,-n,c)),t.fillStyle=a,t.fill("evenodd")),t.beginPath(),h(t,vh(o,n)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,n,a){return bh(this,t,n,a)}inXRange(t,n){return bh(this,t,null,n)}inYRange(t,n){return bh(this,null,t,n)}getCenterPoint(t){const{x:n,y:a,base:l,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+l)/2:n,y:o?a:(a+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const jy=(i,t)=>{let{boxHeight:n=t,boxWidth:a=t}=i;return i.usePointStyle&&(n=Math.min(n,t),a=i.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}},jT=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class zy extends sa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,a){this.maxWidth=t,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ht(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(a=>t.filter(a,this.chart.data))),t.sort&&(n=n.sort((a,l)=>t.sort(a,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,l=pe(a.font),o=l.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=jy(a,o);let m,p;n.font=l.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(c,o,h,d)+10):(p=this.maxHeight,m=this._fitCols(c,l,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,a,l){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],p=l+h;let b=t;o.textAlign="left",o.textBaseline="middle";let v=-1,w=-p;return this.legendItems.forEach((x,S)=>{const E=a+n/2+o.measureText(x.text).width;(S===0||m[m.length-1]+E+2*h>c)&&(b+=p,m[m.length-(S>0?0:1)]=0,w+=p,v++),d[S]={left:0,top:w,row:v,width:E,height:l},m[m.length-1]+=E+h}),b}_fitCols(t,n,a,l){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],p=c-t;let b=h,v=0,w=0,x=0,S=0;return this.legendItems.forEach((E,R)=>{const{itemWidth:z,itemHeight:C}=zT(a,n,o,E,l);R>0&&w+C+2*h>p&&(b+=v+h,m.push({width:v,height:w}),x+=v+h,S++,v=w=0),d[R]={left:x,top:w,col:S,width:z,height:C},v=Math.max(v,z),w+=C+h}),b+=v,m.push({width:v,height:w}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:l},rtl:o}}=this,c=ta(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=me(a,this.left+l,this.right-this.lineWidths[h]);for(const m of n)h!==m.row&&(h=m.row,d=me(a,this.left+l,this.right-this.lineWidths[h])),m.top+=this.top+t+l,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+l}else{let h=0,d=me(a,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const m of n)m.col!==h&&(h=m.col,d=me(a,this.top+t+l,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+l,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Fh(t,this),this._draw(),Xh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:a,ctx:l}=this,{align:o,labels:c}=t,h=Xt.color,d=ta(t.rtl,this.left,this.width),m=pe(c.font),{padding:p}=c,b=m.size,v=b/2;let w;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=m.string;const{boxWidth:x,boxHeight:S,itemHeight:E}=jy(c,b),R=function(I,P,F){if(isNaN(x)||x<=0||isNaN(S)||S<0)return;l.save();const W=Ot(F.lineWidth,1);if(l.fillStyle=Ot(F.fillStyle,h),l.lineCap=Ot(F.lineCap,"butt"),l.lineDashOffset=Ot(F.lineDashOffset,0),l.lineJoin=Ot(F.lineJoin,"miter"),l.lineWidth=W,l.strokeStyle=Ot(F.strokeStyle,h),l.setLineDash(Ot(F.lineDash,[])),c.usePointStyle){const ft={radius:S*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:W},rt=d.xPlus(I,x/2),lt=P+v;O0(l,ft,rt,lt,c.pointStyleWidth&&x)}else{const ft=P+Math.max((b-S)/2,0),rt=d.leftForLtr(I,x),lt=Zs(F.borderRadius);l.beginPath(),Object.values(lt).some($t=>$t!==0)?vo(l,{x:rt,y:ft,w:x,h:S,radius:lt}):l.rect(rt,ft,x,S),l.fill(),W!==0&&l.stroke()}l.restore()},z=function(I,P,F){Er(l,F.text,I,P+E/2,m,{strikethrough:F.hidden,textAlign:d.textAlign(F.textAlign)})},C=this.isHorizontal(),U=this._computeTitleHeight();C?w={x:me(o,this.left+p,this.right-a[0]),y:this.top+p+U,line:0}:w={x:this.left+p,y:me(o,this.top+U+p,this.bottom-n[0].height),line:0},z0(this.ctx,t.textDirection);const Y=E+p;this.legendItems.forEach((I,P)=>{l.strokeStyle=I.fontColor,l.fillStyle=I.fontColor;const F=l.measureText(I.text).width,W=d.textAlign(I.textAlign||(I.textAlign=c.textAlign)),ft=x+v+F;let rt=w.x,lt=w.y;d.setWidth(this.width),C?P>0&&rt+ft+p>this.right&&(lt=w.y+=Y,w.line++,rt=w.x=me(o,this.left+p,this.right-a[w.line])):P>0&&lt+Y>this.bottom&&(rt=w.x=rt+n[w.line].width+p,w.line++,lt=w.y=me(o,this.top+U+p,this.bottom-n[w.line].height));const $t=d.x(rt);if(R($t,lt,I),rt=o1(W,rt+x+v,C?rt+ft:this.right,t.rtl),z(d.x(rt),lt,I),C)w.x+=ft+p;else if(typeof I.text!="string"){const Qt=m.lineHeight;w.y+=Q0(I,Qt)+p}else w.y+=Y}),N0(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,a=pe(n.font),l=nn(n.padding);if(!n.display)return;const o=ta(t.rtl,this.left,this.width),c=this.ctx,h=n.position,d=a.size/2,m=l.top+d;let p,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+m,b=me(t.align,b,this.right-v);else{const x=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);p=m+me(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const w=me(h,b,b+v);c.textAlign=o.textAlign(Kh(h)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=a.string,Er(c,n.text,w,p,a)}_computeTitleHeight(){const t=this.options.title,n=pe(t.font),a=nn(t.padding);return t.display?n.lineHeight+a.height:0}_getLegendItemAt(t,n){let a,l,o;if(Js(t,this.left,this.right)&&Js(n,this.top,this.bottom)){for(o=this.legendHitBoxes,a=0;a<o.length;++a)if(l=o[a],Js(t,l.left,l.left+l.width)&&Js(n,l.top,l.top+l.height))return this.legendItems[a]}return null}handleEvent(t){const n=this.options;if(!LT(t.type,n))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,o=jT(l,a);l&&!o&&Ht(n.onLeave,[t,l,this],this),this._hoveredItem=a,a&&!o&&Ht(n.onHover,[t,a,this],this)}else a&&Ht(n.onClick,[t,a,this],this)}}function zT(i,t,n,a,l){const o=NT(a,i,t,n),c=UT(l,a,t.lineHeight);return{itemWidth:o,itemHeight:c}}function NT(i,t,n,a){let l=i.text;return l&&typeof l!="string"&&(l=l.reduce((o,c)=>o.length>c.length?o:c)),t+n.size/2+a.measureText(l).width}function UT(i,t,n){let a=i;return typeof t.text!="string"&&(a=Q0(t,n)),a}function Q0(i,t){const n=i.text?i.text.length:0;return t*n}function LT(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var BT={id:"legend",_element:zy,start(i,t,n){const a=i.legend=new zy({ctx:i.ctx,options:n,chart:i});tn.configure(i,a,n),tn.addBox(i,a)},stop(i){tn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,n){const a=i.legend;tn.configure(i,a,n),a.options=n},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,n){const a=t.datasetIndex,l=n.chart;l.isDatasetVisible(a)?(l.hide(a),t.hidden=!0):(l.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:l,color:o,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(n?0:void 0),p=nn(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:a||m.pointStyle,rotation:m.rotation,textAlign:l||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class J0 extends sa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const l=se(a.text)?a.text.length:1;this._padding=nn(a.padding);const o=l*pe(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:a,bottom:l,right:o,options:c}=this,h=c.align;let d=0,m,p,b;return this.isHorizontal()?(p=me(h,a,o),b=n+t,m=o-a):(c.position==="left"?(p=a+t,b=me(h,l,n),d=ye*-.5):(p=o-t,b=me(h,n,l),d=ye*.5),m=l-n),{titleX:p,titleY:b,maxWidth:m,rotation:d}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const a=pe(n.font),o=a.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:m}=this._drawArgs(o);Er(t,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:m,textAlign:Kh(n.align),textBaseline:"middle",translation:[c,h]})}}function HT(i,t){const n=new J0({ctx:i.ctx,options:t,chart:i});tn.configure(i,n,t),tn.addBox(i,n),i.titleBlock=n}var qT={id:"title",_element:J0,start(i,t,n){HT(i,n)},stop(i){const t=i.titleBlock;tn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,n){const a=i.titleBlock;tn.configure(i,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ur={average(i){if(!i.length)return!1;let t,n,a=new Set,l=0,o=0;for(t=0,n=i.length;t<n;++t){const h=i[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();a.add(d.x),l+=d.y,++o}}return o===0||a.size===0?!1:{x:[...a].reduce((h,d)=>h+d)/a.size,y:l/o}},nearest(i,t){if(!i.length)return!1;let n=t.x,a=t.y,l=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=i.length;o<c;++o){const d=i[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),p=e1(t,m);p<l&&(l=p,h=d)}}if(h){const d=h.tooltipPosition();n=d.x,a=d.y}return{x:n,y:a}}};function yn(i,t){return t&&(se(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Hn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function VT(i,t){const{element:n,datasetIndex:a,index:l}=t,o=i.getDatasetMeta(a).controller,{label:c,value:h}=o.getLabelAndValue(l);return{chart:i,label:c,parsed:o.getParsed(l),raw:i.data.datasets[a].data[l],formattedValue:h,dataset:o.getDataset(),dataIndex:l,datasetIndex:a,element:n}}function Ny(i,t){const n=i.chart.ctx,{body:a,footer:l,title:o}=i,{boxWidth:c,boxHeight:h}=t,d=pe(t.bodyFont),m=pe(t.titleFont),p=pe(t.footerFont),b=o.length,v=l.length,w=a.length,x=nn(t.padding);let S=x.height,E=0,R=a.reduce((U,Y)=>U+Y.before.length+Y.lines.length+Y.after.length,0);if(R+=i.beforeBody.length+i.afterBody.length,b&&(S+=b*m.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),R){const U=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;S+=w*U+(R-w)*d.lineHeight+(R-1)*t.bodySpacing}v&&(S+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let z=0;const C=function(U){E=Math.max(E,n.measureText(U).width+z)};return n.save(),n.font=m.string,Ct(i.title,C),n.font=d.string,Ct(i.beforeBody.concat(i.afterBody),C),z=t.displayColors?c+2+t.boxPadding:0,Ct(a,U=>{Ct(U.before,C),Ct(U.lines,C),Ct(U.after,C)}),z=0,n.font=p.string,Ct(i.footer,C),n.restore(),E+=x.width,{width:E,height:S}}function $T(i,t){const{y:n,height:a}=t;return n<a/2?"top":n>i.height-a/2?"bottom":"center"}function PT(i,t,n,a){const{x:l,width:o}=a,c=n.caretSize+n.caretPadding;if(i==="left"&&l+o+c>t.width||i==="right"&&l-o-c<0)return!0}function IT(i,t,n,a){const{x:l,width:o}=n,{width:c,chartArea:{left:h,right:d}}=i;let m="center";return a==="center"?m=l<=(h+d)/2?"left":"right":l<=o/2?m="left":l>=c-o/2&&(m="right"),PT(m,i,t,n)&&(m="center"),m}function Uy(i,t,n){const a=n.yAlign||t.yAlign||$T(i,n);return{xAlign:n.xAlign||t.xAlign||IT(i,t,n,a),yAlign:a}}function YT(i,t){let{x:n,width:a}=i;return t==="right"?n-=a:t==="center"&&(n-=a/2),n}function GT(i,t,n){let{y:a,height:l}=i;return t==="top"?a+=n:t==="bottom"?a-=l+n:a-=l/2,a}function Ly(i,t,n,a){const{caretSize:l,caretPadding:o,cornerRadius:c}=i,{xAlign:h,yAlign:d}=n,m=l+o,{topLeft:p,topRight:b,bottomLeft:v,bottomRight:w}=Zs(c);let x=YT(t,h);const S=GT(t,d,m);return d==="center"?h==="left"?x+=m:h==="right"&&(x-=m):h==="left"?x-=Math.max(p,v)+l:h==="right"&&(x+=Math.max(b,w)+l),{x:hn(x,0,a.width-t.width),y:hn(S,0,a.height-t.height)}}function ro(i,t,n){const a=nn(n.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-a.right:i.x+a.left}function By(i){return yn([],Hn(i))}function KT(i,t,n){return ia(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Hy(i,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}const W0={beforeTitle:Ln,title(i){if(i.length>0){const t=i[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:Ln,beforeBody:Ln,beforeLabel:Ln,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const n=i.formattedValue;return Nt(n)||(t+=n),t},labelColor(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ln,afterBody:Ln,beforeFooter:Ln,footer:Ln,afterFooter:Ln};function Ae(i,t,n,a){const l=i[t].call(n,a);return typeof l>"u"?W0[t].call(n,a):l}class qy extends sa{static positioners=ur;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,a=this.options.setContext(this.getContext()),l=a.enabled&&n.options.animation&&a.animations,o=new U0(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:a}=n,l=Ae(a,"beforeTitle",this,t),o=Ae(a,"title",this,t),c=Ae(a,"afterTitle",this,t);let h=[];return h=yn(h,Hn(l)),h=yn(h,Hn(o)),h=yn(h,Hn(c)),h}getBeforeBody(t,n){return By(Ae(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:a}=n,l=[];return Ct(t,o=>{const c={before:[],lines:[],after:[]},h=Hy(a,o);yn(c.before,Hn(Ae(h,"beforeLabel",this,o))),yn(c.lines,Ae(h,"label",this,o)),yn(c.after,Hn(Ae(h,"afterLabel",this,o))),l.push(c)}),l}getAfterBody(t,n){return By(Ae(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:a}=n,l=Ae(a,"beforeFooter",this,t),o=Ae(a,"footer",this,t),c=Ae(a,"afterFooter",this,t);let h=[];return h=yn(h,Hn(l)),h=yn(h,Hn(o)),h=yn(h,Hn(c)),h}_createItems(t){const n=this._active,a=this.chart.data,l=[],o=[],c=[];let h=[],d,m;for(d=0,m=n.length;d<m;++d)h.push(VT(this.chart,n[d]));return t.filter&&(h=h.filter((p,b,v)=>t.filter(p,b,v,a))),t.itemSort&&(h=h.sort((p,b)=>t.itemSort(p,b,a))),Ct(h,p=>{const b=Hy(t.callbacks,p);l.push(Ae(b,"labelColor",this,p)),o.push(Ae(b,"labelPointStyle",this,p)),c.push(Ae(b,"labelTextColor",this,p))}),this.labelColors=l,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,n){const a=this.options.setContext(this.getContext()),l=this._active;let o,c=[];if(!l.length)this.opacity!==0&&(o={opacity:0});else{const h=ur[a.position].call(this,l,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const d=this._size=Ny(this,a),m=Object.assign({},h,d),p=Uy(this.chart,a,m),b=Ly(a,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,l){const o=this.getCaretPosition(t,a,l);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,a){const{xAlign:l,yAlign:o}=this,{caretSize:c,cornerRadius:h}=a,{topLeft:d,topRight:m,bottomLeft:p,bottomRight:b}=Zs(h),{x:v,y:w}=t,{width:x,height:S}=n;let E,R,z,C,U,Y;return o==="center"?(U=w+S/2,l==="left"?(E=v,R=E-c,C=U+c,Y=U-c):(E=v+x,R=E+c,C=U-c,Y=U+c),z=E):(l==="left"?R=v+Math.max(d,p)+c:l==="right"?R=v+x-Math.max(m,b)-c:R=this.caretX,o==="top"?(C=w,U=C-c,E=R-c,z=R+c):(C=w+S,U=C+c,E=R+c,z=R-c),Y=C),{x1:E,x2:R,x3:z,y1:C,y2:U,y3:Y}}drawTitle(t,n,a){const l=this.title,o=l.length;let c,h,d;if(o){const m=ta(a.rtl,this.x,this.width);for(t.x=ro(this,a.titleAlign,a),n.textAlign=m.textAlign(a.titleAlign),n.textBaseline="middle",c=pe(a.titleFont),h=a.titleSpacing,n.fillStyle=a.titleColor,n.font=c.string,d=0;d<o;++d)n.fillText(l[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,d+1===o&&(t.y+=a.titleMarginBottom-h)}}_drawColorBox(t,n,a,l,o){const c=this.labelColors[a],h=this.labelPointStyles[a],{boxHeight:d,boxWidth:m}=o,p=pe(o.bodyFont),b=ro(this,"left",o),v=l.x(b),w=d<p.lineHeight?(p.lineHeight-d)/2:0,x=n.y+w;if(o.usePointStyle){const S={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},E=l.leftForLtr(v,m)+m/2,R=x+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ty(t,S,E,R),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,ty(t,S,E,R)}else{t.lineWidth=Et(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const S=l.leftForLtr(v,m),E=l.leftForLtr(l.xPlus(v,1),m-2),R=Zs(c.borderRadius);Object.values(R).some(z=>z!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,vo(t,{x:S,y:x,w:m,h:d,radius:R}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),vo(t,{x:E,y:x+1,w:m-2,h:d-2,radius:R}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(S,x,m,d),t.strokeRect(S,x,m,d),t.fillStyle=c.backgroundColor,t.fillRect(E,x+1,m-2,d-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){const{body:l}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:p}=a,b=pe(a.bodyFont);let v=b.lineHeight,w=0;const x=ta(a.rtl,this.x,this.width),S=function(F){n.fillText(F,x.x(t.x+w),t.y+v/2),t.y+=v+o},E=x.textAlign(c);let R,z,C,U,Y,I,P;for(n.textAlign=c,n.textBaseline="middle",n.font=b.string,t.x=ro(this,E,a),n.fillStyle=a.bodyColor,Ct(this.beforeBody,S),w=h&&E!=="right"?c==="center"?m/2+p:m+2+p:0,U=0,I=l.length;U<I;++U){for(R=l[U],z=this.labelTextColors[U],n.fillStyle=z,Ct(R.before,S),C=R.lines,h&&C.length&&(this._drawColorBox(n,t,U,x,a),v=Math.max(b.lineHeight,d)),Y=0,P=C.length;Y<P;++Y)S(C[Y]),v=b.lineHeight;Ct(R.after,S)}w=0,v=b.lineHeight,Ct(this.afterBody,S),t.y-=o}drawFooter(t,n,a){const l=this.footer,o=l.length;let c,h;if(o){const d=ta(a.rtl,this.x,this.width);for(t.x=ro(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=d.textAlign(a.footerAlign),n.textBaseline="middle",c=pe(a.footerFont),n.fillStyle=a.footerColor,n.font=c.string,h=0;h<o;++h)n.fillText(l[h],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+a.footerSpacing}}drawBackground(t,n,a,l){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=t,{width:m,height:p}=a,{topLeft:b,topRight:v,bottomLeft:w,bottomRight:x}=Zs(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(h+b,d),c==="top"&&this.drawCaret(t,n,a,l),n.lineTo(h+m-v,d),n.quadraticCurveTo(h+m,d,h+m,d+v),c==="center"&&o==="right"&&this.drawCaret(t,n,a,l),n.lineTo(h+m,d+p-x),n.quadraticCurveTo(h+m,d+p,h+m-x,d+p),c==="bottom"&&this.drawCaret(t,n,a,l),n.lineTo(h+w,d+p),n.quadraticCurveTo(h,d+p,h,d+p-w),c==="center"&&o==="left"&&this.drawCaret(t,n,a,l),n.lineTo(h,d+b),n.quadraticCurveTo(h,d,h+b,d),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,a=this.$animations,l=a&&a.x,o=a&&a.y;if(l||o){const c=ur[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Ny(this,t),d=Object.assign({},c,this._size),m=Uy(n,t,d),p=Ly(t,d,m,n);(l._to!==p.x||o._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},o={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=nn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=a,this.drawBackground(o,t,l,n),z0(t,n.textDirection),o.y+=c.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),N0(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const a=this._active,l=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!mo(a,l),c=this._positionChanged(l,n);(o||c)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,o=this._active||[],c=this._getActiveElements(t,o,n,a),h=this._positionChanged(c,t),d=n||!mo(c,o)||h;return d&&(this._active=c,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),d}_getActiveElements(t,n,a,l){const o=this.options;if(t.type==="mouseout")return[];if(!l)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,a);return o.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:a,caretY:l,options:o}=this,c=ur[o.position].call(this,t,n);return c!==!1&&(a!==c.x||l!==c.y)}}var FT={id:"tooltip",_element:qy,positioners:ur,afterInit(i,t,n){n&&(i.tooltip=new qy({chart:i,options:n}))},beforeUpdate(i,t,n){i.tooltip&&i.tooltip.initialize(n)},reset(i,t,n){i.tooltip&&i.tooltip.initialize(n)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",n)}},afterEvent(i,t){if(i.tooltip){const n=t.replay;i.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:W0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const XT=(i,t,n,a)=>(typeof t=="string"?(n=i.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function QT(i,t,n,a){const l=i.indexOf(t);if(l===-1)return XT(i,t,n,a);const o=i.lastIndexOf(t);return l!==o?n:l}const JT=(i,t)=>i===null?null:hn(Math.round(i),0,t);function Vy(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class WT extends aa{static id="category";static defaults={ticks:{callback:Vy}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:l,label:o}of n)a[l]===o&&a.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Nt(t))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:QT(a,t,Ot(n,t),this._addedLabels),JT(n,a.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(l=this.getLabels().length-1)),this.min=a,this.max=l}buildTicks(){const t=this.min,n=this.max,a=this.options.offset,l=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=t;c<=n;c++)l.push({value:c});return l}getLabelForValue(t){return Vy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function ZT(i,t){const n=[],{bounds:l,step:o,min:c,max:h,precision:d,count:m,maxTicks:p,maxDigits:b,includeBounds:v}=i,w=o||1,x=p-1,{min:S,max:E}=t,R=!Nt(c),z=!Nt(h),C=!Nt(m),U=(E-S)/(b+1);let Y=Yp((E-S)/x/w)*w,I,P,F,W;if(Y<1e-14&&!R&&!z)return[{value:S},{value:E}];W=Math.ceil(E/Y)-Math.floor(S/Y),W>x&&(Y=Yp(W*Y/x/w)*w),Nt(d)||(I=Math.pow(10,d),Y=Math.ceil(Y*I)/I),l==="ticks"?(P=Math.floor(S/Y)*Y,F=Math.ceil(E/Y)*Y):(P=S,F=E),R&&z&&o&&Jx((h-c)/o,Y/1e3)?(W=Math.round(Math.min((h-c)/Y,p)),Y=(h-c)/W,P=c,F=h):C?(P=R?c:P,F=z?h:F,W=m-1,Y=(F-P)/W):(W=(F-P)/Y,oo(W,Math.round(W),Y/1e3)?W=Math.round(W):W=Math.ceil(W));const ft=Math.max(Gp(Y),Gp(P));I=Math.pow(10,Nt(d)?ft:d),P=Math.round(P*I)/I,F=Math.round(F*I)/I;let rt=0;for(R&&(v&&P!==c?(n.push({value:c}),P<c&&rt++,oo(Math.round((P+rt*Y)*I)/I,c,$y(c,U,i))&&rt++):P<c&&rt++);rt<W;++rt){const lt=Math.round((P+rt*Y)*I)/I;if(z&&lt>h)break;n.push({value:lt})}return z&&v&&F!==h?n.length&&oo(n[n.length-1].value,h,$y(h,U,i))?n[n.length-1].value=h:n.push({value:h}):(!z||F===h)&&n.push({value:F}),n}function $y(i,t,{horizontal:n,minRotation:a}){const l=Zi(a),o=(n?Math.sin(l):Math.cos(l))||.001,c=.75*t*(""+i).length;return Math.min(t/o,c)}class tO extends aa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Nt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:l,max:o}=this;const c=d=>l=n?l:d,h=d=>o=a?o:d;if(t){const d=wi(l),m=wi(o);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(l===o){let d=o===0?1:Math.abs(o*.05);h(o+d),t||c(l-d)}this.min=l,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=t,l;return a?(l=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let a=this.getTickLimit();a=Math.max(2,a);const l={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=ZT(l,o);return t.bounds==="ticks"&&Wx(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){const l=(a-n)/Math.max(t.length-1,1)/2;n-=l,a+=l}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(t){return E0(t,this.chart.options.locale,this.options.ticks.format)}}class eO extends tO{static id="linear";static defaults={ticks:{callback:T0.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=en(t)?t:0,this.max=en(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,a=Zi(this.options.ticks.minRotation),l=(t?Math.sin(a):Math.cos(a))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ro={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Re=Object.keys(Ro);function Py(i,t){return i-t}function Iy(i,t){if(Nt(t))return null;const n=i._adapter,{parser:a,round:l,isoWeekday:o}=i._parseOpts;let c=t;return typeof a=="function"&&(c=a(c)),en(c)||(c=typeof a=="string"?n.parse(c,a):n.parse(c)),c===null?null:(l&&(c=l==="week"&&(bo(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,l)),+c)}function Yy(i,t,n,a){const l=Re.length;for(let o=Re.indexOf(i);o<l-1;++o){const c=Ro[Re[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(h*c.size))<=a)return Re[o]}return Re[l-1]}function nO(i,t,n,a,l){for(let o=Re.length-1;o>=Re.indexOf(n);o--){const c=Re[o];if(Ro[c].common&&i._adapter.diff(l,a,c)>=t-1)return c}return Re[n?Re.indexOf(n):0]}function iO(i){for(let t=Re.indexOf(i)+1,n=Re.length;t<n;++t)if(Ro[Re[t]].common)return Re[t]}function Gy(i,t,n){if(!n)i[t]=!0;else if(n.length){const{lo:a,hi:l}=Gh(n,t),o=n[a]>=t?n[a]:n[l];i[o]=!0}}function sO(i,t,n,a){const l=i._adapter,o=+l.startOf(t[0].value,a),c=t[t.length-1].value;let h,d;for(h=o;h<=c;h=+l.add(h,1,a))d=n[h],d>=0&&(t[d].major=!0);return t}function Ky(i,t,n){const a=[],l={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],l[h]=c,a.push({value:h,major:!1});return o===0||!n?a:sO(i,a,l,n)}class Fy extends aa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const a=t.time||(t.time={}),l=this._adapter=new bE._date(t.adapters.date);l.init(n),fr(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Iy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,a=t.time.unit||"day";let{min:l,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(l=Math.min(l,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=en(l)&&!isNaN(l)?l:+n.startOf(Date.now(),a),o=en(o)&&!isNaN(o)?o:+n.endOf(Date.now(),a)+1,this.min=Math.min(l,o-1),this.max=Math.max(l+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){const t=this.options,n=t.time,a=t.ticks,l=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const o=this.min,c=this.max,h=a1(l,o,c);return this._unit=n.unit||(a.autoSkip?Yy(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):nO(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:iO(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),Ky(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,l,o;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?n=1-l:n=(this.getDecimalForValue(t[1])-l)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?a=o:a=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=hn(n,0,c),a=hn(a,0,c),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const t=this._adapter,n=this.min,a=this.max,l=this.options,o=l.time,c=o.unit||Yy(o.minUnit,n,a,this._getLabelCapacity(n)),h=Ot(l.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,m=bo(d)||d===!0,p={};let b=n,v,w;if(m&&(b=+t.startOf(b,"isoWeek",d)),b=+t.startOf(b,m?"day":c),t.diff(a,n,c)>1e5*h)throw new Error(n+" and "+a+" are too far apart with stepSize of "+h+" "+c);const x=l.ticks.source==="data"&&this.getDataTimestamps();for(v=b,w=0;v<a;v=+t.add(v,h,c),w++)Gy(p,v,x);return(v===a||l.bounds==="ticks"||w===1)&&Gy(p,v,x),Object.keys(p).sort(Py).map(S=>+S)}getLabelForValue(t){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){const l=this.options.time.displayFormats,o=this._unit,c=n||l[o];return this._adapter.format(t,c)}_tickFormatFunction(t,n,a,l){const o=this.options,c=o.ticks.callback;if(c)return Ht(c,[t,n,a],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,p=d&&h[d],b=m&&h[m],v=a[n],w=m&&b&&v&&v.major;return this._adapter.format(t,l||(w?b:p))}generateTickLabels(t){let n,a,l;for(n=0,a=t.length;n<a;++n)l=t[n],l.label=this._tickFormatFunction(l.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,a=this.ctx.measureText(t).width,l=Zi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(l),c=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:a*o+h*c,h:a*c+h*o}}_getLabelCapacity(t){const n=this.options.time,a=n.displayFormats,l=a[n.unit]||a.millisecond,o=this._tickFormatFunction(t,0,Ky(this,[t],this._majorUnit),l),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,a=l.length;n<a;++n)t=t.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,a;if(t.length)return t;const l=this.getLabels();for(n=0,a=l.length;n<a;++n)t.push(Iy(this,l[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _0(t.sort(Py))}}function lo(i,t,n){let a=0,l=i.length-1,o,c,h,d;n?(t>=i[a].pos&&t<=i[l].pos&&({lo:a,hi:l}=Dh(i,"pos",t)),{pos:o,time:h}=i[a],{pos:c,time:d}=i[l]):(t>=i[a].time&&t<=i[l].time&&({lo:a,hi:l}=Dh(i,"time",t)),{time:o,pos:h}=i[a],{time:c,pos:d}=i[l]);const m=c-o;return m?h+(d-h)*(t-o)/m:h}class pO extends Fy{static id="timeseries";static defaults=Fy.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=lo(n,this.min),this._tableRange=lo(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:a}=this,l=[],o=[];let c,h,d,m,p;for(c=0,h=t.length;c<h;++c)m=t[c],m>=n&&m<=a&&l.push(m);if(l.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(c=0,h=l.length;c<h;++c)p=l[c+1],d=l[c-1],m=l[c],Math.round((p+d)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((l,o)=>l-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?t=this.normalize(n.concat(a)):t=n.length?n:a,t=this._cache.all=t,t}getDecimalForValue(t){return(lo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return lo(this._table,a*this._tableRange+this._minPos,!0)}}const Z0="label";function Xy(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function aO(i,t){const n=i.options;n&&t&&Object.assign(n,t)}function tb(i,t){i.labels=t}function eb(i,t,n=Z0){const a=[];i.datasets=t.map(l=>{const o=i.datasets.find(c=>c[n]===l[n]);return!o||!l.data||a.includes(o)?{...l}:(a.push(o),Object.assign(o,l),o)})}function rO(i,t=Z0){const n={labels:[],datasets:[]};return tb(n,i.labels),eb(n,i.datasets,t),n}function lO(i,t){const{height:n=150,width:a=300,redraw:l=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:m=[],fallbackContent:p,updateMode:b,...v}=i,w=xt.useRef(null),x=xt.useRef(null),S=()=>{w.current&&(x.current=new Ao(w.current,{type:c,data:rO(h,o),options:d&&{...d},plugins:m}),Xy(t,x.current))},E=()=>{Xy(t,null),x.current&&(x.current.destroy(),x.current=null)};return xt.useEffect(()=>{!l&&x.current&&d&&aO(x.current,d)},[l,d]),xt.useEffect(()=>{!l&&x.current&&tb(x.current.config.data,h.labels)},[l,h.labels]),xt.useEffect(()=>{!l&&x.current&&h.datasets&&eb(x.current.config.data,h.datasets,o)},[l,h.datasets]),xt.useEffect(()=>{x.current&&(l?(E(),setTimeout(S)):x.current.update(b))},[l,d,h.labels,h.datasets,b]),xt.useEffect(()=>{x.current&&(E(),setTimeout(S))},[c]),xt.useEffect(()=>(S(),()=>E()),[]),N.jsx("canvas",{ref:w,role:"img",height:n,width:a,...v,children:p})}const oO=xt.forwardRef(lO);function uO(i,t){return Ao.register(t),xt.forwardRef((n,a)=>N.jsx(oO,{...n,ref:a,type:i}))}const cO=uO("bar",yE);Ao.register(WT,eO,DT,qT,FT,BT);function hO(){const[i,t]=xt.useState(null);return xt.useEffect(()=>{(async()=>{const{data:a,error:l}=await $e.from("monthly_payments_summary").select("*");if(l){console.error(l);return}const o=a.map(h=>new Date(h.month).toLocaleString("default",{month:"short"})),c=a.map(h=>h.total_amount);t({labels:o,datasets:[{label:"Monthly Revenue ()",data:c,backgroundColor:"rgba(139, 92, 246, 0.6)",borderColor:"rgba(139, 92, 246, 1)",borderWidth:1}]})})()},[]),i?N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-10",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"Monthly Revenue"}),N.jsx(cO,{data:i,options:{responsive:!0,plugins:{legend:{display:!1}}}})]}):N.jsx("p",{className:"text-gray-500",children:"Loading chart..."})}function fO({refreshData:i}){const[t,n]=xt.useState([]),[a,l]=xt.useState(!1),[o,c]=xt.useState(null),[h,d]=xt.useState({}),[m,p]=xt.useState(null),[b,v]=xt.useState(1);async function w(){l(!0);const{data:C,error:U}=await $e.from("students").select("*").order("next_fees_date",{ascending:!0});U?console.error("Error fetching students:",U):n(C||[]),l(!1)}xt.useEffect(()=>{w()},[]);async function x(C){const U=t.find(F=>F.id===C);if(!U)return;const Y=b||1,I=new Date(U.next_fees_date||new Date);I.setMonth(I.getMonth()+Y);const{error:P}=await $e.from("students").update({next_fees_date:I.toISOString(),pending_amount:0}).eq("id",C);P?alert(P.message):(alert(` ${U.name}'s payment marked for ${Y} month(s)!`),p(null),w(),i&&i())}const S=C=>{c(C.id),d({...C})},E=async()=>{const{id:C,...U}=h,{error:Y}=await $e.from("students").update(U).eq("id",C);Y?alert("Error updating: "+Y.message):(alert(" Updated successfully!"),c(null),w(),i&&i())},R=()=>{c(null),d({})};async function z(C){if(!confirm("Delete this student?"))return;const{error:U}=await $e.from("students").delete().eq("id",C);U?alert(U.message):(alert(" Deleted successfully!"),w(),i&&i())}return a?N.jsx("p",{className:"text-center text-gray-600",children:"Loading students..."}):N.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mt-6",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Students List"}),N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"min-w-full border border-gray-200 rounded-lg text-sm",children:[N.jsx("thead",{className:"bg-purple-600 text-white",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-3 py-2",children:"Name"}),N.jsx("th",{className:"px-3 py-2",children:"Floor"}),N.jsx("th",{className:"px-3 py-2",children:"Seat"}),N.jsx("th",{className:"px-3 py-2",children:"Months"}),N.jsx("th",{className:"px-3 py-2",children:"Fees"}),N.jsx("th",{className:"px-3 py-2",children:"Paid"}),N.jsx("th",{className:"px-3 py-2",children:"Pending"}),N.jsx("th",{className:"px-3 py-2",children:"Next Payment"}),N.jsx("th",{className:"px-3 py-2 text-center",children:"Actions"})]})}),N.jsx("tbody",{children:t.map(C=>N.jsx("tr",{className:"border-t hover:bg-gray-50 transition",children:o===C.id?N.jsxs(N.Fragment,{children:[N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"text",value:h.name,onChange:U=>d({...h,name:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsx("td",{className:"px-3 py-2",children:N.jsxs("select",{value:h.floor,onChange:U=>d({...h,floor:U.target.value}),className:"border p-1 rounded w-full",children:[N.jsx("option",{value:"1st Floor",children:"1st Floor"}),N.jsx("option",{value:"2nd Floor",children:"2nd Floor"})]})}),N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"text",value:h.seat_no,onChange:U=>d({...h,seat_no:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"number",value:h.package_months,onChange:U=>d({...h,package_months:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"number",value:h.fees,onChange:U=>d({...h,fees:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"number",value:h.paid,onChange:U=>d({...h,paid:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"number",value:h.pending_amount,onChange:U=>d({...h,pending_amount:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsx("td",{className:"px-3 py-2",children:N.jsx("input",{type:"date",value:h.next_fees_date?h.next_fees_date.split("T")[0]:"",onChange:U=>d({...h,next_fees_date:U.target.value}),className:"border p-1 rounded w-full"})}),N.jsxs("td",{className:"px-3 py-2 text-center space-x-2",children:[N.jsx("button",{onClick:E,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"Save"}),N.jsx("button",{onClick:R,className:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500",children:"Cancel"})]})]}):N.jsxs(N.Fragment,{children:[N.jsx("td",{className:"px-3 py-2 font-medium",children:C.name}),N.jsx("td",{className:"px-3 py-2",children:C.floor}),N.jsx("td",{className:"px-3 py-2",children:C.seat_no}),N.jsx("td",{className:"px-3 py-2 text-center",children:C.package_months}),N.jsxs("td",{className:"px-3 py-2",children:["",C.fees]}),N.jsxs("td",{className:"px-3 py-2",children:["",C.paid]}),N.jsxs("td",{className:"px-3 py-2 text-red-600 font-medium",children:["",C.pending_amount]}),N.jsx("td",{className:"px-3 py-2",children:C.next_fees_date?new Date(C.next_fees_date).toLocaleDateString():""}),N.jsx("td",{className:"px-3 py-2 flex justify-center gap-2",children:m===C.id?N.jsxs(N.Fragment,{children:[N.jsx("select",{value:b,onChange:U=>v(parseInt(U.target.value)),className:"border rounded px-2 py-1",children:[1,2,3,6,12].map(U=>N.jsxs("option",{value:U,children:[U," mo"]},U))}),N.jsx("button",{onClick:()=>x(C.id),className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:""}),N.jsx("button",{onClick:()=>p(null),className:"text-gray-500",children:""})]}):N.jsxs(N.Fragment,{children:[N.jsx("button",{onClick:()=>S(C),className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600",children:"Edit"}),N.jsx("button",{onClick:()=>p(C.id),className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Mark Paid"}),N.jsx("button",{onClick:()=>z(C.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Delete"})]})})]})},C.id))})]})})]})}function dO({session:i}){const[t,n]=xt.useState([]),[a,l]=xt.useState([]),[o,c]=xt.useState(!0),[h,d]=xt.useState({name:"",phone:"",floor:"",seat_no:"",package_months:"",fees:"",paid:"",balance:"",next_fees_date:""}),m=async()=>{c(!0);try{const{data:S}=await $e.from("students").select("*"),{data:E}=await $e.from("payments").select("*");n(S||[]),l(E||[])}catch(S){console.error("Error fetching data:",S.message)}finally{c(!1)}};xt.useEffect(()=>{m()},[]);const p=t.length,b=a.reduce((S,E)=>S+Number(E.amount||0),0),v=t.reduce((S,E)=>{const R=E.floor||"Unknown";return S[R]=(S[R]||0)+1,S},{});xt.useEffect(()=>{const S=parseFloat(h.fees)||0,E=parseFloat(h.paid)||0,R=Math.max(S-E,0),z=parseInt(h.package_months)||0;let C="";if(z>0){const U=new Date;U.setMonth(U.getMonth()+z),C=U.toISOString().split("T")[0]}d(U=>({...U,balance:R,next_fees_date:C}))},[h.fees,h.paid,h.package_months]);const w=async()=>{await $e.auth.signOut(),window.location.reload()},x=async S=>{S.preventDefault();const{name:E,phone:R,floor:z,seat_no:C,package_months:U,fees:Y,paid:I,balance:P,next_fees_date:F}=h;if(!E||!z||!C||!U||!Y){alert(" Please fill all required fields (including seat no).");return}try{const{data:W,error:ft}=await $e.from("students").insert([{name:E,phone:R,floor:z,seat_no:C,package_months:parseInt(U),fees:parseFloat(Y),paid:parseFloat(I)||0,pending_amount:parseFloat(P)||0,next_fees_date:F||null}]).select().single();if(ft)throw ft;W&&I>0&&await $e.from("payments").insert([{student_id:W.id,amount:parseFloat(I),date:new Date().toISOString(),next_due_date:F}]),alert(" Student added successfully!"),d({name:"",phone:"",floor:"",seat_no:"",package_months:"",fees:"",paid:"",balance:"",next_fees_date:""}),m()}catch(W){console.error("Error adding student:",W.message),alert(" Error adding student")}};return o?N.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:N.jsx("p",{className:"text-lg text-gray-600 animate-pulse",children:"Loading dashboard..."})}):N.jsxs("div",{className:"min-h-screen bg-gray-50",children:[N.jsx(bx,{onLogout:w,user:i?.user?.email}),N.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[N.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Academy Dashboard"}),N.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-10",children:[N.jsx(Lp,{title:"Total Students",value:p}),N.jsx(Lp,{title:"Total Payments ()",value:b})]}),N.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Floor Occupancy"}),N.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-10",children:Object.entries(v).map(([S,E])=>N.jsxs("div",{className:"bg-white shadow-md p-4 rounded-lg hover:shadow-xl transition-all",children:[N.jsx("p",{className:"text-gray-600 font-medium",children:S}),N.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[E," students"]})]},S))}),N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-10",children:[N.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Add New Student"}),N.jsxs("form",{onSubmit:x,className:"grid md:grid-cols-3 gap-4 items-end",children:[N.jsx("input",{type:"text",placeholder:"Full Name",className:"border p-2 rounded",value:h.name,onChange:S=>d({...h,name:S.target.value})}),N.jsx("input",{type:"text",placeholder:"Phone Number",className:"border p-2 rounded",value:h.phone,onChange:S=>d({...h,phone:S.target.value})}),N.jsxs("select",{className:"border p-2 rounded",value:h.floor,onChange:S=>d({...h,floor:S.target.value}),children:[N.jsx("option",{value:"",children:"Select Floor"}),N.jsx("option",{value:"1st Floor",children:"1st Floor"}),N.jsx("option",{value:"2nd Floor",children:"2nd Floor"})]}),N.jsx("input",{type:"text",placeholder:"Seat No (e.g., F1 or S10)",className:"border p-2 rounded",value:h.seat_no,onChange:S=>d({...h,seat_no:S.target.value}),required:!0}),N.jsxs("select",{className:"border p-2 rounded",value:h.package_months,onChange:S=>d({...h,package_months:S.target.value}),children:[N.jsx("option",{value:"",children:"Select Package"}),N.jsx("option",{value:"1",children:"1 Month"}),N.jsx("option",{value:"2",children:"2 Months"}),N.jsx("option",{value:"3",children:"3 Months"}),N.jsx("option",{value:"6",children:"6 Months"}),N.jsx("option",{value:"12",children:"12 Months"})]}),N.jsx("input",{type:"number",placeholder:"Total Fees ()",className:"border p-2 rounded",value:h.fees,onChange:S=>d({...h,fees:S.target.value})}),N.jsx("input",{type:"number",placeholder:"Paid ()",className:"border p-2 rounded",value:h.paid,onChange:S=>d({...h,paid:S.target.value})}),N.jsx("input",{type:"number",placeholder:"Balance ()",className:"border p-2 rounded bg-gray-100 cursor-not-allowed",value:h.balance,readOnly:!0}),N.jsx("input",{type:"date",className:"border p-2 rounded bg-gray-50",value:h.next_fees_date,readOnly:!0}),N.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded transition-all",children:" Add Student"})]})]}),N.jsx(fO,{students:t,refreshData:m}),N.jsx(hO,{payments:a}),N.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mt-10",children:[N.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upcoming Payments"}),t.length===0?N.jsx("p",{className:"text-gray-500 italic",children:"No students yet."}):N.jsxs("table",{className:"min-w-full border border-gray-200 text-sm",children:[N.jsx("thead",{className:"bg-purple-600 text-white",children:N.jsxs("tr",{children:[N.jsx("th",{className:"py-2 px-3 text-left",children:"Name"}),N.jsx("th",{className:"py-2 px-3 text-left",children:"Floor"}),N.jsx("th",{className:"py-2 px-3 text-left",children:"Seat No"}),N.jsx("th",{className:"py-2 px-3 text-left",children:"Next Payment Date"}),N.jsx("th",{className:"py-2 px-3 text-left",children:"Days Left"})]})}),N.jsx("tbody",{children:t.filter(S=>S.next_fees_date).sort((S,E)=>new Date(S.next_fees_date)-new Date(E.next_fees_date)).map(S=>{const E=new Date,R=new Date(S.next_fees_date),z=Math.ceil((R-E)/(1e3*60*60*24));return N.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[N.jsx("td",{className:"py-2 px-3",children:S.name}),N.jsx("td",{className:"py-2 px-3",children:S.floor}),N.jsx("td",{className:"py-2 px-3",children:S.seat_no||"-"}),N.jsx("td",{className:"py-2 px-3 text-purple-700 font-semibold",children:new Date(S.next_fees_date).toLocaleDateString()}),N.jsx("td",{className:`py-2 px-3 font-semibold ${z<=3?"text-red-600":z<=7?"text-orange-500":"text-green-600"}`,children:z>0?`${z} days left`:z===0?"Due Today":`Overdue (${Math.abs(z)} days)`})]},S.id)})})]})]})]})]})}function gO(){const[i,t]=xt.useState(null);return xt.useEffect(()=>{$e.auth.getSession().then(({data:a})=>{t(a.session)});const{data:n}=$e.auth.onAuthStateChange((a,l)=>{t(l)});return()=>n.subscription.unsubscribe()},[]),i?N.jsx(dO,{session:i}):N.jsx(yx,{})}U_.createRoot(document.getElementById("root")).render(N.jsx(R_.StrictMode,{children:N.jsx(gO,{})}));
